{"title": "PDF", "author": "PDF", "url": "https://openaccess.uoc.edu/bitstream/10609/144026/7/fgutierrezromTFM062020memoria.pdf", "hostname": "PDF", "description": "PDF", "sitename": "PDF", "date": "PDF", "id": "PDF", "license": "PDF", "body": "PDF", "comments": "PDF", "commentsbody": "PDF", "raw_text": "PDF", "text": "Enfermedades mentales y su relaci\u00f3n con el microbioma\nintestinal\nFrancisco Guti\u00e9rrez Romero\nM\u00e1ster Universitario en Bioinform\u00e1tica y Bioestad\u00edstica\nTFM - Bioinform\u00e1tica y Bioestad\u00edstica \u00c1rea 3\nAndreu Paytuv\u00ed Gallart\nFerran Padros Carrasco\nJunio 2020\"Pronto ser\u00e1 un pecado para los padres tener un hijo\nque lleve la pesada carga de la enfermedad gen\u00e9tica. \"\nBOB EDWARDS\n\"Las \u2019leyes del pensamiento\u2019 no solo dependen\nde las propiedades de las c\u00e9lulas cerebrales,\nsino del modo en que est\u00e1n conectadas. \"\nMARVIN MINSKY\n\"Si en otras ciencias hay que llegar a la certeza, sin duda,\ny a la verdad sin error, nos corresponde poner\nlas bases de los conocimientos en las matem\u00e1ticas. \"\nROGER BACONFICHA DEL TRABAJO FINAL\nT\u00edtulo del trabajo: Enfermedades mentales y su relaci\u00f3n con el microbioma\nintestinal\nNombre del autor: Francisco Guti\u00e9rrez Romero\nNombre del consultor: Andreu Paytuv\u00ed Gallart\nNombre del PRA: Ferran Prados Carrascos\nFecha de entrega (mm/aaaa): 06/2020\nTitulaci\u00f3n: M\u00e1ster Universitario en Bioinform\u00e1tica y Bioestad\u00edstica\n\u00c1rea del trabajo \ufb01nal: TFM \u2013 Bioinform\u00e1tica y Bioestad\u00edstica \u00c1rea 3\nIdioma del trabajo: Castellano\nPalabras clave Disbiosis, microbioma, microbiota, intestino-cerebro, salud,\nmental, enfermedad, transtorno, comportamiento, predic-\nci\u00f3n, aprendizaje autom\u00e1tico, Machine learning\nResumen del trabajo\nLa relaci\u00f3n entre el microbioma intestinal y algunas de las enfermedades mentales m\u00e1s co-\nmunes, es una realidad. Es una certeza que no se puede constatar qu\u00e9 conjunto de unidades\ntaxon\u00f3micas operativas son responsables de estas afectaciones mentales. Hoy en d\u00eda se re-\ncurre a diferentes tratamientos, en funci\u00f3n del trastorno y de la gravedad del mismo. Lo m\u00e1s\nimportante en estos casos es poder llegar a adelantarse a esta situaci\u00f3n degenerativa y poder\npredecir a tiempo cualquiera de estas enfermedades.\nEste trabajo se centra en esto mismo, en la predicci\u00f3n de enfermedades mentales que pueda\nllegar a desarrollar cualquier persona, bas\u00e1ndose principalmente en el microbioma intestinal\ny en ciertos h\u00e1bitos de comportamiento. Cada individuo tiene su propia microbiota, formada\npor un determinado tipo de bacterias, algunas con m\u00e1s presencia que otras, lo que se conoce\ncomo enterotipo intestinal .\nA partir del an\u00e1lisis de los datos proporcionados, se ha desarrollado una aplicaci\u00f3n de soft-\nware de predicci\u00f3n para detectar enfermedades mentales. Dicha herramienta supone la parte\npr\u00e1ctica de un estudio basado en el entrenamiento autom\u00e1tico para el ajuste de un modelo\npredictor. La aplicaci\u00f3n permite al usuario realizar ajustes antes del entrenamiento, como la\nelecci\u00f3n de los algoritmos de clasi\ufb01caci\u00f3n, decidir el porcentaje de balanceo de los datos, o\nincluso, insertar la taxonom\u00eda de un grupo de pacientes para ser diagnosticados de un posible\ntrastorno mental.\nDurante el trascurso de este documento se describir\u00e1n los m\u00e9todos y t\u00e9cnicas utilizadas, y\nlas caracter\u00edsiticas de las herramientas necesarias. Finalmente, se presentan los resultados\nfruto del experimento, que demuestran la e\ufb01cacia del an\u00e1lisis en su totalidad.Abstract\nThe relationship between the gut microbiome and some of the most common mental illnesses,\nit is a reality. It is a certainty that it cannot be veri\ufb01ed which set of operational taxonomic unit\nare responsible for these mental disorders. Today it is used different treatments, depending\non the disorder and its severity. The most important in these cases is to be able to anticipate\nthis degenerative situation and to be able to predict any of these diseases.\nThis work focuses on this very thing, on predicting mental illnesses that can be developed by\nany person, mainly based on the intestinal microbiome and in certain behavior habits. Each\nindividual has their own microbiota, formed by a certain type of bacteria, some with more\npresence than others, what is known as intestinal enterotype .\nFrom the analysis of the data provided, a software application has been developed of predic-\ntion to detect mental illnesses. This tool is the practical part of a study based on automatic\ntraining to \ufb01t a predictive model. The application allows the user to make adjustments before\ntraining, such as choosing the classi\ufb01cation algorithms, decide the percentage of data ba-\nlancing, or even insert the taxonomy of a group of patients to be diagnosed with a possible\nmental disorder.\nThis document shows the methods and techniques used and the characteristics of the neces-\nsary tools. Finally, the results of the experiment are presented, that demonstrate the effective-\nness of the analysis in its entirety.\nvvi\u00cdndice general\n1 Introducci\u00f3n 1\n1.1 Contexto y justi\ufb01caci\u00f3n del Trabajo . . . . . . . . . . . . . . . . . . . . . . . 1\n1.2 Objetivos del Trabajo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2\n1.2.1 Objetivos generales . . . . . . . . . . . . . . . . . . . . . . . . . . . 3\n1.2.2 Objetivos espec\u00ed\ufb01cos . . . . . . . . . . . . . . . . . . . . . . . . . . . 3\n1.3 Enfoque y m\u00e9todo seguido . . . . . . . . . . . . . . . . . . . . . . . . . . . 4\n1.4 Plani\ufb01caci\u00f3n del Trabajo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5\n1.4.1 Preparaci\u00f3n de los datos . . . . . . . . . . . . . . . . . . . . . . . . . 6\n1.4.2 Estad\u00edstica descriptiva y normalizaci\u00f3n . . . . . . . . . . . . . . . . . 6\n1.4.3 Algoritmos Machine Learning . . . . . . . . . . . . . . . . . . . . . . 6\n1.4.4 Generaci\u00f3n del modelo . . . . . . . . . . . . . . . . . . . . . . . . . 7\n1.4.5 Interfaz de usuario . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7\n1.4.6 Comunicaci\u00f3n Python/R . . . . . . . . . . . . . . . . . . . . . . . . . 8\n1.4.7 Pruebas unitarias . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8\n1.4.8 Hitos . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8\n1.5 Breve sumario de productos obtenidos . . . . . . . . . . . . . . . . . . . . . 9\n1.5.1 Memoria . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n1.5.2 Productos . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n1.5.3 Presentaci\u00f3n . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n1.5.4 Autoevaluaci\u00f3n . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\n1.6 Breve descripci\u00f3n de los otros cap\u00edtulos de la memoria . . . . . . . . . . . . 10\n2 Metodolog\u00eda 11\n2.1 Introducci\u00f3n . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11\nvii2.2 An\u00e1lisis de los datos . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13\n2.2.1 Recolecci\u00f3n de los datos . . . . . . . . . . . . . . . . . . . . . . . . 13\n2.2.2 Extracci\u00f3n y \ufb01ltrado de los datos . . . . . . . . . . . . . . . . . . . . 14\n2.2.3 Estad\u00edstica descriptiva . . . . . . . . . . . . . . . . . . . . . . . . . . 15\n2.3 Evaluaci\u00f3n de los algoritmos de clasi\ufb01caci\u00f3n . . . . . . . . . . . . . . . . . 22\n2.3.1 Planteamiento . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\n2.3.2 Re-sampling . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22\n2.3.3 Boost Decision Trees . . . . . . . . . . . . . . . . . . . . . . . . . . . 23\n2.3.4 Boost Decision Trees Resultados . . . . . . . . . . . . . . . . . . . . 25\n2.3.5 Support Vector Machine . . . . . . . . . . . . . . . . . . . . . . . . . 28\n2.3.6 Support Vector Machine Resultados . . . . . . . . . . . . . . . . . . 30\n2.3.7 Random Forest . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33\n2.3.8 Random Forest Resultados . . . . . . . . . . . . . . . . . . . . . . . 34\n2.4 Software . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37\n2.4.1 Tecnolog\u00edas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37\n2.4.2 Interfaz gr\u00e1\ufb01ca de usuario . . . . . . . . . . . . . . . . . . . . . . . . 38\n2.4.3 Resultados . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45\n3 Conclusiones 53\nGlosario 57\nBibliogra\ufb01a 59\nAnexos 62\nA M\u00e9todos y funciones de la aplicaci\u00f3n 65\nA.1 Front-end . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 65\nA.2 Back-end . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 67\nA.3 Llamadas a las funciones R . . . . . . . . . . . . . . . . . . . . . . . . . . . 70\nB Distribuciones 73\nB.1 Estad\u00edstica descriptiva . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nviiiC Clasi\ufb01cadores 79\n\u00cdndice de \ufb01guras\nFigura 1.1 Estimaci\u00f3n del tiempo . . . . . . . . . . . . . . . . . . . . . . . . . . 5\nFigura 1.2 Diagrama de Gantt . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\nFigura 2.1 Representaci\u00f3n de la matriz taxon\u00f3mica . . . . . . . . . . . . . . . . 17\nFigura 2.2 Boxplot OTUs sin normalizar con m\u00e1s apariciones . . . . . . . . . . 17\nFigura 2.3 Boxplot OTUs normalizados con m\u00e1s apariciones . . . . . . . . . . . 18\nFigura 2.4 PCA . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\nFigura 2.5 Representaci\u00f3n gr\u00e1\ufb01ca PCoA de la poblaci\u00f3n taxon\u00f3mica con los\n\ufb01ltros sobre los taxones Pseudomonas y(unkn.) Enterobacteiaceae(f) apli-\ncados . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\nFigura 2.6 Representaci\u00f3n de la matriz de caracter\u00edsticas . . . . . . . . . . . . 20\nFigura 2.7 Representaci\u00f3n de la matriz de enfermedades mentales. . . . . . . 20\nFigura 2.8 Distribuci\u00f3n de las enfermedades mentales . . . . . . . . . . . . . . 21\nFigura 2.9 Representaci\u00f3n gr\u00e1\ufb01ca de Re-sampling . . . . . . . . . . . . . . . . 23\nFigura 2.10 Boost Decision Tree . . . . . . . . . . . . . . . . . . . . . . . . . . . 24\nFigura 2.11 No sampling Depression . . . . . . . . . . . . . . . . . . . . . . . . . 26\nFigura 2.12 No sampling Schizophrenia . . . . . . . . . . . . . . . . . . . . . . . 26\nFigura 2.13 Under sampling Depression . . . . . . . . . . . . . . . . . . . . . . . 26\nFigura 2.14 Under sampling Schizophrenia . . . . . . . . . . . . . . . . . . . . . 26\nFigura 2.15 Over sampling Depression . . . . . . . . . . . . . . . . . . . . . . . . 27\nFigura 2.16 Over sampling Schizophrenia . . . . . . . . . . . . . . . . . . . . . . 27\nFigura 2.17 Support Vector Machine . . . . . . . . . . . . . . . . . . . . . . . . . 28\nFigura 2.18 No sampling Depression kernel lineal . . . . . . . . . . . . . . . . . . 30\nFigura 2.19 No sampling Schizophrenia kernel lineal . . . . . . . . . . . . . . . . 30\nFigura 2.20 No sampling Depression kernel polinomial . . . . . . . . . . . . . . . 30\nixFigura 2.21 No sampling Schizophrenia kernel polinomial . . . . . . . . . . . . . 30\nFigura 2.22 Under sampling Depression kernel lineal. . . . . . . . . . . . . . . . 31\nFigura 2.23 Under sampling Schizophrenia kernel lineal . . . . . . . . . . . . . . 31\nFigura 2.24 Under sampling Depression kernel polinomial . . . . . . . . . . . . . 31\nFigura 2.25 Under sampling Schizophrenia kernel polinomial . . . . . . . . . . . 31\nFigura 2.26 Over sampling Depression kernel lineal. . . . . . . . . . . . . . . . . 32\nFigura 2.27 Over sampling Schizophrenia kernel lineal. . . . . . . . . . . . . . . 32\nFigura 2.28 Over sampling Depression kernel polinomial . . . . . . . . . . . . . . 32\nFigura 2.29 Over sampling Schizophrenia kernel polinomial . . . . . . . . . . . . 32\nFigura 2.30 Random Forest . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33\nFigura 2.31 No sampling Depression. . . . . . . . . . . . . . . . . . . . . . . . . 34\nFigura 2.32 No sampling Schizophrenia. . . . . . . . . . . . . . . . . . . . . . . . 34\nFigura 2.33 Under sampling Depression. . . . . . . . . . . . . . . . . . . . . . . . 35\nFigura 2.34 Under sampling Schizophrenia. . . . . . . . . . . . . . . . . . . . . . 35\nFigura 2.35 Over sampling Depression. . . . . . . . . . . . . . . . . . . . . . . . 36\nFigura 2.36 Over sampling Schizophrenia. . . . . . . . . . . . . . . . . . . . . . . 36\nFigura 2.37 MIPredictor Logo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38\nFigura 2.38 MIPredictor Taxonomy . . . . . . . . . . . . . . . . . . . . . . . . . . 38\nFigura 2.39 MIPredictor Metadata . . . . . . . . . . . . . . . . . . . . . . . . . . 39\nFigura 2.40 MIPredictor Classi\ufb01ers . . . . . . . . . . . . . . . . . . . . . . . . . . 40\nFigura 2.41 MIPredictor Trainning . . . . . . . . . . . . . . . . . . . . . . . . . . . 42\nFigura 2.42 MIPredictor Patients . . . . . . . . . . . . . . . . . . . . . . . . . . . 43\nFigura 2.43 MIPredictor Predictions . . . . . . . . . . . . . . . . . . . . . . . . . 44\nFigura 2.44 Resultados en la detecci\u00f3n de Anorexia nervosa, Bipolar disorder,\nDepression y Post traumatic stress disorder . . . . . . . . . . . . . . . . . . 45\nFigura 2.45 Resultados en la detecci\u00f3n de Anorexia nervosa, Depression y Post\ntraumatic stress disorder. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46\nFigura 2.46 Resultados en la detecci\u00f3n de Depression y Schizophrenia. . . . . . 46\nFigura 2.47 Resultados en la detecci\u00f3n de Bulimia nervosa, Depression y Schi-\nzophrenia. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 46\nFigura 2.48 Distribuci\u00f3n de los resultados obtenidos. . . . . . . . . . . . . . . . . 47\nxFigura 2.49 Variables m\u00e1s importantes en la predicci\u00f3n de la Anorexia nervosa . 48\nFigura 2.50 Variables m\u00e1s importantes en la predicci\u00f3n de la Bipolar disorder . . 48\nFigura 2.51 Variables m\u00e1s importantes en la predicci\u00f3n de la Bulimia nervosa . . 49\nFigura 2.52 Variables m\u00e1s importantes en la predicci\u00f3n de la Depression . . . . 49\nFigura 2.53 Variables m\u00e1s importantes en la predicci\u00f3n de la Post traumatic\nstress disorder . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\nFigura 2.54 Variables m\u00e1s importantes en la predicci\u00f3n de la Schizophrenia . . . 50\nFigura 2.55 Variables m\u00e1s importantes en la predicci\u00f3n de Susbstance abuse . . 51\nFigura B.1 Distribuci\u00f3n de los datos referente a la edad, el sexo, la altura y el\npeso . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\nFigura B.2 Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia en la ingesta de vegetales,\nmarisco, fruta y carne roja . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\nFigura B.3 Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia en la toma de un litro de agua,\nbebidas azucaradas, alcohol y tabaco . . . . . . . . . . . . . . . . . . . . . 74\nFigura B.4 Representaci\u00f3n gr\u00e1\ufb01ca de los datos referente a la duraci\u00f3n del sue-\n\u00f1o, diagn\u00f3stico de tener migra\u00f1a, re\ufb02ujo de \u00e1cidos y enfermedades cardio-\nvasculares . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 75\nFigura B.5 Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia del uso de cosm\u00e9ticos, ejerci-\ncio y vacuna para la gripe, adem\u00e1s del tipo de anticonceptivo usado . . . . 75\nFigura B.6 Representaci\u00f3n gr\u00e1\ufb01ca de los datos referente enfermedades de ri-\n\u00f1\u00f3n, h\u00edgado y pulm\u00f3n, y la frecuencia de consumo de huevo de carne. . . . 76\nFigura B.7 Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia del consumo de queso, multi-\nvitaminas y probi\u00f3ticos, adem\u00e1s de la condici\u00f3n de estar embarazada . . . 76\nFigura B.8 Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia del consumo de snaks, azu-\ncar, vitamina b y vitamina d . . . . . . . . . . . . . . . . . . . . . . . . . . . 77\nFigura C.1 No sampling Anorexia - RF . . . . . . . . . . . . . . . . . . . . . . . 79\nFigura C.2 No sampling Anorexia - BDT . . . . . . . . . . . . . . . . . . . . . . . 79\nFigura C.3 No sampling Anorexia - SVM lineal . . . . . . . . . . . . . . . . . . . 80\nFigura C.4 No sampling Anorexia - SVM polynomial . . . . . . . . . . . . . . . . 80\nFigura C.5 Under sampling Anorexia - RF . . . . . . . . . . . . . . . . . . . . . . 80\nxiFigura C.6 Under sampling Anorexia - BDT . . . . . . . . . . . . . . . . . . . . . 80\nFigura C.7 Under sampling Anorexia - SVM lineal . . . . . . . . . . . . . . . . . 80\nFigura C.8 Under sampling Anorexia - SVM polynomial . . . . . . . . . . . . . . 80\nFigura C.9 Over sampling Anorexia - RF . . . . . . . . . . . . . . . . . . . . . . 81\nFigura C.10 Over sampling Anorexia - BDT . . . . . . . . . . . . . . . . . . . . . 81\nFigura C.11 Over sampling Anorexia - SVM lineal . . . . . . . . . . . . . . . . . . 81\nFigura C.12 Over sampling Anorexia - SVM polynomial . . . . . . . . . . . . . . . 81\nFigura C.13 No sampling Bipolar - RF . . . . . . . . . . . . . . . . . . . . . . . . 81\nFigura C.14 No sampling Bipolar - BDT . . . . . . . . . . . . . . . . . . . . . . . . 81\nFigura C.15 No sampling Bipolar - SVM lineal . . . . . . . . . . . . . . . . . . . . 82\nFigura C.16 No sampling Bipolar - SVM polynomial . . . . . . . . . . . . . . . . . 82\nFigura C.17 Under sampling Bipolar - RF . . . . . . . . . . . . . . . . . . . . . . . 82\nFigura C.18 Under sampling Bipolar - BDT . . . . . . . . . . . . . . . . . . . . . . 82\nFigura C.19 Under sampling Bipolar - SVM lineal . . . . . . . . . . . . . . . . . . 82\nFigura C.20 Under sampling Bipolar - SVM polynomial . . . . . . . . . . . . . . . 82\nFigura C.21 Over sampling Bipolar - RF . . . . . . . . . . . . . . . . . . . . . . . 83\nFigura C.22 Over sampling Bipolar - BDT . . . . . . . . . . . . . . . . . . . . . . 83\nFigura C.23 Over sampling Bipolar - SVM lineal . . . . . . . . . . . . . . . . . . . 83\nFigura C.24 Over sampling Bipolar - SVM polynomial . . . . . . . . . . . . . . . . 83\nFigura C.25 No sampling Bulimia - RF . . . . . . . . . . . . . . . . . . . . . . . . 83\nFigura C.26 No sampling Bulimia - BDT . . . . . . . . . . . . . . . . . . . . . . . 83\nFigura C.27 No sampling Bulimia - SVM lineal . . . . . . . . . . . . . . . . . . . . 84\nFigura C.28 No sampling Bulimia - SVM polynomial . . . . . . . . . . . . . . . . . 84\nFigura C.29 Under sampling Bulimia - RF . . . . . . . . . . . . . . . . . . . . . . 84\nFigura C.30 Under sampling Bulimia - BDT . . . . . . . . . . . . . . . . . . . . . . 84\nFigura C.31 Under sampling Bulimia - SVM lineal . . . . . . . . . . . . . . . . . . 84\nFigura C.32 Under sampling Bulimia - SVM polynomial . . . . . . . . . . . . . . . 84\nFigura C.33 Over sampling Bulimia - RF . . . . . . . . . . . . . . . . . . . . . . . 85\nFigura C.34 Over sampling Bulimia - BDT . . . . . . . . . . . . . . . . . . . . . . 85\nFigura C.35 Over sampling Bulimia - SVM lineal . . . . . . . . . . . . . . . . . . . 85\nFigura C.36 Over sampling Bulimia - SVM polynomial . . . . . . . . . . . . . . . . 85\nxiiFigura C.37 No sampling Post traumatic stress disorder - RF . . . . . . . . . . . 85\nFigura C.38 No sampling PTSD - BDT . . . . . . . . . . . . . . . . . . . . . . . . 85\nFigura C.39 No sampling PTSD - SVM lineal . . . . . . . . . . . . . . . . . . . . . 86\nFigura C.40 No sampling PTSD - SVM polynomial . . . . . . . . . . . . . . . . . 86\nFigura C.41 Under sampling PTSD - RF . . . . . . . . . . . . . . . . . . . . . . . 86\nFigura C.42 Under sampling PTSD - BDT . . . . . . . . . . . . . . . . . . . . . . 86\nFigura C.43 Under sampling PTSD - SVM lineal . . . . . . . . . . . . . . . . . . . 86\nFigura C.44 Under sampling PTSD - SVM polynomial . . . . . . . . . . . . . . . . 86\nFigura C.45 Over sampling PTSD - RF . . . . . . . . . . . . . . . . . . . . . . . . 87\nFigura C.46 Over sampling PTSD - BDT . . . . . . . . . . . . . . . . . . . . . . . 87\nFigura C.47 Over sampling PTSD - SVM lineal . . . . . . . . . . . . . . . . . . . 87\nFigura C.48 Over sampling PTSD - SVM polynomial . . . . . . . . . . . . . . . . 87\nFigura C.49 No sampling Substance Abuse - RF . . . . . . . . . . . . . . . . . . 87\nFigura C.50 No sampling Substance Abuse - BDT . . . . . . . . . . . . . . . . . 87\nFigura C.51 No sampling Substance Abuse - SVM lineal . . . . . . . . . . . . . . 88\nFigura C.52 No sampling Substance Abuse - SVM polynomial . . . . . . . . . . . 88\nFigura C.53 Under sampling Substance Abuse - RF . . . . . . . . . . . . . . . . 88\nFigura C.54 Under sampling Substance Abuse - BDT . . . . . . . . . . . . . . . . 88\nFigura C.55 Under sampling Substance Abuse - SVM lineal . . . . . . . . . . . . 88\nFigura C.56 Under sampling Substance Abuse - SVM polynomial . . . . . . . . . 88\nFigura C.57 Over sampling Substance Abuse - RF . . . . . . . . . . . . . . . . . 89\nFigura C.58 Over sampling Substance Abuse - BDT . . . . . . . . . . . . . . . . 89\nFigura C.59 Over sampling Substance Abuse - SVM lineal . . . . . . . . . . . . . 89\nFigura C.60 Over sampling Substance Abuse - SVM polynomial . . . . . . . . . . 89\n\u00cdndice de tablas\nTabla 2.1 Distribuci\u00f3n de las enfermedades mentales dentro del juego de datos 15\nxiiiTabla 2.2 Relaci\u00f3n de m\u00faltiples enfermedades mentales en pacientes . . . . . 16\nTabla 2.3 Valor medio OTUs sin normalizar con m\u00e1s apariciones . . . . . . . . 17\nTabla 2.4 Valor medio OTUs normalizados con m\u00e1s apariciones . . . . . . . . . 18\nTabla 2.5 Fortalezas y debilidades del algoritmo Boost Decision Tree . . . . . . 25\nTabla 2.6 Fortalezas y debilidades del algoritmo Support Vector Machine . . . . 29\nTabla 2.7 Fortalezas y debilidades del algoritmo Random Forest . . . . . . . . . 34\nTabla 2.8 Valores de las variables m\u00e1s importantes en la predicci\u00f3n de la\nAnorexia nervosa . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 48\nTabla 2.9 Valores de las variables m\u00e1s importantes en la predicci\u00f3n de Bipolar\ndisorder . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 48\nTabla 2.10 Valores de las variables m\u00e1s importantes en la predicci\u00f3n de Bulimia\nnervosa . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49\nTabla 2.11 Valores de las variables m\u00e1s importantes en la predicci\u00f3n de la De-\npression . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49\nTabla 2.12 Valores de las variables m\u00e1s importantes en la predicci\u00f3n de la Post\ntraumatic stress disorder . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\nTabla 2.13 Valores de las variables m\u00e1s importantes en la predicci\u00f3n de la Schi-\nzophrenia . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 50\nTabla 2.14 Valores de las variables m\u00e1s importantes en la predicci\u00f3n de Susbs-\ntance abuse . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 51\nxivCap\u00edtulo 1\nIntroducci\u00f3n\n1.1. Contexto y justi\ufb01caci\u00f3n del Trabajo\nCon frecuencia, las bacterias, virus y par\u00e1sitos son considerados como una gran ame-\nnaza que debe ser eliminada. Es cierto que bacterias como Yersinia pestis oVibrio cho-\nlerae han truncado un gran n\u00famero de vidas humanas. Sin embargo, tambi\u00e9n cabe decir\nque otras como Bacillus subtilis ,Escherichia coli oStreptomyces venezuelae han ayuda-\ndo en la detecci\u00f3n de enfermedades metab\u00f3licas e incluso son utilizadas para elaborar\nantibi\u00f3ticos, salvando de este modo much\u00edsimas otras vidas. [3]\nLa microbiota, que es el conjunto de microorganismos que mantiene una relaci\u00f3n de\nasociaci\u00f3n con otro organismo de diferente especie, se aloja en diferentes partes del\ncuerpo humano. Cabe destacar por su importancia el microbioma intestinal, formado por\nel conjunto de genes de estos microorganismos.\nSe sabe que existe una interacci\u00f3n entre el microbioma intestinal y el hu\u00e9sped, por\nlo tanto, de esta relaci\u00f3n se podr\u00eda obtener informaci\u00f3n relevante sobre el estado de la\nsalud mental de \u00e9ste. As\u00ed pues, algunas enfermedades pueden ser relacionadas con los\ndesequilibrios de la microbiota intestinal o disbiosis. Por el momento, s\u00f3lo se han dado\nlos primeros pasos en establecer una correlaci\u00f3n directa entre la disbiosis y el crecien-\nte n\u00famero de enfermedades mentales, s\u00edndromes y/o alteraciones funcionales ligadas a\nestos desequilibrios.\n12 CAP\u00cdTULO 1. INTRODUCCI\u00d3N\nAs\u00ed pues, la detecci\u00f3n precoz de cualquier enfermedad mental es de vital importancia\npara poder tomar medidas mientras a\u00fan se est\u00e1 a tiempo, proporcionando un tratamiento\no incluso indicando qu\u00e9 h\u00e1bitos deben ser corregidos para que la enfermedad no llegue\na manifestarse y/o se retrase lo m\u00e1ximo posible.\nSe estima que, actualmente, hay m\u00e1s de 1.100 millones de personas en todo el mundo\nque padecen alg\u00fan tipo de transtorno mental. Entre las m\u00e1s comunes est\u00e1n los trastornos\nde ansiedad con 275 millones, depresi\u00f3n con 268 millones, trastorno bipolar con 40 mi-\nllones o esquizofrenia con 21 millones, entre otras enfermedades [11]. Estos transtornos\nno solo incluyen caracter\u00edsticas individuales como la capacidad de gesti\u00f3n de los pensa-\nmientos o la sociabilidad, sino que tambi\u00e9n hay factores culturales, condiciones laborales\ny/o econ\u00f3micas. Otros factores in\ufb02uyentes que pueden causar trastornos mentales pue-\nden ser la alimentaci\u00f3n, el estr\u00e9s o la propia herencia gen\u00e9tica. [12].\nEl objetivo principal de este proyecto es el de poder determinar, en funci\u00f3n de la\ntaxonom\u00eda de una poblaci\u00f3n y ciertas caracter\u00edsticas de un grupo de individuos, si \u00e9stos\npodr\u00edan llegar a desarrollar o no una o varias enfermedades mentales y de ser as\u00ed, cu\u00e1l\nes la probabilidad de que esto ocurra y qu\u00e9 g\u00e9neros taxon\u00f3micos son los m\u00e1s relevantes.\nA t\u00edtulo personal, considero que lo m\u00e1s importante de la vida es ser consciente de la\nexistencia de uno mismo. Si se pierde esa certeza, todo lo dem\u00e1s carecer\u00e1 de importan-\ncia.\n1.2. Objetivos del Trabajo\nEl objetivo principal de esta investigaci\u00f3n es el de generar un modelo, a trav\u00e9s del\naprendizaje autom\u00e1tico Machine learning , capaz de determinar la probabilidad de desa-\nrrollar ciertos tipos de enfermedades mentales en funci\u00f3n del per\ufb01l taxon\u00f3mico del micro-\nbioma intestinal de un sujeto.\nA su vez, este modelo ser\u00e1 parte de una herramienta inform\u00e1tica para el diagn\u00f3stico\neinvestigaci\u00f3n , que facilitar\u00e1 el an\u00e1lisis a aquellos profesionales del sector que nece-\nsiten saber si un paciente puede llegar a desarrollar o no alguna enfermedad mental,\npermitiendo de esta forma el poder prevenir y analizar el posible desarrollo de la misma.1.2. OBJETIVOS DEL TRABAJO 3\n1.2.1. Objetivos generales\nLos objetivos generales de este trabajo, constan de dos partes bien diferenciadas,\ntanto en su cometido como en la tecnolog\u00eda en la que se van a desarrollar.\nLa primera parte se centra, principalmente, en la obtenci\u00f3n de un modelo predictor\na trav\u00e9s del aprendizaje autom\u00e1tico. Se utilizar\u00e1 el lenguaje Ren su versi\u00f3n 3.6.1 , para\nrealizar todos aquellos pasos necesarios en el entrenamiento del modelo, as\u00ed como en\nlas comprobaciones de los resultados obtenidos en el mismo.\nLa segunda parte consiste en el desarrollo de una aplicaci\u00f3n, a trav\u00e9s del lenguaje de\nprogramaci\u00f3n Python en su versi\u00f3n 3.6, que permitir\u00e1 al usuario introducir los datos a\nanalizar y visualizar los resultados despu\u00e9s de aplicar el modelo de predicci\u00f3n.\n1.2.2. Objetivos espec\u00ed\ufb01cos\nLos objetivos espec\u00ed\ufb01cos de este trabajo se dividen en tres bloques dependientes\nentre ellos, ya que requieren de una compenetraci\u00f3n total entre s\u00ed.\nEl primer bloque se basa en la preparaci\u00f3n de los datos para el an\u00e1lisis. \u00c9ste se\ncentra, principalmente en la lectura, \ufb01ltrado y selecci\u00f3n de informaci\u00f3n proporcionada a\ntrav\u00e9s de diferentes \ufb01cheros, que ser\u00e1n utilizados posteriormente en el estudio.\nEl segundo bloque trata del an\u00e1lisis de los datos sin procesar y en la aplicaci\u00f3n de\nt\u00e9cnicas de normalizaci\u00f3n y/o transformaci\u00f3n en funci\u00f3n de las necesidades del ajuste\ndel modelo. Adem\u00e1s de esto, mediante diferentes algoritmos de clasi\ufb01caci\u00f3n, se podr\u00e1\ndeterminar cu\u00e1l o cu\u00e1les son m\u00e1s \u00f3ptimos para este \ufb01n.\nPor \u00faltimo, el tercer bloque se centra en el desarrollo de una aplicaci\u00f3n de software,\nque mediante una interfaz de usuario permitir\u00e1 facilitar la tarea de an\u00e1lisis e interpretaci\u00f3n\nde los resultados obtenidos al usuario \ufb01nal.4 CAP\u00cdTULO 1. INTRODUCCI\u00d3N\n1.3. Enfoque y m\u00e9todo seguido\nEl procedimiento a seguir se basa en dos pilares principales: la preparaci\u00f3n de los\ndatos para ajustar el modelo y la predicci\u00f3n.\nAjuste del modelo\nInicialmente, se dispone de dos grupos de datos:\nUn primer grupo de Metadatos , formado por un conjunto de \ufb01cheros en formato JSON\nque contienen las caracter\u00edsticas de \u001916.000 individuos. Estas caracter\u00edsticas son, entre\notras, edad, peso, h\u00e1bito referente a la ingesta de bebidas alcoh\u00f3licas, alergias, etc... La\nfundamental es la informaci\u00f3n referente a si \u00e9ste ha llegado a desarrollar o no alguna en-\nfermedad mental, como anorexia nerviosa, desorden bipolar, bulimia nerviosa, depresi\u00f3n,\nestr\u00e9s post-traum\u00e1tico, esquizofrenia y/o abuso de sustancias .\nUn segundo grupo de datos almacena informaci\u00f3n taxon\u00f3mica , perteneciente al mis-\nmo conjunto de individuos del grupo anterior. Dicha informaci\u00f3n contiene el porcentaje y\nla cantidad de OTUs que est\u00e1n presentes en cada paciente.\nA partir de estos \ufb01cheros, se realizar\u00e1 un \ufb01ltrado y una agrupaci\u00f3n que formar\u00e1n el\nconjunto \ufb01nal de datos a utilizar para realizar el ajuste del modelo. Una vez el conjunto\nde datos ha sido transformado y/o normalizado, se proceder\u00e1 a probar algunos de los\nalgoritmos de aprendizaje autom\u00e1tico m\u00e1s conocidos, como por ejemplo: Boost Decision\nTree,Support Vector Machine yRandom Forest que a partir de ahora, cuando se haga\nreferencia a alguno de ellos, se utilizar\u00e1n las siglas BDT, SVM y RF respectivamente,\ncuando se quiera hacer menci\u00f3n a estos algoritmos.\nSeguidamente, se realizar\u00e1 una comparativa de rendimiento y se tomar\u00e1 aquel que\nmejor se adapte al conjunto de datos. En el caso de haber m\u00e1s de un clasi\ufb01cador \u00f3ptimo,\nse trabajar\u00e1 con todos ellos. [1]\nPredicci\u00f3n\nEl proyecto est\u00e1 basado en un t\u00e1ndem de tecnolog\u00edas, donde el lenguaje Python se\nencargar\u00e1 de mostrar la interfaz de usuario y de entrada/salida de \ufb01cheros, y la herra-1.4. PLANIFICACI\u00d3N DEL TRABAJO 5\nmienta estad\u00edstica Ractuar\u00e1 como motor de c\u00f3mputo.\nPara obtener la predicci\u00f3n, se necesitar\u00e1 un \ufb01chero de taxonom\u00eda de la poblaci\u00f3n a\nla que se le va a realizar dicha predicci\u00f3n, adem\u00e1s de los correspondientes metadatos\nde cada uno de los pacientes. Es importante se\u00f1alar que se deben tener en cuenta los\nmismos criterios de \ufb01ltrado y selecci\u00f3n de los pacientes que cuando se ha ajustado el\nmodelo. Por \u00faltimo, el juego de datos resultante ser\u00e1 utilizado con el modelo de entre-\nnamiento para que \u00e9ste realice la predicci\u00f3n \ufb01nal. En esta predicci\u00f3n se conocer\u00e1 si un\nindividuo padecer\u00e1 o no una de estas enfermedades mentales, con una cierta proba-\nbilidad de que as\u00ed sea. Adem\u00e1s, se mostrar\u00e1n aquellas OTUs m\u00e1s signi\ufb01cativas en la\nobtenci\u00f3n de esta predicci\u00f3n.\n1.4. Plani\ufb01caci\u00f3n del Trabajo\nLa tarea de plani\ufb01caci\u00f3n del trabajo, se podr\u00eda decir que ha sido tan complicada como\nel desarrollo del trabajo en si. Han habido algunas subtareas, sobre todo en la conexi\u00f3n\nde las dos tecnolog\u00edas, donde se sab\u00eda de antemano que podr\u00edan surgir problemas, pero\nera realmente muy dif\u00edcil poder realizar una valoraci\u00f3n en horas del coste del desarrollo.\nFigura 1.1: Distribuci\u00f3n del tiempo para el desarrollo de las tareas\nPor ese motivo, la estimaci\u00f3n de alguna de las partes del proyecto han necesitado\nde una peque\u00f1a bolsa de horas adicional, por si llegaba a complicarse mucho m\u00e1s de lo\nprevisto inicialmente.6 CAP\u00cdTULO 1. INTRODUCCI\u00d3N\n1.4.1. Preparaci\u00f3n de los datos\nInicio tarea 17/03/2020 - Final tarea 23/03/2020\nConsiste en \ufb01ltrar y preparar toda la informaci\u00f3n suministrada para poder realizar\nel an\u00e1lisis. El primer \ufb01ltrado se basa en descartar aquellos individuos del conjunto de\nMetadatos que no cumplan unos ciertos requisitos. De esta forma se intenta eliminar el\nruido lo m\u00e1ximo posible en los resultados. Estos requisitos de descarte son: estar fuera\nde un rango de \u00edndice de masa corporal, haber padecido alguna enfermedad in\ufb02amatoria\nintestinal, ser diab\u00e9tico y haber tomado antibi\u00f3ticos en los \u00faltimos seis meses .\nEl segundo \ufb01ltrado se realiza sobre la matriz de taxonom\u00eda, y consiste en descartar\naquellos individuos con un porcentaje de Pseudomonas superior al 3 % y un porcentaje\nde(unkn.) Enterobacteriaceae(f) tambi\u00e9n superior al 3 %. Una vez realizados los dos\n\ufb01ltrados, aquellos individuos que aparezcan en ambos grupos a la vez, ser\u00e1n parte del\nconjunto \ufb01nal de datos que ser\u00e1 analizado.\nPor \u00faltimo, a la hora de preparar los datos, se observa que la informaci\u00f3n de cada\nuno de los pacientes es muy extensa y no toda es importante para este estudio. Por lo\ntanto, para no elevar los tiempos de c\u00e1lculo o incluso para que algunas caracter\u00edsticas no\nrelevantes generen ruido, solo algunas ser\u00e1n incluidas en el conjunto \ufb01nal.\n1.4.2. Estad\u00edstica descriptiva y normalizaci\u00f3n\nInicio tarea 24/03/2020 - Final tarea 02/04/2020\nSe trata de saber c\u00f3mo est\u00e1n distribuidos los datos obtenidos para determinar si es\nnecesario o no realizar alg\u00fan tipo de normalizaci\u00f3n y/o transformaci\u00f3n. Tambi\u00e9n permite\ntener una primera toma de contacto de c\u00f3mo puede ir el proceso de entrenamiento y\npruebas.\n1.4.3. Algoritmos Machine Learning\nInicio tarea 03/04/2020 - Final tarea 17/04/2020\nSe debe decidir qu\u00e9 algoritmo de aprendizaje autom\u00e1tico se va a utilizar, ya que sin\nconocer c\u00f3mo est\u00e1n distribuidos los datos o qu\u00e9 tipo de correlaci\u00f3n existe entre ellos,1.4. PLANIFICACI\u00d3N DEL TRABAJO 7\nser\u00eda aventurarse por un camino del que se desconoce si hay salida o no.\nEs cierto que algoritmos como Random Forest , que se utiliza habitualmente y del\nque se obtienen buenos resultados si el conjunto de datos es lo su\ufb01cientemente grande,\npodr\u00eda ser a priori, la \u00fanica propuesta. Pero tambi\u00e9n hay otros como Support Vector\nMachine , que en el caso de llegar a conseguir una buena distribuci\u00f3n de los datos, se\npodr\u00edan obtener unos muy esperanzadores resultados.\nAs\u00ed pues, se realizar\u00e1n pruebas con distintos clasi\ufb01cadores, y aquellos mejor adapta-\ndos al conjunto de datos ser\u00e1n los disponibles desde la interfaz de usuario.\n1.4.4. Generaci\u00f3n del modelo\nInicio tarea 18/04/2020 - Final tarea 22/04/2020\nPara cada uno de los algoritmos de clasi\ufb01caci\u00f3n se realizar\u00e1 los mismos pasos con\nel \ufb01n de completar el entrenamiento y generar el modelo. Estos pasos est\u00e1n formados\npor la preparaci\u00f3n del grupo de entrenamiento y del grupo de pruebas, la predicci\u00f3n\ny evaluaci\u00f3n del rendimiento del modelo y por \u00faltimo, una mejora del mismo si fuera\nposible.\n1.4.5. Interfaz de usuario\nInicio tarea 23/04/2020 - Final tarea 04/05/2020\nUna vez se ha tomado la decisi\u00f3n de qu\u00e9 algoritmo o algoritmos se van a utilizar para\ngenerar el modelo, el siguiente paso es desarrollar una aplicaci\u00f3n de software que sea\ncapaz de facilitar todo este proceso al usuario \ufb01nal.\nEsta aplicaci\u00f3n ha de permitir realizar un n\u00famero de simulaciones con distintos mo-\ndelos entrenados, y que aquel con mejor resultado sea el que calcule la probabilidad de\nque un paciente pueda desarrollar o no una enfermedad mental.8 CAP\u00cdTULO 1. INTRODUCCI\u00d3N\n1.4.6. Comunicaci\u00f3n Python/R\nInicio tarea 05/05/2020 - Final tarea 12/05/2020\nEl proceso de comunicaci\u00f3n entre estas dos tecnolog\u00edas permitir\u00e1 repartir de una\nmanera ordenada los pesos de cada una de las tareas.\nDesde Python se enviar\u00e1n los datos sin procesar, previamente \ufb01ltrados, a Rpara que\n\u00e9ste se encargue de todo el proceso de la generaci\u00f3n del modelo. Una vez terminado,\nRdeber\u00e1 enviar los resultados a Python con la \ufb01nalidad de poder informar al usuario de\nc\u00f3mo ha ido todo el proceso de an\u00e1lisis.\n1.4.7. Pruebas unitarias\nInicio tarea 13/05/2020 - Final tarea 18/05/2020\nEste tipo de pruebas permiten asegurar que cada uno de los pasos atomizados rea-\nlizan aquello que se espera de ellos, que no es m\u00e1s que el cometido para lo que fueron\ndise\u00f1ados.\n1.4.8. Hitos\nHITO 1 : Una vez completado el primero de los objetivos, se realizar\u00e1 un informe para\nexplicar los resultados provisionales obtenidos y cu\u00e1l o cu\u00e1les de los algoritmos de apren-\ndizaje autom\u00e1tico pueden ser candidatos a ser utilizados en la aplicaci\u00f3n de software.\nHITO 2 : Al \ufb01nalizar el desarrollo de la aplicaci\u00f3n de software, se documentar\u00e1 el\nfuncionamiento de \u00e9sta y se decidir\u00e1 si se a\u00f1ade alguna nueva funcionalidad o se elimina\nalguna de las ya existentes.\nHITO 3 : Entrega de la memoria \ufb01nal y preparaci\u00f3n de la presentaci\u00f3n virtual.1.5. BREVE SUMARIO DE PRODUCTOS OBTENIDOS 9\nFigura 1.2: Diagrama de Gantt de las tareas a realizar con los tiempos de dedicaci\u00f3n para\ncada una de las diferentes tareas previstas durante el desarrollo del proyecto\n1.5. Breve sumario de productos obtenidos\n1.5.1. Memoria\nSe trata del presente documento, donde se explica c\u00f3mo se ha desarrollado todo el\ntrabajo \ufb01nal del m\u00e1ster en cada una de las diferentes fases.\n1.5.2. Productos\nSe entrega un producto \ufb01nal que consiste en una aplicaci\u00f3n de software que sintetiza\ntodo el estudio realizado. Adem\u00e1s, a trav\u00e9s de un repositorio se adjunta tanto el c\u00f3digo\nfuente de la aplicaci\u00f3n en lenguaje de programaci\u00f3n Python , como el c\u00f3digo fuente del\nan\u00e1lisis de los datos y la evaluaci\u00f3n de los algoritmos en el lenguaje estad\u00edstico R.\n1.5.3. Presentaci\u00f3n\nMediante un documento en formato power point , se realizar\u00e1 una presentaci\u00f3n y al\nmismo tiempo una explicaci\u00f3n oral del desarrollo del trabajo.10 CAP\u00cdTULO 1. INTRODUCCI\u00d3N\n1.5.4. Autoevaluaci\u00f3n\nConsiste en la defensa personal del trabajo ante un tribunal, que formular\u00e1 preguntas\no dudas sobre el mismo.\n1.6. Breve descripci\u00f3n de los otros cap\u00edtulos de la me-\nmoria\nEn el segundo cap\u00edtulo se encuentra toda la metodolog\u00eda utilizada en el desarrollo\ndel proyecto y los resultados de cada una de las fases.\nEn el tercer cap\u00edtulo se exponen las conclusiones generadas a partir de los resulta-\ndos del cap\u00edtulo anterior.\nEn el cuarto cap\u00edtulo se enumeran las palabras y expresiones del documento que\npueden necesitar una de\ufb01nici\u00f3n m\u00e1s concreta.\nEn el quinto cap\u00edtulo se hace referencia a las publicaciones de los autores mencio-\nnadas en alguna parte de la memoria.\nEn el sexto cap\u00edtulo aparece informaci\u00f3n adicional como soporte para la mejor com-\nprensi\u00f3n de alguna de las fases del trabajo.Cap\u00edtulo 2\nMetodolog\u00eda\n2.1. Introducci\u00f3n\nTiempo atr\u00e1s, hab\u00eda la creencia de que los trastornos y las enfermedades mentales\neran consecuencia de posesiones demon\u00edacas o fruto de acontecimientos sobrenatura-\nles. M\u00e1s adelante, aparecieron centros de reclusi\u00f3n donde los enfermos, en lugar de\nser curados, simplemente eran torturados con la excusa de la sanaci\u00f3n. Incluso, a me-\ndiados del siglo pasado se utilizaron t\u00e9cnicas m\u00e1s avanzadas, compar\u00e1ndolas con la\ntrepanaci\u00f3n craneal, donde \ufb01nalmente los afectados terminaban con da\u00f1os cerebrales\nirreversibles [4].\nDesde hace algo m\u00e1s de una d\u00e9cada, la ciencia intenta comprender el complejo fun-\ncionamiento de la comunicaci\u00f3n entre el intestino y el cerebro. Ya en 2011 se publicaron\nlos primeros resultados que re\ufb02ejaban la in\ufb02uencia de la microbiota en el comportamiento\nen ratones, simplemente alterando la composici\u00f3n de \u00e9sta. Ahora, un estudio ha podido\ndemostrar por primera vez, que la microbiota intestinal en humanos tiene una relaci\u00f3n\ndirecta con la salud mental. [5]\nActualmente, se pueden enumerar y clasi\ufb01car un gran n\u00famero de trastornos y en-\nfermedades mentales, algunos muy antiguos y otros no tanto a consecuencia de la vida\nmoderna. Por ejemplo: Alzheimer, demencia vascular, Parkinson, pensamientos suicidas,\ndepresi\u00f3n, ansiedad, fobia social, trastorno por d\u00e9\ufb01cit de atenci\u00f3n, trastorno obsesivo\ncompulsivo, trastorno bipolar, trastorno de la conducta alimentaria, esquizofrenia, distor-\n1112 CAP\u00cdTULO 2. METODOLOG\u00cdA\nsiones cognitivas, y muchas m\u00e1s que seguramente a\u00fan no est\u00e1 catalogadas y otras que\naparecer\u00e1n. Por lo tanto, el poder anticiparse a este hecho es de vital importancia para el\nbuen funcionamiento de nuestras mentes. Disponer de herramientas capaces de predecir\nqu\u00e9 tipo de enfermedad o trastorno mental podr\u00edamos llegar a desarrollar, en funci\u00f3n de\nun cierto escenario microbi\u00f3mico, ser\u00edan la punta de lanza ante esta eventualidad.\nLa disbiosis, hecho muy com\u00fan actualmente, est\u00e1 vinculada a un gran n\u00famero de\nenfermedades humanas, de las que cabe destacar por su importancia la salud mental y\nel comportamiento. Este hecho puede explicar, en gran medida, el papel de la conexi\u00f3n\nintestino-cerebro y su vital importancia.\nCon el \ufb01n de relacionar los trastornos depresivos con una cierta bacteria, se ha ob-\nservado una fuerte asociaci\u00f3n entre las bacterias Faecalibacterium yCoprococcus y los\nindicadores de mayor calidad de vida. La merma de las bacterias Dialister yCoprococcus\nagudizan el trastorno depresivo, incluso despu\u00e9s de corregir los efectos con antidepresi-\nvos. [5]\nOtro tipo de relaci\u00f3n son los problemas gastrointestinales, que se ven asociados con la\nmayor\u00eda de los casos de autismo, sugiriendo que no se trata \u00fanicamente de un trastorno\npsiqui\u00e1trico, sino que tambi\u00e9n tiene una base \ufb01siol\u00f3gica. Un trastorno intestinal similar\na la enfermedad de Crohn es, a veces, reportado en ni\u00f1os autistas. Se lleg\u00f3 a la con-\nclusi\u00f3n de que los ni\u00f1os con autismo tienen niveles m\u00e1s bajos de bacterias intestinales\nVeillonellaceae ,Coprococcus yPrevotella que aquellos sin la condici\u00f3n. [6]\nLa base del problema reside en que no se conoce la totalidad de la relaciones entre\nlas enfermedades mentales y la carencia o merma de uno o varias bacterias que forman\nla microbiota intestinal. Una de las di\ufb01cultades a\u00f1adidas a esta investigaci\u00f3n con seres\nhumanos, es que \u00e9stos a diferencia de los animales por norma general, cambian de\npatrones de alimentaci\u00f3n, toman antibi\u00f3ticos, pueden estar sujetos a estr\u00e9s cont\u00ednuo,\nlo que puede alterar la composici\u00f3n y/o concentraci\u00f3n de la microbiota. Adem\u00e1s, cabe\na\u00f1adir que \u00e9sta es, en cada individuo, \u00fanica. [7]2.2. AN\u00c1LISIS DE LOS DATOS 13\n2.2. An\u00e1lisis de los datos\n2.2.1. Recolecci\u00f3n de los datos\nLos datos recopilados provienen del proyecto American Gut Project o AGP. Este,\njunto a otros proyectos, est\u00e1n basados en el an\u00e1lisis del microbioma en todo el mundo,\nestableciendo los cimientos de la comprensi\u00f3n de los billones de microbios que moran\nen cada uno de nuestros cuerpos. Ahora, este proyecto, brinda la oportunidad de unirse\na la investigaci\u00f3n y comparar microbios de nuestro intestino con los de los intestinos de\nmiles de personas en los Estados Unidos y en todo el mundo.\nLa informaci\u00f3n taxon\u00f3nica recopilada para la realizaci\u00f3n de este trabajo, consta de\nuna poblaci\u00f3n de \u001916.000 participantes humanos y de \u00192.900 OTUs formando, de esta\nmanera, una matriz taxon\u00f3mica. Adem\u00e1s, por cada paciente se dispone de informaci\u00f3n\nsobre ciertas caracter\u00edsticas, pero sobre todo si padece alg\u00fan tipo de transtorno de salud\nmental. Cuando se hizo la selecci\u00f3n de pacientes se tuvo en cuenta este hecho, que fue\ncon\ufb01rmado por cada uno de ellos. Todos los datos de secuencia y las respuestas de los\nparticipantes an\u00f3nimos se pueden encontrar en EBI bajo el proyecto PRJEB11419 y el\nID de estudio Qiita 10317 . [14]\nTaxonom\u00eda\nLa informaci\u00f3n taxon\u00f3mica est\u00e1 formada por dos \ufb01cheros de texto, donde se incluye\nla relaci\u00f3n entre cada uno de los pacientes y un conjunto de OTUs. En el \ufb01chero ge-\nnus.count.txt se tiene en cuenta la relaci\u00f3n entre el n\u00famero de apariciones de cada tax\u00f3n\ny cada paciente.\nPor otro lado, el \ufb01chero genus.perc.txt muestra el porcentaje de apariciones de ca-\nda tax\u00f3n en cada paciente respecto al total de la poblaci\u00f3n. Este mismo \ufb01chero se ha\nutilizado en este proyecto para el \ufb01ltrado de pacientes en funci\u00f3n de un porcentaje, ya\nque precisamente contiene estos valores ya calculados y permite un mejor manejo de los\ndatos.14 CAP\u00cdTULO 2. METODOLOG\u00cdA\nMetadatos\nPara cada paciente existe un conjunto de metadatos que se almacenan en \ufb01cheros\ncon formato JSON . En \u00e9stos se encuentra informaci\u00f3n sobre ciertas caracter\u00edsticas y\nh\u00e1bitos relevantes, como por ejemplo si el paciente ha sufrido alguna enfermedad men-\ntal del tipo anorexia nerviosa ,desorden bipolar ,bulimia nerviosa ,depresi\u00f3n , desorden\ndebido a estr\u00e9s post traum\u00e1tico ,esquizofrenia oabuso de sustancias .\nTambi\u00e9n se tiene en cuenta otro tipo de caracter\u00edsticas tales como: sexo,edad ,altura ,\npeso ,frecuencia en la ingesta de vegetales ,marisco ,fruta,carne roja ,si toma al menos\nun litro de agua diario ,si consume bebidas azucaradas ,alcohol ,si fuma ,cu\u00e1nto tiempo\nduerme ysi padece migra\u00f1a .\nSe ha hecho una extensi\u00f3n de las caracter\u00edsticas y se ha ampliado la lista a: si pade-\ncere\ufb02ujo estomacal , alguna enfermedad cardiovascular , si toma anticonceptivos , con qu\u00e9\nfrecuencia usa productos cosm\u00e9ticos , cu\u00e1nto tiempo hace que se vacun\u00f3 contra la gripe ,\nsi ha padecido alguna enfermedad de ri\u00f1\u00f3n , deh\u00edgado , depulm\u00f3n , frecuencia en la in-\ngesta de huevos ,queso ,multivitaminas ,probi\u00f3ticos ,bocadillos salados ,az\u00facar ,vitamina\nb,vitamina d y si se est\u00e1 embarazada .\n2.2.2. Extracci\u00f3n y \ufb01ltrado de los datos\nEl objetivo principal de este apartado es el de \ufb01ltrar y preparar toda la informaci\u00f3n\nsuministrada para poder realizar el estudio. \u00c9sta incluye datos sobre la taxonom\u00eda de una\npoblaci\u00f3n e informaci\u00f3n relevante sobre cada uno de los individuos, constituida por un\nconjunto de metadatos con caracter\u00edsticas sobre cada uno.\nEl primer criterio de \ufb01ltrado es taxon\u00f3mico y \u00e9ste se basa en la exclusi\u00f3n de aquellos\npacientes que dispongan del g\u00e9nero Pseudomonas superior al 3 % y/o un porcentaje del\ng\u00e9nero (unkn.) Enterobacteiaceae(f) tambi\u00e9n superior al 3 %. Este \ufb01ltrado reduce la lista\nde pacientes, aproximadamente, a la mitad.\nCada paciente dispone de un identi\ufb01cador \u00fanico que se relaciona con un \ufb01chero de\nmetadatos. A partir del contenido de ciertos campos inclu\u00eddos en estos \ufb01cheros, se rea-\nliza el segundo \ufb01ltrado. Aquellos pacientes que cumplan los siguientes requisitos, ser\u00e1n\naquellos que formar\u00e1n parte del juego de datos para el ajuste del modelo.2.2. AN\u00c1LISIS DE LOS DATOS 15\nA continuaci\u00f3n se enumeran:\nTener el \u00edndice de masa corporal BMI comprendido entre los valores [18, 30] .\nNo haber padecido alguna enfermedad in\ufb02amatoria intestinal IBD.\nNo tener diabetes .\nNo tener antecedentes de haber tomado antibi\u00f3ticos en los \u00faltimos seis meses .\nDespu\u00e9s de realizar este \ufb01ltrado, el n\u00famero de pacientes se reduce a unos 2.500,\naproximadamente.\nPor \u00faltimo, se ha realizado otro \ufb01ltrado pensando en la optimizaci\u00f3n de los c\u00e1lculos,\nbasado en la eliminaci\u00f3n de aquellas unidades taxon\u00f3micas sin relevancia, debido a la\nfalta de resultados o incluso por carecer de ellos. Por lo tanto, ya que no van a realizar\nninguna aportaci\u00f3n al estudio y adem\u00e1s van a incrementar el consumo de los recursos\ndel sistema, se proceder\u00e1 a eliminar todas aquellas sin resultados.\n2.2.3. Estad\u00edstica descriptiva\nMultivariante vs Univariante\nEn un primer momento, sin conocer las distribuci\u00f3n de las variables de salida o depen-\ndientes, que son todas las enfermedades mentales que est\u00e1n englobadas en el conjunto\nde los datos, parec\u00eda factible utilizar las herramientas y m\u00e9todos del an\u00e1lisis multivariante.\nEl problema reside en que hay pacientes que mani\ufb01estan m\u00e1s de un trastorno al mismo\ntiempo.\nAnorexia Bipolar Bulimia Depression Ptsd Schizophrenia Subs. abuse\nFalse 2655 2645 2644 2367 2631 2662 2657\nTrue 17 27 28 305 41 10 15\nCuadro 2.1: Distribuci\u00f3n de las enfermedades mentales dentro del juego de datos\nEn la tabla anterior, se muestra la relaci\u00f3n entre padecer una enfermedad y de qu\u00e9\ntipo o no padecerla.16 CAP\u00cdTULO 2. METODOLOG\u00cdA\nAdem\u00e1s, despu\u00e9s de someter los datos a los distintos \ufb01ltrados estad\u00edsticos, la canti-\ndad de pacientes con m\u00faltiples enfermedades mentales no ha sido su\ufb01cientemente sig-\nni\ufb01cativa en cada uno de estos casos, lo que di\ufb01cultar\u00eda en gran medida el ajuste del\nmodelo. [2]\nHealthy One Two Three Four Five\nCounter 2334 258 65 7 6 2\nCuadro 2.2: Relaci\u00f3n de m\u00faltiples enfermedades mentales en pacientes\nEn la tabla anterior, se puede observar que hay 2334 pacientes sin ning\u00fan tipo de\ntrastorno, 258que mani\ufb01estan un \u00fanico trastorno, 65pacientes que mani\ufb01estan dos tras-\ntornos al mismo tiempo, 7pacientes que mani\ufb01estan tres trastornos a la vez, 6pacientes\nque mani\ufb01estan cuatro trastornos, y por \u00faltimo, 2pacientes que mani\ufb01estan cinco trastor-\nnos de los siete analizados.\nDe realizar un an\u00e1lisis multivariante, adem\u00e1s de tener en cuenta los 7 tipos de en-\nfermedades mentales, el sistema tambi\u00e9n deber\u00eda valorar las distintas combinaciones\nposibles entre ellas. Esto sumado al bajo \u00edndice de pacientes que podr\u00edan presentar es-\nta casu\u00edstica, har\u00eda muy dif\u00edcil encontrar patrones signi\ufb01cativos y el sistema tendr\u00eda una\nsensibilidad muy baja o casi nula.\nPor ese motivo, se ha optado por el an\u00e1lisis univariante con una \u00fanica variable co-\nmo respuesta, siendo cada una de las siete enfermedades mentales existentes en los\nmetadatos.\nDistribuci\u00f3n de los datos\nToda la informaci\u00f3n contenida en el juego de datos, despu\u00e9s de aplicar los diferen-\ntes \ufb01ltrados, se puede dividir en tres grupos: datos taxon\u00f3micos, caracter\u00edsticas de los\npacientes y enfermedades mentales.\nLos datos taxon\u00f3micos se encuentran en forma de matriz donde las \ufb01las son los\nidenti\ufb01cadores de los pacientes y las columnas cada una de los OTUs con sus corres-\npondientes valores.2.2. AN\u00c1LISIS DE LOS DATOS 17\nFigura 2.1: Representaci\u00f3n de la matriz taxon\u00f3mica\nEn primer lugar, se calcula la variabilidad entre las variables que hacen referencia a\nla taxonom\u00eda y se concluye que existe una alta variabilidad entre la primera, que es Bac-\nteroides con 287;6967 y la \u00faltima variable, que es Ammoniibacillus con 3;628886 e\u000011. Por\nlo tanto, se requiere normalizar los datos para mitigar esta gran diferencia. Como apunte,\nindicar que en algunos an\u00e1lisis ha sido demostrado que el suministro de pectina o inuli-\nna de manzana da como resultado el enriquecimiento altamente espec\u00ed\ufb01co de unidades\ntaxon\u00f3micas operativas del g\u00e9nero Bacteroides . [15]\nSe comprueba cu\u00e1les son las bacterias con mayor valor de media con los datos sin\nnormalizar.\nFigura 2.2: Boxplot OTUs sin normalizar\ncon m\u00e1s aparicionesUnidad Taxon\u00f3mica Valor medio aparici\u00f3n\nBacteroides 25.379843\nFaecalibacterium 8.608991\nPrevotella 7.703624\nunkn..Clostridiales.o. 6.059902\nRoseburia 4.509156\nCuadro 2.3: Valor medio OTUs sin normalizar\ncon m\u00e1s apariciones18 CAP\u00cdTULO 2. METODOLOG\u00cdA\nSe comprueba cu\u00e1les son las bacterias con mayor valor de media con los datos des-\npu\u00e9s de la normalizaci\u00f3n.\nFigura 2.3: Boxplot OTUs normalizados con\nm\u00e1s aparicionesUnidad Taxon\u00f3mica Valor medio aparici\u00f3n\nBacteroides 0.3064847\nunkn..Clostridiales.o. 0.1987499\nFaecalibacterium 0.1585255\nunkn..Clostridia.c. 0.1372455\nRoseburia 0.1338626\nCuadro 2.4: Valor medio OTUs normalizados\ncon m\u00e1s apariciones\nYa que estos datos son cuantitativos pueden ser normalizados para poder uni\ufb01car el\nrango de todos los valores. Antes de la normalizaci\u00f3n, por ejemplo, Bacteroides ten\u00eda una\nvarianza de 25;379y despu\u00e9s de 0;3064 oFaecalibacterium con una varianza de 8;6089\nantes de la normalizaci\u00f3n y con un valor de 0;1585 despu\u00e9s de \u00e9sta.\nLas medidas de dispersi\u00f3n se utilizan para medir la variabilidad de una variable res-\npuesta dentro de una muestra o poblaci\u00f3n. La dispersi\u00f3n promedio que presenta cada\ndato es evaluado respecto a su valor medio. [18]\nMediante el test de Shapiro-Wilk se puso a prueba si los datos estaban basados en\nuna distribuci\u00f3n normal. El valor de las probabilidades fue menor al 5 %, por lo que se\nconcluye que los datos no siguen una distribuci\u00f3n normal.\nPosteriormente, se realiza un an\u00e1lisis de los componentes principales de los datos\ntaxon\u00f3micos normalizados, concluyendo que las primeras 608variables explican el 80 %\nde los datos, lo que antes explicaban 2117 variables. Para estimar el n\u00famero K \u00f3ptimo\nde clusters se puede aplicar el algoritmo de K-means para un rango de valores de K\ne identi\ufb01car aquel valor a partir del cual la reducci\u00f3n en la suma total de varianza intra-\ncluster deja de ser sustancial. Se utiliza la Distancia de Manhattan para de\ufb01nir la distancia\nentre objetos.2.2. AN\u00c1LISIS DE LOS DATOS 19\nFigura 2.4: Representaci\u00f3n gr\u00e1\ufb01ca del n\u00famero \u00f3ptimo de clusters\nComo se puede observar en la \ufb01gura 2.4, parece que el codo se da con 3 componen-\ntes o, como m\u00e1ximo, con 4. De todas maneras, la representaci\u00f3n PCoA se realizar\u00e1 con\n3 componentes, como se muestra a continuaci\u00f3n.\nFigura 2.5: Representaci\u00f3n gr\u00e1\ufb01ca PCoA de la poblaci\u00f3n taxon\u00f3mica con los \ufb01ltros sobre\nlos taxones Pseudomonas y(unkn.) Enterobacteiaceae(f) aplicados20 CAP\u00cdTULO 2. METODOLOG\u00cdA\nEl procedimiento de agrupaci\u00f3n ha sido aleatorio y las etiquetas corresponden a los\nenterotipos Bacteroides (enterotipo tipo 1) ,Prevotella (enterotipo tipo 2) yRuminococcus\n(enterotipo tipo 3) [17].\nLos datos que hacen referencia a las caracter\u00edsticas de los pacientes, se encuentran\nen forma de matriz d\u00f3nde las \ufb01las son los identi\ufb01cadores de los pacientes y las columnas\ncada una de estas caracter\u00edsticas.\nFigura 2.6: Representaci\u00f3n de la matriz de caracter\u00edsticas\nLos datos que hacen referencia a las enfermedades mentales de los pacientes, se\nencuentran en forma de matriz d\u00f3nde las \ufb01las son los identi\ufb01cadores de los pacientes y\nlas columnas cada de los trastornos mentales analizados en este estudio.\nFigura 2.7: Representaci\u00f3n de la matriz de enfermedades mentales.2.2. AN\u00c1LISIS DE LOS DATOS 21\nComo se puede observar en la siguiente \ufb01gura, la distribuci\u00f3n de las enfermedades\nmentales no es equitativa entre todas ellas.\nFigura 2.8: Distribuci\u00f3n de las distintas enfermedades mentales22 CAP\u00cdTULO 2. METODOLOG\u00cdA\n2.3. Evaluaci\u00f3n de los algoritmos de clasi\ufb01caci\u00f3n\n2.3.1. Planteamiento\nUna vez \ufb01nalizada la fase de an\u00e1lisis de los datos, queda determinar qu\u00e9 algoritmo\no algoritmos ser\u00e1n utilizados en el proceso de clasi\ufb01caci\u00f3n dentro de la aplicaci\u00f3n. Los\ncandidatos son Boost Decision Trees ,Support Vector Machine yRandom Forest . El cri-\nterio para decidir cu\u00e1les ser\u00e1n inclu\u00eddos en la aplicaci\u00f3n \ufb01nal, depender\u00e1 en gran medida\nde c\u00f3mo estos algoritmos son capaces de adaptarse a las necesidades de los datos.\nRecordemos que no todas las enfermedades mentales est\u00e1n distribuidas por igual den-\ntro del juego de datos, lo que puede afectar muy signi\ufb01cativamente en la e\ufb01ciencia y el\nrendimiento de los clasi\ufb01cadores.\n2.3.2. Re-sampling\nAntes de entrar en materia con el funcionamiento y los resultados obtenidos de cada\nuno de los algoritmos, es importante explicar en qu\u00e9 consiste este apartado. Para realizar\nun correcto entrenamiento, es necesario que los datos dispongan de un buen balanceo\no equilibrio entre la clase positiva, que es la que hace referencia a la existencia de la\nenfermedad mental, y la clase negativa que indicar\u00e1 que no se tiene tal enfermedad\nmental.\nSe sabe que existe una gran descompensaci\u00f3n entre estas dos clases. Para poner\nen pr\u00e1ctica el Re-sampling , existen algunas t\u00e9cnicas que han sido puestas en marcha,\ncomo son Under sampling yOver sampling [10]. Con el \ufb01n de mitigar este hecho, se han\naplicado ambas t\u00e9cnicas.\nUnder sampling\nEn este caso, se selecciona solo algunos de los datos de la clase mayoritaria, man-\nteniendo la distribuci\u00f3n de probabilidad de la clase. Por lo tanto, se realiza un sesgado\npara igualar, en funci\u00f3n de un porcentaje, los resultados positivos con los negativos.\nCabe indicar que este tipo de balanceo tiene ventajas, como la ayuda al algoritmo de\nclasi\ufb01caci\u00f3n a distinguir mejor la clase minoritaria de la clase mayoritaria eliminando las2.3. EVALUACI\u00d3N DE LOS ALGORITMOS DE CLASIFICACI\u00d3N 23\nobservaciones ruidosas. Pero tambi\u00e9n tiene desventajas en la e\ufb01ciencia, ya que aquellos\ndatos eliminados podr\u00edan tener informaci\u00f3n relevante sobre la clase mayoritaria.\nOver sampling\nSe trata de crear copias de la clase minoritaria para tener la misma cantidad de ejem-\nplos que la clase mayoritaria, manteniendo la distribuci\u00f3n de la clase minoritaria. Por lo\ntanto, se duplican, en funci\u00f3n de un porcentaje, los resultados negativos con los positivos.\nDel mismo modo que en el caso anterior, este tipo de balanceo tambien tiene ventajas,\ncomo la reducci\u00f3n del sesgo introducido por el desequilibrio de clase. Pero tambi\u00e9n tiene\nla desventaja de haber un riesgo de tener \u00fanicamente un solo ejemplo minoritario para la\nobservaci\u00f3n perteneciente a la clase minoritaria con una baja distribuci\u00f3n.\nFigura 2.9: Representaci\u00f3n gr\u00e1\ufb01ca de Re-sampling\n2.3.3. Boost Decision Trees\nLos\u00c1rboles de Decisi\u00f3n oBoost Decision Trees son modelos de predicci\u00f3n que sirven\npara representar y categorizar una serie de condiciones que ocurren de forma sucesiva\npara la resoluci\u00f3n de un problema. Estos algoritmos aportan una visi\u00f3n gr\u00e1\ufb01ca de la\ntoma de decisi\u00f3n, especi\ufb01can las variables que son evaluadas, qu\u00e9 acciones deben ser\ntomadas y el orden en la que la toma de decisiones ser\u00e1 efectiva.24 CAP\u00cdTULO 2. METODOLOG\u00cdA\nCada vez que se ejecuta un \u00e1rbol de decisi\u00f3n, solo un camino ser\u00e1 seguido depen-\ndiendo del valor actual de la variable evaluada.\nFigura 2.10: El \u00e1rbol de clasi\ufb01caci\u00f3n lo compone una serie de nodos internos y externos,\nas\u00ed como arcos que los unen\nA los nodos externos se les conoce como hojas del \u00e1rbol y se marcan con una clase o\nuna distribuci\u00f3n de probabilidad sobre las clases. Aunque los resultados que se obtienen\ndependen de la calidad de los ejemplos introducidos, sin lugar a dudas, este mecanismo\nde descubrimiento de patrones se ha convertido, en los \u00faltimos a\u00f1os, en una de las\nfuentes m\u00e1s \ufb01ables de predicci\u00f3n y su uso se ha extendido velozmente. [1]\nPara evitar el over\ufb01tting, debido a que este tipo de \u00e1rboles tienden a reducir r\u00e1pida-\nmente el error de entrenamiento ajust\u00e1ndose bien a las observaciones utilizadas para la\nfase de entrenamiento, es importante controlar bien el tama\u00f1o del \u00e1rbol. Para el proceso\nde entrenamiento del modelo se ha limitado a 50iteraciones.2.3. EVALUACI\u00d3N DE LOS ALGORITMOS DE CLASIFICACI\u00d3N 25\nEn la siguiente tabla se enumeran las fortalezas y debilidades generales de los mo-\ndelos basados en este algoritmo.\nFortalezas Debilidades\nClasi\ufb01cador de uso m\u00faltiple con buenos re-\nsultados en la mayor\u00eda de los problemas.Frecuentemente son sesgados hacia las di-\nvisiones, si tienen una gran cantidad de ni-\nveles.\nProceso de aprendizaje altamente autom\u00e1-\ntico que puede permitir valores num\u00e9ricos\no nominales, como valores faltantes.Es f\u00e1cil que se produzca over\ufb01tting oun-\nder\ufb01tting .\nExcluye caracter\u00edsticas sin importancia.Puede tener problemas al modelar algunas\nrelaciones debido a la con\ufb01anza en las di-\nvisiones del eje-paralelo.\nSe puede utilizar tanto en peque\u00f1os como\nen grandes conjuntos de datos.Peque\u00f1os cambios en los datos del en-\ntrenamiento, pueden resultar ser grandes\ncambios en la toma de decisiones.\nLa interpretaci\u00f3n de los datos no requie-\nrede experiencia matem\u00e1tica por parte del\nusuario.Grandes \u00e1rboles pueden di\ufb01cultar la inter-\npretaci\u00f3n y la toma de decisi\u00f3n.\nM\u00e1s e\ufb01ciente que otros modelos comple-\njos.\nCuadro 2.5: Fortalezas y debilidades del algoritmo Boost Decision Tree\n2.3.4. Boost Decision Trees Resultados\nA continuaci\u00f3n, se muestran los diferentes resultados obtenidos durante el proceso\nde validaci\u00f3n de este algoritmo, con los distintos tipos de t\u00e9cnicas de balanceo de los\ndatos. Las enfermedades mentales mostradas en estos resultados son la Depression\ny laSchizophrenia , ya que la primera es, de las siete, la que m\u00e1s resultados positivos\ntiene y la segunda es la que menos casos positivos tiene. De esta manera se muestra la\nimportancia de tener los datos balancelados.26 CAP\u00cdTULO 2. METODOLOG\u00cdA\nNo sampling\nFigura 2.11: No sampling Depression\n Figura 2.12: No sampling Schizophrenia\nTanto en la \ufb01gura 2.11 como en la \ufb01gura 2.12 se observan las di\ufb01cultades que ha\ntenido el clasi\ufb01cador para ajustar el modelo. En el caso de la Depression ha detectado\nmuchos falsos positivos o \u00abError de tipo I \u00bby el valor del coe\ufb01ciente kappa tiende a cero,\nlo que implica un sesgo muy grande y por lo tanto, se puede decir que estos resultados\nson fruto del \u201dazar\u201d m\u00e1s que de una buena clasi\ufb01caci\u00f3n. En el caso de la Schizophrenia\nlos resultados fueron peores, ya que fue incapaz de detectar un resultado positivo y el\nvalor de kappa es cero.\nUnder sampling\nFigura 2.13: Under sampling Depression\n Figura 2.14: Under sampling Schizophrenia\nAl aplicar Under sampling, los resultados han sido mucho mejores que en el caso\nanterior, pero sin llegar a ser satisfactorios. En el caso de la Depression , adem\u00e1s de los2.3. EVALUACI\u00d3N DE LOS ALGORITMOS DE CLASIFICACI\u00d3N 27\nfalsos positivos de antes, tambi\u00e9n han aparecido falsos negativos o \u00abError de tipo II \u00bby el\nvalor del coe\ufb01ciente kappa apenas ha mejorado signi\ufb01cativamente. Sin embargo, donde\nsi ha habido una mejora sustancial, ha sido en el caso de la Schizophrenia donde el\n\u00abError de tipo I \u00bbse mantiene, pero ha sido capaz de detectar un solo caso positivo. Aqu\u00ed\nel valor de kappa ha mejorado, pero todav\u00eda con resultados que aportan poca seguridad\nde que \u00e9stos no sean fruto del \u201dazar\u201d.\nOver sampling\nFigura 2.15: Over sampling Depression\n Figura 2.16: Over sampling Schizophrenia\nAl aplicar Over sampling , los resultados han mejorado lo su\ufb01ciente como para tener-\nlos en cuenta. Los valores de kappa en ambos casos toman m\u00e1s relevancia y a pesar\nde que cuando se tienen pocos resultados positivos en los datos, como ocurre con la\nSchizophrenia , los resultados son m\u00e1s equilibrados aunque sin ser del todo satisfactorio.\nEn el caso de la Depression , son algo mejores, tambi\u00e9n a consecuencia de que existen\nm\u00e1s positivos en el juego de datos, aunque el \u00abError de tipo I \u00bbsigue siendo bastante\nelevado.\nLa valoraci\u00f3n sobre este algoritmo de clasi\ufb01caci\u00f3n no es muy positiva, porque incluso\ndespu\u00e9s de balancear los datos de diferentes maneras, el modelo no ha sido ajustado co-\nrrectamente y deja muchas lagunas en la veracidad de los resultados. De todas maneras,\nno ha quedado descartado y se incluye en la aplicaci\u00f3n de software.28 CAP\u00cdTULO 2. METODOLOG\u00cdA\n2.3.5. Support Vector Machine\nSupport Vector Machines son un conjunto de algoritmos de aprendizaje supervisado\nrelacionados con problemas de clasi\ufb01caci\u00f3n y regresi\u00f3n. Se pueden adaptar a casi cual-\nquier tipo de tarea de aprendizaje, incluido la predicci\u00f3n num\u00e9rica. La clave del \u00e9xito del\nalgoritmo tiene que ver con el reconocimiento de patrones.\nFigura 2.17: Representaci\u00f3n gr\u00e1\ufb01ca de las funciones kernel lineal y polinomial\nSobresale en aplicaciones como:\nClasi\ufb01caci\u00f3n de datos de expresi\u00f3n g\u00e9nica de microarrays, en el campo de Bioin-\nform\u00e1tica, para identi\ufb01car c\u00e1ncer u otras enfermedades gen\u00e9ticas.\nCategorizaci\u00f3n de textos, para identi\ufb01car idiomas utilizados en un documento o la\nclasi\ufb01caci\u00f3n de documentos por materias.\nDetecci\u00f3n de eventos raros, pero importantes, como los fallos de motor de combus-\nti\u00f3n, violaciones de seguridad o terremotos.2.3. EVALUACI\u00d3N DE LOS ALGORITMOS DE CLASIFICACI\u00d3N 29\nEn la siguiente tabla se enumeran las fortalezas y debilidades generales de los mo-\ndelos basados en este algoritmo.\nFortalezas Debilidades\nPuede ser utilizado para la clasi\ufb01caci\u00f3n o\npara problemas de predicci\u00f3n num\u00e9rica.Encontrar un buen modelo requiere probar\nvarias combinaciones de kernel y par\u00e1me-\ntros del modelo.\nNo est\u00e1 demasiado in\ufb02uenciado por datos\ncon ruido yno es propenso a la sobreali-\nmentaci\u00f3n.Puede ser lento para la fase deentrena-\nmiento, particularmente si elconjunto de\ndatos de entrada tiene un gran n\u00famero de\ncaracter\u00edsticas.\nPuede ser m\u00e1s f\u00e1cil de usar que la Red\nNeuronal debido al respaldo de los algo-\nritmos SVM .Los resultados se obtienen de una comple-\nja caja negra casi imposible de interpretar.\nGana popularidad debido a su alta preci-\nsi\u00f3n y a lasvictorias obtenidas en competi-\nciones de Data Mining .\nCuadro 2.6: Fortalezas y debilidades del algoritmo Support Vector Machine\nEste algoritmo permite utilizar diferente funciones kernel para el an\u00e1lisis de patrones.\nLa tarea general del an\u00e1lisis de patrones es encontrar y estudiar tipos generales de rela-\nciones entre grupos y/o clasi\ufb01caciones en el conjuntos de datos. Las funciones utilizadas\nhan sido:\n* Funci\u00f3n kernel lineal es la m\u00e1s simple de las funciones ya que se basa, principal-\nmente, en la separaci\u00f3n de una linea recta o un hiperplano de dimensi\u00f3n N.\n* Funci\u00f3n kernel polinomial es equivalente a una regresi\u00f3n polin\u00f3mica. Es mucho\nm\u00e1s preciso que el kernel lineal y sobre todo es resistente al over\ufb01tting, a pesar de que\npenaliza con el elevado coste computacional. [16]30 CAP\u00cdTULO 2. METODOLOG\u00cdA\n2.3.6. Support Vector Machine Resultados\nA continuaci\u00f3n se muestras los resultados obtenidos, para las enfermedades menta-\nlesDepression ySchizophrenia , por cada uno de los clasi\ufb01cadores, utilizando t\u00e9cnicas\ndeRe-sampling y sin utilizarlas.\nNo sampling\nFigura 2.18: No sampling Depression kernel\nlineal\nFigura 2.19: No sampling Schizophrenia\nkernel lineal\nFigura 2.20: No sampling Depression kernel\npolinomial\nFigura 2.21: No sampling Schizophrenia\nkernel polinomial\nEn comparaci\u00f3n con el algoritmo BDT, SVM con la funci\u00f3n lineal mejora sustancial-\nmente los resultados a pesar de no haber aplicado Re-sampling . Como se observa en\nla \ufb01gura 2.18, teniendo en cuenta un valor kappa bastante bajo, 0;1458 se observa una2.3. EVALUACI\u00d3N DE LOS ALGORITMOS DE CLASIFICACI\u00d3N 31\nbuena predisposici\u00f3n a detectar positivos, aunque si que hay que decir que la tasa de\n\u00abError de tipo I y II \u00bbtambi\u00e9n es elevada.\nPero por el contrario, en la \ufb01gura 2.19, la mejora es signi\ufb01cativa llegando a obtener un\nvalor kappa de0;4989 y una tasa de \u00abError de tipo I y II \u00bbmuy baja.\nUnder sampling\nFigura 2.22: Under sampling Depression\nkernel lineal.\nFigura 2.23: Under sampling Schizophrenia\nkernel lineal\nFigura 2.24: Under sampling Depression\nkernel polinomial\nFigura 2.25: Under sampling Schizophrenia\nkernel polinomial\nLa aplicaci\u00f3n del Under sampling ha empeorado los resultados en ambos casos, sim-\nplemente, porque el problema est\u00e1 en el escaso n\u00famero de positivos. A pesar de ello,\nAplicando Under sampling tampoco se puede decir que los resultados obtenidos ha-\nyan mejorado. Los valores para kappa siguen siendo no signi\ufb01cativos y para la Depres-32 CAP\u00cdTULO 2. METODOLOG\u00cdA\nsion ha aumentado los \u00abErrores de tipo I y II\u00bbcomo los aciertos. Asi pues, este ajuste\ntampoco se puede tomar en cuenta.\nOver sampling\nFigura 2.26: Over sampling Depression ker-\nnel lineal.\nFigura 2.27: Over sampling Schizophrenia\nkernel lineal.\nFigura 2.28: Over sampling Depression ker-\nnel polinomial\nFigura 2.29: Over sampling Schizophrenia\nkernel polinomial\nDe nuevo, se observa una mejora signi\ufb01cativa en los resultados, sobre todo para la\nSchizophrenia , obteniedo un valor de kappa de0;832con una precisi\u00f3n del 99;7 %y de\n0;7257 y una precisi\u00f3n del 99;6 %para las funciones lineal y polinomial respectivamente.\nM\u00e1s di\ufb01cultades ha tenido con la Depression con un valor de kappa de0;447y una preci-\nsi\u00f3n del 84;8 %y de 0;469y una precisi\u00f3n del 83;8 %para las funciones lineal y polinomial\nrespectivamente. Se concluye que ambas funciones son v\u00e1lidas para el ajuste del modelo\ny ser\u00e1n inclu\u00eddas en la aplicaci\u00f3n de software.2.3.7. Random Forest\nEl m\u00e9todo Random Forest est\u00e1 basado, principalmente, en los \u00c1rboles de Decisi\u00f3n .\nSe crea un gran n\u00famero de \u00e1rboles mediante el muestreo de individuos y variables en el\nconjunto de datos. Una diferencia clave con los \u00c1rboles de Decisi\u00f3n es que cada nodo\nest\u00e1 dividido por el mejor de un subconjunto aleatorio de variables, en lugar de la mejor\nde todas las variables. Cada individuo est\u00e1 clasi\ufb01cado por cada \u00e1rbol y el resultado m\u00e1s\ncom\u00fan se utiliza como la clasi\ufb01caci\u00f3n \ufb01nal. Adem\u00e1s se puede utilizar para realizar tareas\nde clasi\ufb01caci\u00f3n y de regresi\u00f3n. En muchos problemas el rendimiento del algoritmo Ran-\ndom Forest es muy similar a la del boosting , anteriormente probado, y es m\u00e1s simple de\nentrenar y ajustar. Esta caracter\u00edstica lo convierte en popular y ampliamente utilizado.\nFigura 2.30: Representaci\u00f3n gr\u00e1\ufb01ca del algoritmo Random Forest\nLa idea esencial es promediar muchos modelos ruidosos pero aproximadamente im-\nparciales, y por tanto reducir la variaci\u00f3n. Los \u00e1rboles son los candidatos ideales, dado\nque ellos pueden registrar estructuras de interacci\u00f3n compleja en los datos, y si crecen\ncon la su\ufb01ciente profundidad, tienen relativamente baja parcialidad. [9]34 CAP\u00cdTULO 2. METODOLOG\u00cdA\nEn la siguiente tabla se enumeran las fortalezas y debilidades generales de los mo-\ndelos basados en este algoritmo.\nFortalezas Debilidades\nUn modelo multiprop\u00f3sito que realiza bien\nla mayor\u00eda de los problemas.A diferencia del \u00c1rbol de Decisi\u00f3n , el mo-\ndelo no es f\u00e1cil de interpretar.\nPuede manejar datos ruidosos o faltan-\ntes as\u00ed como variables categ\u00f3ricas o con-\nt\u00ednuas.Es posible que se necesite alg\u00fan trabajo\nextra para sintonizar el modelo con los da-\ntos.\nSelecciona s\u00f3lo las caracter\u00edsticas m\u00e1s im-\nportantes.\nSe puede utilizar en datos con un gran n\u00fa-\nmero de caracter\u00edsticas o ejemplos.\nCuadro 2.7: Fortalezas y debilidades del algoritmo Random Forest\n2.3.8. Random Forest Resultados\nA continuaci\u00f3n se muestras los resultados obtenidos, para las enfermedades menta-\nlesDepression ySchizophrenia , por cada uno de los clasi\ufb01cadores, utilizando t\u00e9cnicas\ndeRe-sampling y sin utilizarlas.\nNo sampling\nFigura 2.31: No sampling Depression.\n Figura 2.32: No sampling Schizophrenia.2.3. EVALUACI\u00d3N DE LOS ALGORITMOS DE CLASIFICACI\u00d3N 35\nComo era de esperar y tal como ha ocurrido con BDT, los resultados sin realizar Re-\nsampling han sido muy malos. Los valores para kappa para ambas enfermedades son\npr\u00e1cticamente 0y el \u00abError de tipo I \u00bbse ha disparado. Por lo tanto, este ajuste carece de\nimportancia.\nUnder sampling\nFigura 2.33: Under sampling Depression.\n Figura 2.34: Under sampling Schizophre-\nnia.\nAplicando Under sampling tampoco se puede decir que los resultados obtenidos ha-\nyan mejorado. Los valores para kappa siguen siendo no signi\ufb01cativos y para la Depres-\nsion ha aumentado los \u00abErrores de tipo I y II\u00bbcomo los aciertos. Asi pues, este ajuste\ntampoco se puede tomar en cuenta.36 CAP\u00cdTULO 2. METODOLOG\u00cdA\nOver sampling\nFigura 2.35: Over sampling Depression.\n Figura 2.36: Over sampling Schizophrenia.\nAl aplicar el balanceo de los datos basado en Over sampling se nota una considerable\nmejor\u00eda en los resultados. Los valores de kappa son signi\ufb01tcativos, siendo de 0;7699 para\nlaDepression y de 0;613para la Schizophrenia . A pesar de que el \u00abError de tipo I \u00bbse\nsigue manteniendo, los resultados positivos doblan a \u00e9stos en el primer caso y los iguala\nen el segundo. Por este motivo, se tendr\u00e1 en cuenta esta con\ufb01guraci\u00f3n para el ajuste del\nmodelo.2.4. SOFTWARE 37\n2.4. Software\nAdem\u00e1s del estudio sobre la relaci\u00f3n entre el microbioma intestinal y ciertas enfer-\nmedades mentales, documentado en apartados anteriores, se ha querido ir m\u00e1s all\u00e1\ndesarrollando una herramienta que permita al especialista obtener predicciones sobre\npacientes, y adem\u00e1s realizar la investigaci\u00f3n sobre qu\u00e9 microorganismos tienen m\u00e1s re-\nlevancia cuando se detecta una enfermedad mental. Esta herramienta permite a usuarios\ncon poco conocimiento de an\u00e1lisis estad\u00edstico y programaci\u00f3n, el poder realizar predic-\nciones e investigaciones sobre este tema.\n2.4.1. Tecnolog\u00edas\nPara desarrollar la aplicaci\u00f3n de predicci\u00f3n de enfermedades mentales, llamada MI-\nPredictor , se ha necesitado la combinaci\u00f3n de dos tecnolog\u00edas.\nEn primer lugar R, con un enfoque m\u00e1s matem\u00e1tico, responsable de todos los c\u00e1lcu-\nlos num\u00e9ricos y capaz de manejar grandes cantidades de datos, orientado al an\u00e1lisis\nestad\u00edstico, que es utilizado ampliamente en el \u00e1mbito de la ciencia de datos . [19]\nY en segundo lugar y no por ellos menos importante, Python que en este caso por\nsu versatilidad, ha servido como contenedor de todas las funciones de R y para que el\nusuario \ufb01nal pueda interact\u00faar con la aplicaci\u00f3n [20]. Se requiere la librer\u00eda RPY2 para\npoder comunicar una tecnolog\u00eda con otra. [21]\nPensando en el futuro y en la mejora de la aplicaci\u00f3n, ambas tecnolog\u00edas son de c\u00f3di-\ngo abierto[8] y disponen de amplias comunidades de desarrolladores que las mantienen\nen constante evoluci\u00f3n.38 CAP\u00cdTULO 2. METODOLOG\u00cdA\n2.4.2. Interfaz gr\u00e1\ufb01ca de usuario\nPara facilitar al usuario el manejo de la aplicaci\u00f3n, cada una de las funcionalidades\nhan sido separadas por pesta\u00f1as o tabs y cada una de \u00e9stas tiene una \ufb01nalidad espec\u00ed-\n\ufb01ca que se explica a continuaci\u00f3n.\nFigura 2.37: Tabs de cada una de las partes de la aplicaci\u00f3n\nTaxonomy\nLa pantalla Taxonomy se divide en dos apartados.\nFigura 2.38: Tab par la carga y \ufb01ltrado de la taxonom\u00eda\nEn el apartado Add taxonomy \ufb01lter list se permite introducir una lista de duplas que\ndeber\u00e1n estar formadas por un nombre de tax\u00f3n y un porcentaje, que ser\u00e1 el que se\ntendr\u00e1 en cuenta para el \ufb01ltraje. Esta entrada permite introducir tantos elementos como\nsea necesario para el \ufb01ltrado. Por defecto, est\u00e1n inclu\u00eddos aquellos requeridos para este\nproyecto, pero como se ha comentado anteriormente, permite introducir muchos m\u00e1s.2.4. SOFTWARE 39\nEn el apartado Select a taxonomy \ufb01le to \ufb01t a model se debe seleccionar un \ufb01chero\nque contenga la taxonom\u00eda de una poblaci\u00f3n, que servir\u00e1 para el entrenamiento de los\ndatos\nUna vez seleccionado el \ufb01ltro y el \ufb01chero de taxonom\u00eda se deber\u00e1 pulsar el bot\u00f3n\nApply para comenzar el proceso de \ufb01ltrado.\nMetadata\nLa pantalla Metadata se divide en dos apartados.\nFigura 2.39: Tab para la carga y \ufb01ltrado de los metadatos\nEn el apartado Filtering by taxonomy se permite con\ufb01gurar un segundo \ufb01ltro basado\nen ciertas caracter\u00edsticas del paciente. Se puede seleccionar el rango de Body mass in-\ndexBMI, donde se debe indicar el valor m\u00ednimo y el m\u00e1ximo. El resto de con\ufb01guraciones40 CAP\u00cdTULO 2. METODOLOG\u00cdA\nest\u00e1n deshabilitadas y por defecto est\u00e1n aquellos valores requeridos para el proyecto.\nEn el apartado Filtering by patients characteristics aparecen otras caracter\u00edsticas\nde los pacientes que se tendr\u00e1n en cuenta para ajustar y entrenar el modelo. En es-\nte caso aparece deshabilitada la opci\u00f3n de marcarlas o no, y por defecto est\u00e1n todas\nseleccionadas.\nUna vez elegidos los \ufb01ltros, se deber\u00e1 pulsar el bot\u00f3n Apply para comenzar el proceso\nde \ufb01ltrado.\nClassi\ufb01ers\nLa pantalla Classi\ufb01ers se divide en tres apartados.\nFigura 2.40: Tab para con\ufb01gurar los clasi\ufb01cadores\nEn el apartado Machine learning algorithms se puede seleccionar qu\u00e9 algoritmos\nse van a utilizar en el entrenamiento de los datos. Como m\u00ednimo se ha de seleccionar uno2.4. SOFTWARE 41\nde ellos. Todos los algoritmos seleccionados realizar\u00e1n un entrenamiento de los datos y\nposteriormente se determinar\u00e1 cu\u00e1l de ellos es el que tiene mejor rendimiento.\nEn el apartado Select Mental illness to evaluate results se permite seleccionar qu\u00e9\nenfermedades mentales van a ser analizadas. Por defecto est\u00e1n todas seleccionadas.\nEn el apartado Sampling option selection se permite realizar ciertas transforma-\nciones en los datos, antes de pasar por los algoritmos de clasi\ufb01caci\u00f3n. La opci\u00f3n No\nsampling no realiza ninguna transformaci\u00f3n. La opci\u00f3n Under sampling permite eliminar\nun n\u00famero de resultados negativos, en funci\u00f3n de un porcentaje que tambi\u00e9n es ajus-\ntable. Por \u00faltimo, La opci\u00f3n Over sampling permite duplicar un n\u00famero de resultados\npositivos, en funci\u00f3n de un porcentaje que tambi\u00e9n es ajustable. Es importante indicar\nque solo puede haber una de estas tres opciones seleccionada.\nTraining\nLa pantalla Training se divide en dos apartados, y permite observar visualmente el\nresultado de los entrenamientos de cada uno de los algoritmos seleccionados para cada\nuna de las enfermedades mentales, que est\u00e1n separadas por tabs.\nEn el primer apartado se muestran los resultados de cada uno de los algoritmos ele-\ngidos en el paso anterior. Se puede ver la tabla de contingencia y otros resultados como:\nF-F el sistema determin\u00f3 falso cuando era falso.\nF-T el sistema determin\u00f3 falso cuando era cierto.\nT-F el sistema determin\u00f3 cierto cuando era falso.\nT-T el sistema determin\u00f3 cierto cuando era cierto.\nAccuracy es el porcentaje de clasi\ufb01caciones correctas de todas las instancias.\nCI (intervalos de con\ufb01anza) es un posible rango de valores o intervalo (a; b), en el\nque, con una determinada probabilidad, sus l\u00edmites contendr\u00e1n el valor del par\u00e1me-\ntro poblacional que se est\u00e1 buscando.42 CAP\u00cdTULO 2. METODOLOG\u00cdA\nFigura 2.41: Tab para el entrenamiento del modelo\np_value corresponde al nivel de signi\ufb01caci\u00f3n m\u00e1s peque\u00f1o posible que puede es-\ncogerse, para el cual todav\u00eda se aceptar\u00eda la hip\u00f3tesis alternativa con las observa-\nciones actuales. Cualquier nivel de signi\ufb01caci\u00f3n escogido inferior a alpha = 0.05\ncomporta aceptar H0.\nkappa es similiar a la precisi\u00f3n de la clasi\ufb01caci\u00f3n, excepto porque se normaliza al\ninicio del azar en su conjunto de datos.\nSensitivity tambi\u00e9n se conoce como Tasa de Verdaderos Positivos. Es la proporci\u00f3n\nde casos positivos que fueron correctamente identi\ufb01cados por el algoritmo.\nSpeci\ufb01city es la Tasa de Verdaderos Negativos. Se trata de los casos negativos que\nel algoritmo ha clasi\ufb01cado correctamente.2.4. SOFTWARE 43\nEn el apartado Chart results se pueden visualizar los resultados de manera gr\u00e1\ufb01ca.\nEste apartado est\u00e1 divido a su vez en seis partes, una para cada tipo de resultado.\nIndicar que, cuando un algoritmo no ha sido seleccionado para realizar el entrena-\nmiento, la \ufb01la aparece con un color m\u00e1s oscuro que la \ufb01la de los algoritmos seleccionados\npara tal cometido.\nPatients\nLa pantalla Patients se divide en tres apartados y permite realizar todo el proceso de\nla predicci\u00f3n.\nFigura 2.42: Tab para con\ufb01gurar los pacientes a predecir\nEn el apartado Select a taxonomy \ufb01le to prediction se debe seleccionar un \ufb01chero\nque contenga la taxonom\u00eda de una poblaci\u00f3n que servir\u00e1 para realizar la predicci\u00f3n.\nEn el apartado Taxonomy list \ufb01lters added se pueden observar la selecci\u00f3n del\n\ufb01ltro taxon\u00f3mico tomada en la fase de entrenamiento con los taxones y sus respectivos\nporcentajes, pero \u00e9sta en este punto ya no es modi\ufb01cable.\nEn el apartado State of processes se puede observar los tres pasos que componen\nla predicci\u00f3n. \u00c9stos son, el \ufb01ltrado por taxonom\u00eda, el \ufb01ltrado por metadatos y por \u00faltimo,\nla predicci\u00f3n en funci\u00f3n del modelo ajustado anteriormente.44 CAP\u00cdTULO 2. METODOLOG\u00cdA\nCuando uno de estos pasos se inicia, se muestra un mensaje indicando loading . Una\nvez ha \ufb01nalizado, el mensaje cambiar\u00e1 a done . De esta manera el usuario puede ir viendo\nel proceso de predicci\u00f3n. Tambi\u00e9n hay que hacer referencia a que en la parte inferior de\nla pantalla ir\u00e1n apareciendo mensajes indicando cu\u00e1l es el proceso actual que se est\u00e1\nejecutando.\nPredictions\nLa pantalla Predictions se divide en tres apartados y permite visualizar los resultados\nde la predicci\u00f3n.\nFigura 2.43: Tab con los resultados de las predicciones2.4. SOFTWARE 45\nEn el apartado Results of predictions se muestran todos los resultados obtenidos\nsobre aquellos pacientes que han superado todos los \ufb01ltros. Para cada paciente se mues-\ntra su identi\ufb01cador y si padece o no, con un cierto intervalo de con\ufb01anza, cualquiera de\nlas siete enfermedades mentales de las que se disponen datos.\nEn el apartado Distribution of predictions se muestra el n\u00famero de pacientes que\npadecen una cierta enfermedad mental y con qu\u00e9 algoritmo se realiz\u00f3 dicha predicci\u00f3n.\nEl algoritmo que realiza la predicci\u00f3n es el que mejores resultados obtuvo en la fase de\nentrenamiento y esta elecci\u00f3n se hace autom\u00e1ticamente.\nEn el apartado Most signi\ufb01cant OTUs and characteristics in prediction by Mental\nillness se muestran aquellas unidades taxon\u00f3micas y/o caracter\u00edsticas m\u00e1s signi\ufb01cativas\npara determinar si un paciente padece cierta enfermedad mental.\n2.4.3. Resultados\nEn la gran mayor\u00eda de las pruebas que han sido realizadas, los resultados han sido\n\u00f3ptimos con intervalos de con\ufb01anza en el acierto de la predicci\u00f3n muy elevados.\nResultados en la predicci\u00f3n\nFigura 2.44: Resultados en la detecci\u00f3n de Anorexia nervosa, Bipolar disorder, Depres-\nsion y Post traumatic stress disorder\nComo se observa en la \ufb01gura 2.44, el paciente ERR2032863 padece Anorexia ner-\nvosa con una certeza del 98\u0000100 % , adem\u00e1s de Depression entre un 91\u000094 % yPost\ntraumatic stress disorder entre un 98\u000099 %. En el caso del paciente ERR2032867 , pa-\ndece Bipolar disorder entre un 97\u000099 %.46 CAP\u00cdTULO 2. METODOLOG\u00cdA\nFigura 2.45: Resultados en la detecci\u00f3n de Anorexia nervosa, Depression y Post trauma-\ntic stress disorder.\nOtros resultados obtenidos se observan en la \ufb01gura 2.45, donde el paciente ERR2306183\npadece Anorexia nervosa con una certeza del 98\u000099 % yPost traumatic stress disorder\ncon un 97\u000099 % de acierto. Los pacientes ERR2306202 yERR2306211 padecen De-\npression con una veracidad del 90\u000094 %.\nFigura 2.46: Resultados en la detecci\u00f3n de Depression y Schizophrenia\nEn la \ufb01gura 2.46, se observa como el paciente ERR2092109 padece Depression con\nun acierto entre el 91\u000094 % de las veces y Substance abuse con un intervalo de con\ufb01anza\nen que ser\u00e1 cierto de entre el 99\u0000100 % de las veces.\nFigura 2.47: Resultados en la detecci\u00f3n de Bulimia nervosa, Depression y Schizophrenia2.4. SOFTWARE 47\nEn la \ufb01gura 2.47, se observa como el paciente ERR2302863 padece Bulimia nervo-\nsacon un acierto entre el 99\u0000100 % de las veces, el paciente ERR2308945 padece\nSchizoprenia con una veracidad del 100 % y por \u00faltimo, el paciente ERR2308946 pade-\nceDepression entre el 90\u000094 % y tambi\u00e9n padece Schizoprenia con una veracidad del\n100 % .\nDistribuci\u00f3n de las predicciones\nComo se ha comentado en el apartado que trata sobre los algoritmos, aquellos que\npresenten mejores resultados a la hora de ajustar el modelo, ser\u00e1n los utilizados en la\npredicci\u00f3n de las enfermedades mentales.\nFigura 2.48: Distribuci\u00f3n de los resultados obtenidos\nRandom Forest fue el que tuvo mejor ajuste para la detecci\u00f3n de las enfermedades\nmentales de Anorexia nervosa ,Bulimia nervosa ySubstance abuse , detectando a 8,12y\n3pacientes con estos trastornos, respectivamente.\nSupport Vector Machine Lineal fue el que tuvo mejor ajuste para la detecci\u00f3n de las\nenfermedades mentales de Bipolar disorder yPost traumatic stress disorder , detectando\na6y20pacientes con estos trastornos, respectivamente.\nSupport Vector Machine Polynomial fue el que tuvo mejor ajuste para la detecci\u00f3n\nde la enfermedad mental Schizophrenia , detectando a 2pacientes con este trastorno.\nBoost Decision Tree fue el que tuvo mejor ajuste para la detecci\u00f3n de la enfermedad\nmental Depression , detectando a 208pacientes con este trastorno.48 CAP\u00cdTULO 2. METODOLOG\u00cdA\nVariables m\u00e1s signi\ufb01cativas en la predicci\u00f3n\nEste es el apartado m\u00e1s interesante, ya que muestra aquellas unidades traxon\u00f3micas\noperativas y aquellos h\u00e1bitos de los pacientes m\u00e1s signi\ufb01cativos a la hora de realizar\nla predicci\u00f3n. MeanDecreaseGini proporciona una medida de importancia que tiene en\ncuenta la contribuci\u00f3n que la variable hace a la precisi\u00f3n como el grado de clasi\ufb01caci\u00f3n\nerr\u00f3nea.\nEnAnorexia nervosa la variable m\u00e1s importante e in\ufb02uyente es OTU Bilophila .\nFigura 2.49: Variables m\u00e1s importantes en\nla predicci\u00f3n de la Anorexia nervosaUnidad Taxon\u00f3mica MeanDecreaseGini\nBilophila 0.5461412\nAnaerofustis 0.5227212\nPetrotoga 0.4502741\nunkn..Bacteroidales.o. 0.3752048\nCandidatus.Stoque\ufb01chus 0.3584045\nCuadro 2.8: Valores de las variables m\u00e1s\nimportantes en la predicci\u00f3n de la Anorexia\nnervosa\nEnBipolar disorder la variable m\u00e1s importante e in\ufb02uyente es OTU unkn..Chitinophagaceae.f. .\nFigura 2.50: Variables m\u00e1s importantes en\nla predicci\u00f3n de la Bipolar disorderUnidad Taxon\u00f3mica MeanDecreaseGini\nunkn..Chitinophagaceae.f. 0.5542027\nOdoribacter 0.5393127\nunkn..Enterobacterales.o. 0.4937905\nLachnoanaerobaculum 0.4677285\nChristensenella 0.4268557\nCuadro 2.9: Valores de las variables m\u00e1s im-\nportantes en la predicci\u00f3n de Bipolar disorder2.4. SOFTWARE 49\nEnBulimia nervosa la variable m\u00e1s importante e in\ufb02uyente es OTU Lacihabitans .\nFigura 2.51: Variables m\u00e1s importantes en\nla predicci\u00f3n de la Bulimia nervosaUnidad Taxon\u00f3mica MeanDecreaseGini\nLacihabitans 0.4396620\nOribacterium 0.4194204\nBacteroides 0.4191650\nAnaerolinea 0.3972196\nBeduini 0.3872044\nCuadro 2.10: Valores de las variables\nm\u00e1s importantes en la predicci\u00f3n de\nBulimia nervosa\nEnDepression la variable m\u00e1s importante e in\ufb02uyente es OTU Lachnoclostridium .\nFigura 2.52: Variables m\u00e1s importantes en\nla predicci\u00f3n de la DepressionUnidad Taxon\u00f3mica MeanDecreaseGini\nLachnoclostridium 4.412455\nEisenbergiella 3.263250\nAnaerotruncus 3.257128\nNegativibacillus 2.923980\nunkn..Betaproteobacteria.c. 2.903739\nCuadro 2.11: Valores de las variables m\u00e1s im-\nportantes en la predicci\u00f3n de la Depression50 CAP\u00cdTULO 2. METODOLOG\u00cdA\nEnPost traumatic stress disorder la variable m\u00e1s importante e in\ufb02uyente es OTU\nGabonibacter .\nFigura 2.53: Variables m\u00e1s importantes en\nla predicci\u00f3n de la Post traumatic stress di-\nsorderUnidad Taxon\u00f3mica MeanDecreaseGini\nGabonibacter 0.6202528\nAnaerofustis 0.5897360\nunkn..Leptotrichiaceae.f. 0.570665\nNegativibacillus 0.5654520\nPhocea 0.5392301\nCuadro 2.12: Valores de las variables m\u00e1s\nimportantes en la predicci\u00f3n de la Post trau-\nmatic stress disorder\nEnSchizophrenia la variable m\u00e1s importante e in\ufb02uyente es OTU Myxococcus .\nFigura 2.54: Variables m\u00e1s importantes en\nla predicci\u00f3n de la SchizophreniaUnidad Taxon\u00f3mica MeanDecreaseGini\nMyxococcus 0.3012020\nCulturomica 0.2948985\nBradymonas 0.2934939\nCaldisalinibacter 0.2200814\nunkn..Chromatiales.o. 0.2200814\nCuadro 2.13: Valores de las variables\nm\u00e1s importantes en la predicci\u00f3n de la\nSchizophrenia2.4. SOFTWARE 51\nEnSusbstance abuse la variable m\u00e1s importante e in\ufb02uyente es OTU Dokdonia .\nFigura 2.55: Variables m\u00e1s importantes en\nla predicci\u00f3n de Susbstance abuseUnidad Taxon\u00f3mica MeanDecreaseGini\nDokdonia 0.3198506\nunkn..Peptostreptococcaceae.f. 0.2758769\nunkn..Bacteroidales.o. 0.2714078\nMegasphaera 0.2684625\nFlintibacter 0.2565395\nCuadro 2.14: Valores de las variables m\u00e1s impor-\ntantes en la predicci\u00f3n de Susbstance abuse52 CAP\u00cdTULO 2. METODOLOG\u00cdACap\u00edtulo 3\nConclusiones\nA medida que se ha ido profundizando m\u00e1s en el tema, han ido surgiendo nuevos\nretos y se han ido aplicando t\u00e9cnicas de an\u00e1lisis ya existentes, pero sobre todo, se han\nido adaptando otras a las propias necesidades del estudio. Est\u00e1 claro, que no existe un\npatr\u00f3n universal donde se presente un problema y \u00e9ste quede resuelto sin necesidad de\nadaptarlo. El gran volumen de datos que se ha manejado en este proyecto y el bajo poder\nde c\u00f3mputo de las herramientas utilizadas, ha obligado a agudizar aun m\u00e1s el ingenio.\nLo primero que hay que destacar es que todos los objetivos han sido cumplidos e\nincluso se ha querido ir m\u00e1s all\u00e1 y se han conseguido otros que no estaban previstos\ninicialmente, pero que a medida que ha ido evolucionando en el proyecto ha sido oportuno\na\u00f1adir.\nEste trabajo se compone de dos partes bien diferenciadas. La primera, basada en el\nestudio y an\u00e1lisis de los datos suministrados y una segunda, centrada en el desarrollo de\nuna aplicaci\u00f3n de software donde se pone en pr\u00e1ctica el an\u00e1lisis anterior.\nEl objetivo principal en la primera parte y el \ufb01n en si mismo, era que a partir de una\npoblaci\u00f3n de unidades taxon\u00f3micas, poder llegar a detectar cu\u00e1les son las m\u00e1s in\ufb02uyen-\ntes en cada una de las enfermedades mentales a analizar. El primer reto ha sido manejar\ntoda esta informaci\u00f3n y prepararla para su posterior an\u00e1lisis y ajuste de un modelo capaz\nde realizar predicciones.\n5354 CAP\u00cdTULO 3. CONCLUSIONES\nLa di\ufb01cultad ha estado en este punto en concreto, porque a pesar de disponer de\nm\u00e1s de 16000 pacientes con sus respectivos microbiomas, una gran parte de ellos no\ndispon\u00edan de toda la informaci\u00f3n necesaria, o quedaron descartados una vez pasada la\nfase de \ufb01ltrado, reduci\u00e9ndose as\u00ed la poblaci\u00f3n a unos 2500 pacientes en total para el\nan\u00e1lisis.\nAdem\u00e1s, salvo en el caso de la Depression, el resto de enfermedades mentales te-\nn\u00edan muy pocos casos positivos. Esto mismo ha di\ufb01cultado la tarea a los algoritmos de\nclasi\ufb01caci\u00f3n y ha obligado a utilizar t\u00e9cnicas de Re-sampling . A pesar de que el poner en\npr\u00e1ctica estas t\u00e9cnicas podr\u00eda dar la sensaci\u00f3n de que se est\u00e1n manipulando los datos\nde entrada, lo que nos est\u00e1 diciendo esto realmente, es que con m\u00e1s datos positivos el\nmodelo estar\u00e1 mejor ajustado y por lo tanto, la predicci\u00f3n ser\u00e1 mejor. Este desbalanceo\nen los datos se ha solucionado de esta manera y a partir de ese momento, se empezaron\na tener resultados signi\ufb01cativos y realmente buenos.\nUna vez realizada la preparaci\u00f3n de los datos y la evaluaci\u00f3n de los algoritmos, se ha\ndesarrollado una aplicaci\u00f3n de software que engloba todo este an\u00e1lisis, convierti\u00e9ndose\nen una herramienta de predicci\u00f3n de enfermedades mentales, ajustable a las necesida-\ndes del usuario.\nAdem\u00e1s de realizar dicha predicci\u00f3n, esta herramienta nos informa de aquellas va-\nriables o factores m\u00e1s importantes que son las que han in\ufb02uenciado en la decisi\u00f3n \ufb01nal.\nPor lo tanto, esta aplicaci\u00f3n facilita la tarea del usuario, permitiendo realizar predicciones\nsobre enfermedades mentales de pacientes a partir del microbioma intestinal. Esto es\nextrapolable a cualquier otro tipo de microbioma, realizando los cambios pertinentes en\nel software. Cabe destacar que esta herramienta permite estudiar aquellos OTUs signi-\n\ufb01cativos en el resultado, adem\u00e1s de permitir ajustar el balanceo de los datos en funci\u00f3n\nde las necesidades del momento.\nLa plani\ufb01caci\u00f3n se ha seguido estrictamente, a pesar de la situaci\u00f3n actual de pan-\ndemia que estamos viviendo actualmente. Se ha tenido que realizar un esfuerzo sobre-\nhumano para poder cumplir los plazos, teniendo en cuenta que se debia compaginar el\nteletrabajo con el cuidado de mis dos hijos peque\u00f1os y la realizaci\u00f3n de este trabajo \ufb01nal\nde m\u00e1ster.55\nEn este sentido, he de agradecer la extensi\u00f3n de tiempo de dos semanas que me ha\npermitido no solo cumplir con lo plani\ufb01cado, sino realizar aquellas mejoras no previstas,\npero bajo mi punto de vista, importantes para el proyecto.\nEl trabajar en este proyecto me ha permitido pensar sobre temas todav\u00eda descono-\ncidos para la investigaci\u00f3n. Temas que me han rondado durante mucho tiempo en la\ncabeza y que, de una forma u otra, he podido dar a luz, como por ejemplo, un analizador\nen tiempo real del estado de nuestro microbioma, capaz de detectar alteraciones en la\nvariabilidad de \u00e9ste. Adem\u00e1s, esta herramienta deber\u00eda ser port\u00e1til y de f\u00e1cil uso y adqui-\nsici\u00f3n, ya que el usuario \ufb01nal es el propio analizado. Y yendo mucho m\u00e1s all\u00e1, ser\u00eda aun\nm\u00e1s efectivo que este analizador sea un dispositivo electr\u00f3nico insertado en el propio\nintestino, suministrando informaci\u00f3n relevante de todo lo que est\u00e1 pasando en \u00e9l.\nLa mente humana es el gran desconocido para la propia humanidad, donde diferentes\nciencias intentan descrifrar y desvelar sus interioridades. \u00bfSomos conscientes, porque\npensamos? \u00bfQui\u00e9n o qu\u00e9 alimenta ese pensamiento? \u00bfSe mapear\u00e1 la mente y se corre-\nlacionar\u00e1 cada parte de ella con nuestro microbioma?\nSolo hay que ponerse manos a la obra, porque:\n\"El hombre que mueve monta\u00f1as empieza apartando piedrecitas. \"CONFUCIO56 CAP\u00cdTULO 3. CONCLUSIONESGlosario\nAGP Plataforma abierta para la investigaci\u00f3n de microbiomas de ciencia ciudadana. 13\nBDT Boost decision tree son modelos de predicci\u00f3n que sirven para representar y cate-\ngorizar una serie de condiciones que ocurren de forma sucesiva para la resoluci\u00f3n\nde un problema. 4\nCrohn Alteraci\u00f3n de la microbiota intestinal. 12\ndisbiosis Alteraci\u00f3n de la microbiota. 1, 12\nDistancia de Manhattan M\u00e9trica en la que la distancia entre dos puntos es la suma de\nlas diferencias (absolutas) de sus coordenadas. 18\nJSON Formato de texto sencillo para el intercambio de datos. 4, 14\nK-means M\u00e9todo de agrupamiento. 18\nkappa Medida estad\u00edstica que ajusta el efecto del azar. 26, 27, 30\u201332, 35, 36\nMachine learning Conjunto de algoritmos que transforman los datos en conocimiento\nprocesable. 2\nMetadatos Datos que describen otros datos. 4\nmicrobi\u00f3mico Microbioma es el conjunto total de genes de la microbiota. 12\nmicrobiota Conjunto de microorganismos que conviven simbi\u00f3ticamente con el nuestro.\n11\n5758 Glosario\nOTU Operational Taxonomic Unit, es una unidad muy utilizada en la investigaci\u00f3n de la\ndiversidad microbiana. 4, 5, 13, 16, 54\nOver sampling Sobremuestreo de los resultados positivos. 22, 27, 36, 41\nPython Lenguaje de programaci\u00f3n orientado a objetos interpretado. 3\nREntorno y lenguaje de programaci\u00f3n con un enfoque al an\u00e1lisis estad\u00edstico. 3\nRe-sampling Conjunto de m\u00e9todos para garantizar que el modelo es lo su\ufb01cientemente\nbueno para manejar variaciones en los datos. 22, 30, 34, 35, 54\nRFRandom Forest est\u00e1 basado, principalmente, en los \u00c1rboles de Decisi\u00f3n con la dife-\nrencia de que cada nodo est\u00e1 dividido por el mejor de un subconjunto aleatorio de\nvariables, en lugar de la mejor de todas las variables. 4\nRPY2 Proporciona acceso desde Python para utilizar funciones R. 37\nSVM Support Vector Machine son un conjunto de algoritmos de aprendizaje supervisado\nrelacionados con problemas de clasi\ufb01caci\u00f3n y regresi\u00f3n. 4\ntaxonom\u00eda Ciencia que trata de los principios, m\u00e9todos y \ufb01nes de la clasi\ufb01caci\u00f3n, gene-\nralmente cient\u00ed\ufb01ca; se aplica, en especial, dentro de la biolog\u00eda para la ordenaci\u00f3n\njerarquizada y sistem\u00e1tica de los grupos de animales y de vegetales. 2\nUnder sampling Submuestreo de los resultados negativos. 22, 31Bibliograf\u00eda\n[1] Lantz, B. (2015).00Machine Learning with R: discover how to build machine\nlearning algorithms, prepare data, and dig deep into data prediction techni-\nques with R00.\n[2] Everitt, B., Hothorn, T. (2011).00An introduction to applied multivariate analysis\nwith R. New York: Springer00.\n[3] Michel Aceves, R., Izeta Guti\u00e9rrez, AC., Torres Alarc\u00f3n, G., Margarita Michel\nIzeta, AC. (2017).00La microbiota y el microbioma intestinal humano. (Entre\nlas llaves del reino y una nueva caja de Pandora)00.\n[4] Salaverry, O. (2012).00The stone of madness: Starting points of the history of\nmental health00.\n[5] Alles-Colomer, M., Falony, G., Darzi, Y. et al. (2019).00The neuroactive poten-\ntial of the human gut microbiota in quality of life and depression00.\n[6] Svoboda, E. (2020).00Could the gut microbiome be linked to autism?00\n[7] Salagre, E., Vieta, E., Grande, I. (2017).00The visceral brain: Bipolar disorder\nand microbiota00.\n[8] Levine, S. S., & Prietula, M. J. (2014).00Open collaboration for innovation:\nPrinciples and performance.00. Organization Science, 25(5), 1414-1433. doi:\n10.1287orsc.2013.0872\n[9] Ho, Tin Kam (1995).00Random Decision Forest. Proceedings of the 3rd Inter-\nnational Conference on Document Analysis and Recognition00, Montreal, QC,\n5960 BIBLIOGRAF\u00cdA\n14\u201316 August 1995. pp. 278-282. Archivado desde el original el 4 de julio de\n2008.\n[10] Handling Imbalanced Datasets in Deep Learning.\nhttps://towardsdatascience.com/handling-imbalanced-datasets-in-deep.\n[11] Hannah Ritchie and Max Roser (2019).00Mental Health00. Published onli-\nne at OurWorldInData.org. Retrieved from: \u2018https://ourworldindata.org/mental-\nhealth\u2018\n[12] OMS, ACNUR (2015).00Evaluaci\u00f3n de necesidades y recursos psicosociales\ny de salud mental00. N\u00famero de p\u00e1ginas: 84, Fecha de publicaci\u00f3n: 2015,\nIdiomas: \u00c1rabe, espa\u00f1ol, franc\u00e9s, ingl\u00e9s, ruso; ISBN: 978 92 4 354853 1\n[13] Daniel McDonald, Embriette Hyde, Justine W. Debelius, James T. Morton,\nAntonio Gonzalez, Gail Ackermann, Alexander A. Aksenov, Bahar Behsaz,\nCaitriona Brennan, Yingfeng Chen, Lindsay DeRight Goldasich, Pieter C. Do-\nrrestein, Robert R. Dunn, Ashkaan K. Fahimipour, James Gaffney, Jack A.\nGilbert, Grant Gogul, Jessica L. Green, Philip Hugenholtz, Greg Humphrey,\nCurtis Huttenhower, Matthew A. Jackson, Stefan Janssen, Dilip V. Jeste, Ling-\njing Jiang, Scott T. Kelley, Dan Knights, Tomasz Kosciolek, Joshua Ladau, Jeff\nLeach, Clarisse Marotz, Dmitry Meleshko, Alexey V. Melnik, Jessica L. Met-\ncalf, Hosein Mohimani, Emmanuel Montassier, Jose Navas-Molina, Tanya T.\nNguyen, Shyamal Peddada, Pavel Pevzner, Katherine S. Pollard, Gholama-\nli Rahnavard, Adam Robbins-Pianka, Naseer Sangwan, Joshua Shorenstein,\nLarry Smarr, Se Jin Song, Timothy Spector, Austin D. Swafford, Varykina G.\nThackray, Luke R. Thompson, Anupriya Tripathi, Yoshiki V\u00e1zquez-Baeza, Ali-\nson Vrbanac, Paul Wischmeyer, Elaine Wolfe, Qiyun Zhu, The American Gut\nConsortium, Rob Knight, Casey S. Greene (2018).00American Gut: an Open\nPlatform for Citizen Science Microbiome Research00. http://americangut.org;\nEditor DOI: 10.1128/mSystems.00031-18\n[14] NCBI (2015).00American Gut Project00, BioProject:\nhttps://www.ncbi.nlm.nih.gov/bioproject?term=PRJEB11419&cmd=DetailsSearchBIBLIOGRAF\u00cdA 61\n[15] Wing Sun Faith Chung, Alan W. Walker, Petra Louis, Julian Parkhill, Joan\nVermeiren, Douwina Bosscher, Sylvia H. Duncan, and Harry J. Flint (2016).\n00Modulation of the human gut microbiota by dietary \ufb01bres occurs at the spe-\ncies level00Published online 2016 Jan 11. doi: 10.1186/s12915-015-0224-3\n[16] Lin, Chih-Jen (2012).00Machine learning software: design and practical use00.\nMachine Learning Summer School. Kyoto.\n[17] Manimozhiyan Arumugam, Jeroen Raes, Eric Pelletier, Denis Le Paslier, Ta-\nkuji Yamada, Daniel R Mende, Gabriel R Fernandes, Julien Tap, Thomas\nBruls, Jean-Michel Batto, Marcelo Bertalan, Natalia Borruel, Francesc Ca-\nsellas, Leyden Fernandez, Laurent Gautier, Torben Hansen, Masahira Hat-\ntori, Tetsuya Hayashi, Michiel Kleerebezem, Ken Kurokawa, Marion Leclerc,\nFlorence Levenez, Chaysavanh Manichanh, H Bj\u00f8rn Nielsen, Trine Nielsen,\nNicolas Pons, Julie Poulain, Junjie Qin, Thomas Sicheritz-Ponten, Sebastian\nTims, David Torrents, Edgardo Ugarte, Erwin G Zoetendal, Jun Wang, Fran-\ncisco Guarner, Oluf Pedersen, Willem M de Vos, S\u00f8ren Brunak, Joel Dor\u00e9,\nMetaHIT Consortium; Mar\u00eda Antol\u00edn, Fran\u00e7ois Artiguenave, Herv\u00e9 M Blottie-\nre, Mathieu Almeida, Christian Brechot, Carlos Cara, Christian Chervaux, An-\ntonella Cultrone, Christine Delorme, G\u00e9rard Denariaz, Rozenn Dervyn, Kon-\nrad U Foerstner, Carsten Friss, Maarten van de Guchte, Eric Guedon, Flo-\nrence Haimet, Wolfgang Huber, Johan van Hylckama-Vlieg, Alexandre Ja-\nmet, Catherine Juste, Ghalia Kaci, Jan Knol, Omar Lakhdari, Severine La-\nyec, Karine Le Roux, Emmanuelle Maguin, Alexandre M\u00e9rieux, Raquel Me-\nlo Minardi, Christine M\u2019rini, Jean Muller, Raish Oozeer, Julian Parkhill, Pie-\nrre Renault, Maria Rescigno, Nicolas Sanchez, Shinichi Sunagawa, Antonio\nTorrejon, Keith Turner, Gaetana Vandemeulebrouck, Encarna Varela, Yoha-\nnan Winogradsky, Georg Zeller, Jean Weissenbach, S Dusko Ehrlich, Peer\nBork (2011).00Enterotypes of the Human Gut Microbiome00. Nature. 2011 May\n12;473(7346):174-80. doi: 10.1038/nature09944. Epub 2011 Apr 20.\n[18] Col\u00edn, Carlos A. N\u00fa\u00f1ez, & Alejandro F. Barrientos Priego (2006).00Estimaci\u00f3n\nde la variabilidad interna de muestras poblacionales, mediante an\u00e1lisis de62 BIBLIOGRAF\u00cdA\ncomponentes principales00. Interciencia: Revista de ciencia y tecnolog\u00eda de\nAm\u00e9rica, 31(11), 802-806.\n[19] \u00abrstudio/rstudio\u00bb. GitHub.00RStudio00. Consultado el 18 de diciembre de 2016.\n[20] Guttag, John V. (12 August 2016).00Introduction to Computation and Pro-\ngramming Using Python: With Application to Understanding Data00. MIT Press.\nISBN 978-0-262-52962-4.\n[21] Laurent Gautier (embedded R) (2020).00Python interface to the R language00.\nhttps://pypi.org/project/rpy2/Anexos\n63Anexo A\nM\u00e9todos y funciones de la aplicaci\u00f3n\nEl c\u00f3digo fuente de la aplicaci\u00f3n y del an\u00e1lisis de datos se encuentran disponibles en\nhttps://bitbucket.org/derdritteraum/workspace/projects/BIOIN\nA.1. Front-end\nPara poder permitir al usuario acceder a todas las funcionalidades de la aplicaci\u00f3n,\nha sido necesario implementar una GUI. Para ello, se ha creado una clase llamada MIP-\nWindow desde la que el usuario realizar\u00e1, de forma directa o indirecta, todas las acciones\nnecesarias para completar su predicci\u00f3n.\nEn el constructor se declaran principalmente aquellas variables que se van a ir\nactualizando durante todo el proceso, el estilo de la GUI y la fuente de los textos, y\nsobre todo las dimensiones de la ventana, t\u00edtulo, icono y colores.\nM\u00e9todo layout() permite habilitar todos los tabs de la aplicaci\u00f3n y llamar a aquellos\nm\u00e9todos responsables de su implementaci\u00f3n.\nM\u00e9todo patients_tab() permite mostrar al usuario todo lo relacionado con la predic-\nci\u00f3n.\nM\u00e9todo taxonomy_tab() permite mostrar al usuario todo lo relacionado con la taxo-\nnom\u00eda.\n6566 ANEXO A. M\u00c9TODOS Y FUNCIONES DE LA APLICACI\u00d3N\nM\u00e9todo metadata_tab() permite mostrar al usuario todo lo relacionado con los me-\ntadatos.\nM\u00e9todo classi\ufb01ers_tab() permite mostrar al usuario todo lo relacionado con los\nalgoritmos de clasi\ufb01caci\u00f3n.\nM\u00e9todo results_tab() permite mostrar al usuario todo lo relacionado con los resul-\ntados obtenidos despu\u00e9s del entrenamiento.\nM\u00e9todo prediction_tab() permite mostrar al usuario todos los resultados obtenidos\ndespu\u00e9s de la predicci\u00f3n.\nM\u00e9todo about_tab() permite mostrar al usuario informaci\u00f3n sobre el proyecto y par-\ntes implicadas en \u00e9l.\nM\u00e9todo generic_result() permite mostrar los resultados obtenidos despu\u00e9s del en-\ntrenamiento tanto a nivel num\u00e9rico como a nivel gr\u00e1\ufb01co. Esta pantalla al ser gen\u00e9ri-\nca se reutilizar\u00e1 para todas las diferentes enfermedades mentales.\nM\u00e9todo simple_chart() permite realizar una representaci\u00f3n gr\u00e1\ufb01ca de un resultado\npor algoritmo.\nM\u00e9todo multi_chart() ermite realizar una representaci\u00f3n gr\u00e1\ufb01ca de varios resulta-\ndos por algoritmo.\nM\u00e9todo start_taxonomy_\ufb01ltered() permite cargar los \ufb01cheros de taxonom\u00eda y apli-\ncar los \ufb01ltros, tanto para la fase de entrenamiento como para la fase de predicci\u00f3n.\nM\u00e9todo start_metadata_\ufb01ltered() permite cargar los \ufb01cheros de metadatos y apli-\ncar los \ufb01ltros, tanto para la fase de entrenamiento como para la fase de predicci\u00f3n.\nM\u00e9todo start_generate_model() permite generar el modelo para cada una de las\nenfermedades mentales.\nM\u00e9todo execute_prediction() permite realizar la predicci\u00f3n bas\u00e1ndose en el mo-\ndelo ajustado para cada una de las enfermedades mentales.A.2. BACK-END 67\nM\u00e9todo xxx_RFunction_calculations() permiten calcular todos los resultados para\ncada algoritmo para cada enfermedad mental.\nM\u00e9todo decide_best_algorithm() permite decidir cu\u00e1l de los algoritmos seleccio-\nnados en la fase de entrenamiento ha obtenido mejor resultado para cada enferme-\ndad mental, y por lo tanto, ser\u00e1 el utilizado en la fase de predicci\u00f3n. Este criterio\nest\u00e1 basado en obtener el mejor resultado despu\u00e9s de sumar la precisi\u00f3n accuracy\ny el estad\u00edstico kappa.\nA.2. Back-end\nPara realizar la extracci\u00f3n de los datos taxon\u00f3micos y su posterior \ufb01ltrado, se ha\ncreado una clase llamada Taxonomy preparada para gestionar toda la informaci\u00f3n sobre\neste tipo de datos.\nload_\ufb01le() se encarga de realizar la lectura de los datos desde el \ufb01chero de taxo-\nnom\u00eda para poder crear una matriz con ellos.\ncreate_matrix() es responsable directo de la creaci\u00f3n de la matriz de datos. Recoge\nl\u00ednea a l\u00ednea el contenido del \ufb01chero y las convierte en listas.\ninsert_list_in_matrix() toma cada una de estas l\u00edneas le\u00eddas desde el \ufb01chero y\nsepara cada uno de los elementos que completar\u00e1 \ufb01nalmente la lista.\nCon estos tres m\u00e9todos se pasa toda la informaci\u00f3n del \ufb01chero a una matriz o lista de\nlistas. El siguiente paso es el \ufb01ltrado o supresi\u00f3n de aquella informaci\u00f3n no necesaria.\nEn este caso lo que se pretende es suprimir a aquellos individuos de la lista con un por-\ncentaje de Pseudomonas superior al 3 % y un porcentaje de (unkn.) Enterobacteiaceae(f)\ntambi\u00e9n superior al 3 %.\nmicroorganism_\ufb01lter() guarda una lista de \u00edndices de pacientes que no cumplen\nlos requisitos del \ufb01ltro, para ser eliminados de la matriz de taxonom\u00eda. Este m\u00e9todo\nrecibe como par\u00e1metro un diccionario con el microorganismo y el porcentaje. De\nesta manera, sin en un futuro se quisieran a\u00f1adir m\u00e1s microorganismos u otros\nvalores en los porcentajes, no habr\u00eda que modi\ufb01carlo.68 ANEXO A. M\u00c9TODOS Y FUNCIONES DE LA APLICACI\u00d3N\n\ufb01lter_taxonomy_matrix() es el responsable directo de eliminar aquellos pacientes\nque no cumplen con las condiciones deseadas. Recibe una lista de \u00edndices a supri-\nmir, generada por el m\u00e9todo microorganism_\ufb01lter() , y de mayor a menor procede a\nla supresi\u00f3n.\nget_taxonomy_matrix() retorna la matriz de taxonom\u00eda una vez realizados todos\nlos \ufb01ltrados.\nget_patientsId_list() retorna la lista con todos los identi\ufb01cadores de los pacientes\nque han pasado el \ufb01ltrado.\nget_microorganism_list() retorna la lista de los nombres de todos los microorga-\nnismos.\nchange_bacteria_name() reduce el nombre de la bacteria de una manera dr\u00e1stica\npara un mejor manejo de los datos y evitar nombre muy largos.\nget_bacteria_name() retorna el nombre original de la bacteria, es decir, su versi\u00f3n\nlarga del nombre.\nwrite_\ufb01le() permite generar un \ufb01chero, con los datos obtenidos despu\u00e9s del \ufb01ltrado,\nde la matriz de taxonom\u00eda.\nPara realizar la extracci\u00f3n de los metadatos de cada uno de los pacientes, se ha utili-\nzado la tecnolog\u00eda Python. Para este caso en concreto, se ha creado una clase llamada\nMetadata preparada para gestionar toda la informaci\u00f3n sobre este tipo de datos.\n\ufb01lter_by_taxonomy() se encarga de la obtenci\u00f3n de la matriz de taxonom\u00eda gene-\nrada a trav\u00e9s de la clase Taxonomy.\n\ufb01lter_by_metadata() es el m\u00e1s importante de la clase, ya que es responsable del\n\ufb01ltrado total de todos los datos. Toma la lista de pacientes v\u00e1lidos en el \ufb01ltrado\ntaxon\u00f3mico y uno a uno comprobar\u00e1 si cumplen con los requisitos de \ufb01ltrado.\n\u00cdndice de masa corporal (BMI) si este valor no est\u00e1 entre los valores 18y30o no\nse tuviera informaci\u00f3n al respecto, este paciente quedar\u00e1 descartado del juego de\ndatos a analizar.A.2. BACK-END 69\nPadecer enfermedad intestinal (IBD) si el resultado es un diagn\u00f3stico positivo, ya\nsea por un profesional m\u00e9dico o un practicante de medicina alternativa, por el mismo\npaciente o no se tuviera informaci\u00f3n al respecto, este paciente quedar\u00e1 descartado\ndel juego de datos a analizar.\nPadecer Diabetes si el resultado es un diagn\u00f3stico positivo, ya sea por un profe-\nsional m\u00e9dico o un practicante de medicina alternativa, por el mismo paciente o no\nse tuviera informaci\u00f3n al respecto, este paciente quedar\u00e1 descartado del juego de\ndatos a analizar.\nHaber tomado alg\u00fan tipo de antibi\u00f3tico en los \u00faltimos seis meses tambi\u00e9n descar-\ntar\u00e1 a este paciente del juego \ufb01nal de datos.\nEs importante tener informaci\u00f3n sobre si los pacientes tienen o no alguna enferme-\ndad mental. En el caso en que el valor obtenido en todas las enfermedades menta-\nles no este especi\ufb01cado, Unspeci\ufb01ed , tambi\u00e9n quedar\u00e1 descartado el paciente.\nCuando un paciente supera todos estos \ufb01ltros ser\u00e1 insertada toda esta informaci\u00f3n\nm\u00e1s otras caracter\u00edsticas al conjunto de datos. Se han creado otros m\u00e9todos que ayudan\na la obtenci\u00f3n de los resultados, prepar\u00e1ndolos para el an\u00e1lisis.\ncheck_characteristic_if_has_condition() recibe un resultado obtenido de una ca-\nracter\u00edstica del paciente y se retorna un resultado m\u00e1s signi\ufb01cativo o con una lon-\ngitud del literal mucho m\u00e1s corto. Como por ejemplo, si se recibe \u2018Diagnosed by a\nmedical professional (doctor, physician assistant)\u2019 se retornar\u00e1 \u2018Medical diagnose\u2019 .\ncheck_mental_illness_character_result() retorna \u2018True\u2019 o\u2018False\u2019 dependiendo si\nse padece o no cierta enfermedad mental y en cualquier otro caso se retornar\u00e1 sin\nespeci\ufb01car \u2018Unspeci\ufb01ed\u2019 .\ngetCharacteristics() dependiendo de la caracter\u00edstica a buscar retorna su valor.\nUna vez obtenido todos los datos, el siguiente paso es uni\ufb01carlos con la matriz de\ntaxonom\u00eda.70 ANEXO A. M\u00c9TODOS Y FUNCIONES DE LA APLICACI\u00d3N\nmerge_taxonomy_and_metadata_matrix() a\u00f1ade la \ufb01nal de la matriz de taxono-\nm\u00eda todos los resultados obtenidos a partir de los metadatos de cada paciente.\nPuede suceder que una bacteria sea irrelevante debido a la falta de resultados o\nincluso por carecer de ellos. Por lo tanto, ya que no va a realizar ninguna aportaci\u00f3n\nal estudio y adem\u00e1s va a incrementar el consumo de los recursos del sistema en los\nc\u00e1lculos, se proceder\u00e1 a eliminar aquellas poco relevantes.\nclean_merge_matrix() permite eliminar bacterias irrelevantes. Para determinar cu\u00e1-\nles son, se comprobar\u00e1 el n\u00famero de valores diferente a \u20180\u2019 encontrados.\nwrite_\ufb01le_dataset() tomar\u00e1 lista a lista de la matriz resultante y las insertar\u00e1 en un\n\ufb01chero a modo de juego de datos. \u00c9ste est\u00e1 preparado para su uso con la tecnolog\u00eda\nR.\nA.3. Llamadas a las funciones R\nPara realizar llamadas a las funciones de R se ha necesitado crear una nueva clase\nllamada RFunctions que se encarga de todas estas tareas.\nEn el constructor se cargan todas las librer\u00edas necesarias, como por ejemplo las\nlibrer\u00edas que procesan los algoritmos de entrenamiento.\nM\u00e9todo load_data() yload_data_prediction() tienen el mismo cometido, que es\nla de cargar los \ufb01cheros .csv generados en los pasos previos al entrenamiento. La\ndiferencia es que el primer m\u00e9todo carga el \ufb01chero .csv para el entrenamiento, y el\nsegundo m\u00e9todo carga el \ufb01chero .csv para la predicci\u00f3n.\nM\u00e9todo distribute_data() ydistribute_data_prediction() se encargan de distribuir\nlos datos le\u00eddos del juego de datos en funci\u00f3n de si son taxon\u00f3micos, o metadatos\npara el entrenamiento y la predicci\u00f3n, y si son enfermedades mentales que en este\ncaso solo afecta al entrenamiento.\nM\u00e9todo normalize_data() ynormalize_data_prediction() realizan la normaliza-\nci\u00f3n de los datos para el entrenamiento y para la predicci\u00f3n.A.3. LLAMADAS A LAS FUNCIONES R 71\nM\u00e9todo add_mental_illness_data() permite a\u00f1adir cada una de las enfermedades\nmentales al dataframe \ufb01nal.\nM\u00e9todo f_under_sampling() permite recortar resultados negativos del juego de da-\ntos.\nM\u00e9todo f_over_sampling() permite a\u00f1adir resultados positivos al juego de datos.\nM\u00e9todo f_confusion_matrix_xxx() permite crear la matriz de confusi\u00f3n para cada\nuna de las enfermedades mentales tomadas como variables de salida.\nM\u00e9todo calculate_result() permite obtener el resultado despu\u00e9s del entrenamiento\ny despu\u00e9s de la predicci\u00f3n.\nM\u00e9todo get_patientsId_prediction_list() retorna una lista con los identi\ufb01cadores\nde cada uno de los pacientes a los que se les ha hecho la predicci\u00f3n.72 ANEXO A. M\u00c9TODOS Y FUNCIONES DE LA APLICACI\u00d3NAnexo B\nDistribuciones\nB.1. Estad\u00edstica descriptiva\nFigura B.1: Distribuci\u00f3n de los datos referente a la edad, el sexo, la altura y el peso\n7374 ANEXO B. DISTRIBUCIONES\nFigura B.2: Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia en la ingesta de vegetales, marisco,\nfruta y carne roja\nFigura B.3: Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia en la toma de un litro de agua, bebidas\nazucaradas, alcohol y tabacoB.1. ESTAD\u00cdSTICA DESCRIPTIVA 75\nFigura B.4: Representaci\u00f3n gr\u00e1\ufb01ca de los datos referente a la duraci\u00f3n del sue\u00f1o, diag-\nn\u00f3stico de tener migra\u00f1a, re\ufb02ujo de \u00e1cidos y enfermedades cardiovasculares\nFigura B.5: Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia del uso de cosm\u00e9ticos, ejercicio y va-\ncuna para la gripe, adem\u00e1s del tipo de anticonceptivo usado76 ANEXO B. DISTRIBUCIONES\nFigura B.6: Representaci\u00f3n gr\u00e1\ufb01ca de los datos referente enfermedades de ri\u00f1\u00f3n, h\u00edgado\ny pulm\u00f3n, y la frecuencia de consumo de huevo de carne.\nFigura B.7: Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia del consumo de queso, multivitaminas\ny probi\u00f3ticos, adem\u00e1s de la condici\u00f3n de estar embarazadaB.1. ESTAD\u00cdSTICA DESCRIPTIVA 77\nFigura B.8: Representaci\u00f3n gr\u00e1\ufb01ca de frecuencia del consumo de snaks, azucar, vitamina\nb y vitamina d78 ANEXO B. DISTRIBUCIONESAnexo C\nClasi\ufb01cadores\nA continuaci\u00f3n, se muestran las tablas de confusi\u00f3n para cada uno de los clasi\ufb01cado-\nres en cada una de la enfermedades mentales, despu\u00e9s de ajustar el modelo.\nFigura C.1: No sampling Anorexia - RF\n Figura C.2: No sampling Anorexia - BDT\n7980 ANEXO C. CLASIFICADORES\nFigura C.3: No sampling Anorexia - SVM li-\nneal\nFigura C.4: No sampling Anorexia - SVM\npolynomial\nFigura C.5: Under sampling Anorexia - RF\n Figura C.6: Under sampling Anorexia - BDT\nFigura C.7: Under sampling Anorexia - SVM\nlineal\nFigura C.8: Under sampling Anorexia - SVM\npolynomial81\nFigura C.9: Over sampling Anorexia - RF\n Figura C.10: Over sampling Anorexia - BDT\nFigura C.11: Over sampling Anorexia - SVM\nlineal\nFigura C.12: Over sampling Anorexia - SVM\npolynomial\nFigura C.13: No sampling Bipolar - RF\n Figura C.14: No sampling Bipolar - BDT82 ANEXO C. CLASIFICADORES\nFigura C.15: No sampling Bipolar - SVM li-\nneal\nFigura C.16: No sampling Bipolar - SVM\npolynomial\nFigura C.17: Under sampling Bipolar - RF\n Figura C.18: Under sampling Bipolar - BDT\nFigura C.19: Under sampling Bipolar - SVM\nlineal\nFigura C.20: Under sampling Bipolar - SVM\npolynomial83\nFigura C.21: Over sampling Bipolar - RF\n Figura C.22: Over sampling Bipolar - BDT\nFigura C.23: Over sampling Bipolar - SVM\nlineal\nFigura C.24: Over sampling Bipolar - SVM\npolynomial\nFigura C.25: No sampling Bulimia - RF\n Figura C.26: No sampling Bulimia - BDT84 ANEXO C. CLASIFICADORES\nFigura C.27: No sampling Bulimia - SVM li-\nneal\nFigura C.28: No sampling Bulimia - SVM\npolynomial\nFigura C.29: Under sampling Bulimia - RF\n Figura C.30: Under sampling Bulimia - BDT\nFigura C.31: Under sampling Bulimia - SVM\nlineal\nFigura C.32: Under sampling Bulimia - SVM\npolynomial85\nFigura C.33: Over sampling Bulimia - RF\n Figura C.34: Over sampling Bulimia - BDT\nFigura C.35: Over sampling Bulimia - SVM\nlineal\nFigura C.36: Over sampling Bulimia - SVM\npolynomial\nFigura C.37: No sampling Post traumatic\nstress disorder - RF\nFigura C.38: No sampling PTSD - BDT86 ANEXO C. CLASIFICADORES\nFigura C.39: No sampling PTSD - SVM li-\nneal\nFigura C.40: No sampling PTSD - SVM\npolynomial\nFigura C.41: Under sampling PTSD - RF\n Figura C.42: Under sampling PTSD - BDT\nFigura C.43: Under sampling PTSD - SVM\nlineal\nFigura C.44: Under sampling PTSD - SVM\npolynomial87\nFigura C.45: Over sampling PTSD - RF\n Figura C.46: Over sampling PTSD - BDT\nFigura C.47: Over sampling PTSD - SVM li-\nneal\nFigura C.48: Over sampling PTSD - SVM\npolynomial\nFigura C.49: No sampling Substance Abuse\n- RF\nFigura C.50: No sampling Substance Abuse\n- BDT88 ANEXO C. CLASIFICADORES\nFigura C.51: No sampling Substance Abuse\n- SVM lineal\nFigura C.52: No sampling Substance Abuse\n- SVM polynomial\nFigura C.53: Under sampling Substance\nAbuse - RF\nFigura C.54: Under sampling Substance\nAbuse - BDT\nFigura C.55: Under sampling Substance\nAbuse - SVM lineal\nFigura C.56: Under sampling Substance\nAbuse - SVM polynomial89\nFigura C.57: Over sampling Substance\nAbuse - RF\nFigura C.58: Over sampling Substance\nAbuse - BDT\nFigura C.59: Over sampling Substance\nAbuse - SVM lineal\nFigura C.60: Over sampling Substance\nAbuse - SVM polynomial", "language": "PDF", "image": "PDF", "pagetype": "PDF", "links": "PDF"}