{"title": "Comprender c\u00f3mo funciona el equilibrio de carga", "author": "Con la colaboraci\u00f3n de ingenieros de Cisco ribruce vbaveja rvigil mlluis", "url": "https://www.cisco.com/c/es_mx/support/docs/ip/border-gateway-protocol-bgp/5212-46.html", "hostname": "cisco.com", "description": "Este documento describe c\u00f3mo funciona el balanceo de carga en la funcionalidad del software del router y las plataformas.", "sitename": "Cisco", "date": "2001-10-10", "id": null, "license": null, "body": null, "comments": "", "commentsbody": null, "raw_text": null, "text": "Introducci\u00f3n\nEste documento describe c\u00f3mo funciona el balanceo de carga en la funcionalidad del software del router y las plataformas.\nPrerequisites\nRequirements\nNo hay requisitos espec\u00edficos para este documento.\nComponentes Utilizados\nEste documento no tiene restricciones espec\u00edficas en cuanto a versiones de software y de hardware.\nLa informaci\u00f3n que contiene este documento se cre\u00f3 a partir de los dispositivos en un ambiente de laboratorio espec\u00edfico. Todos los dispositivos que se utilizan en este documento se pusieron en funcionamiento con una configuraci\u00f3n verificada (predeterminada). Si tiene una red en vivo, aseg\u00farese de entender el posible impacto de cualquier comando.\nConvenciones\nPara obtener m\u00e1s informaci\u00f3n sobre las convenciones del documento, consulte Convenciones de Consejos T\u00e9cnicos de Cisco.\nAntecedentes\nEl balanceo de carga es una funcionalidad est\u00e1ndar del software de router Cisco IOS\u00ae y est\u00e1 disponible en todas las plataformas de router. Es inherente al proceso de reenv\u00edo en el router y se activa autom\u00e1ticamente si la tabla de ruteo tiene varias trayectorias a un destino. Se basa en los protocolos de ruteo est\u00e1ndar, como Routing Information Protocol (RIP), RIPv2, Enhanced Interior Gateway Routing Protocol (EIGRP), Open Shortest Path First (OSPF) e Interior Gateway Routing Protocol (IGRP), o derivados de mecanismos de reenv\u00edo de paquetes y rutas configuradas de forma est\u00e1tica. Permite que un router utilice varias trayectorias a un destino al reenviar paquetes.\nEquilibrio de carga\nCuando un router detecta varias rutas a una red espec\u00edfica a trav\u00e9s de varios procesos de ruteo (o protocolos de ruteo, como RIP, RIPv2, IGRP, EIGRP y OSPF), instala la ruta con la m\u00ednima distancia administrativa en la tabla de ruteo. Consulte Selecci\u00f3n de Rutas en Routers de Cisco para obtener m\u00e1s informaci\u00f3n.\nA veces, el router debe seleccionar una ruta entre varias que se detectaron a trav\u00e9s del mismo proceso de ruteo con la misma distancia administrativa. En este caso, el router elige la trayectoria con el costo m\u00e1s bajo (o la m\u00e9trica m\u00e1s baja) hacia el destino. Cada proceso de ruteo calcula su costo de manera diferente y los costos a veces necesitan ser manipulados para lograr el balanceo de carga.\nSi el router recibe e instala varias trayectorias con la misma distancia administrativa y el mismo costo para un destino, puede ocurrir el balanceo de carga. La cantidad de trayectorias que se utilizan est\u00e1 limitada por la cantidad de entradas que el protocolo de ruteo coloque en la tabla de ruteo. Cuatro entradas es la predeterminada en Cisco IOS para la mayor\u00eda de los protocolos de IP Routing con la excepci\u00f3n del Protocolo de gateway fronterizo (BGP), donde una entrada es la predeterminada. La cantidad m\u00e1xima es seis trayectorias diferentes configuradas.\nLos procesos de ruteo IGRP y EIGRP tambi\u00e9n soportan el balanceo de carga de costos desiguales. Puede utilizar el comando variance con IGRP y EIGRP para lograr un balanceo de carga de costo desigual. Ejecute el comando maximum-paths para determinar la cantidad de rutas que se pueden instalar seg\u00fan el valor configurado para el protocolo. Si usted configura la tabla de ruteo en una entrada, inhabilita el balanceo de carga. Consulte\n[ \u00bfC\u00f3mo Funciona el Balanceo de Carga de Trayectoria de Coste Desigual (Varianza) en IGRP y EIGRP?](https://www.cisco.com/c/es_mx/support/docs/ip/enhanced-interior-gateway-routing-protocol-eigrp/13677-19.html) para obtener m\u00e1s informaci\u00f3n sobre la variaci\u00f3n.\nUsualmente, puede utilizar el comando show ip route para encontrar rutas de costos iguales. El siguiente ejemplo es el resultado del comando show ip route para una subred particular que tiene varias rutas. Observe que hay dos bloques del descriptor de ruteo. Cada bloque es una ruta. Hay tambi\u00e9n un asterisco (*) al lado de una de las entradas de bloque. Esto corresponde a la ruta activa que se utiliza para el tr\u00e1fico nuevo. El t\u00e9rmino \"nuevo tr\u00e1fico\" corresponde a un solo paquete o a un flujo completo hacia un destino, seg\u00fan el tipo de switching configurado.\n-\nPara el process switching, el balanceo de carga ocurre por paquete y el asterisco (*) apunta a la interfaz mediante la cual se env\u00eda el siguiente paquete.\n-\nPara el fast switching, el balanceo de carga ocurre por destino y el asterisco (*) apunta a la interfaz a trav\u00e9s de la cual se env\u00eda el flujo basado en el siguiente destino.\nLa posici\u00f3n del asterisco (*) contin\u00faa rotando entre las trayectorias de costo igual cada vez que se sirve un paquete/flujo.\nM2515-B#show ip route 10.0.0.0\nRouting entry for 10.0.0.0/8\nKnown via \"rip\", distance 120, metric 1\nRedistributing via rip\nAdvertised by rip (self originated)\nLast update from 192.168.75.7 on Serial1, 00:00:00 ago\nRouting Descriptor Blocks:\n* 192.168.57.7, from 192.168.57.7, 00:00:18 ago, via Serial0\nRoute metric is 1, traffic share count is 1\n192.168.75.7, from 192.168.75.7, 00:00:00 ago, via Serial1\nRoute metric is 1, traffic share count is 1\nBalanceo de Carga por Destino y por Paquete\nPuede configurar el balanceo de carga para que funcione por destino o por paquete. El balanceo de carga por destino significa que el router distribuye los paquetes en funci\u00f3n de la direcci\u00f3n de destino. Dadas dos trayectorias a la misma red, todos los paquetes para el destino 1 en esa red pasan a trav\u00e9s de la primera trayectoria, todos los paquetes para el destino 2 en esa red pasan a trav\u00e9s de la segunda trayectoria, y as\u00ed sucesivamente. Esto preserva el orden de los paquetes, con el posible uso desigual de los links. Si un host recibe la mayor parte del tr\u00e1fico, todos los paquetes utilizan un link, lo cual deja el ancho de banda en los otros links sin utilizar. Una mayor cantidad de direcciones de destino hace que los links se utilicen de una manera m\u00e1s equitativa. Para lograr que los links se utilicen de manera m\u00e1s equitativa, utilice el software Cisco IOS para crear una entrada de memoria cach\u00e9 de ruta para cada direcci\u00f3n de destino, en lugar de para cada red de destino, como ocurre cuando existe una sola trayectoria. Por lo tanto, el tr\u00e1fico para diferentes hosts en la misma red de destino puede utilizar diferentes trayectorias. La desventaja de este enfoque es que, para los routers de la red troncal principal que transportan tr\u00e1fico para miles de hosts de destino, los requisitos de procesamiento y memoria necesarios para mantener la cach\u00e9 se convierten en un reto.\nEl balanceo de carga por paquete significa que el router env\u00eda un paquete para destination1 en la primera trayectoria, el segundo paquete para (el mismo) destination1 en la segunda trayectoria, y as\u00ed sucesivamente. El balanceo de carga por paquete garantiza una carga equitativa en todos los links. Sin embargo, existe la posibilidad de que los paquetes lleguen desordenados al destino porque puede existir un retraso diferencial dentro de la red. En el Cisco IOS Software, excepto la versi\u00f3n 11.1CC, el balanceo de carga por paquete inhabilita la aceleraci\u00f3n de reenv\u00edo por una memoria cach\u00e9 de ruta porque la informaci\u00f3n de memoria cach\u00e9 de ruta incluye la interfaz saliente. Para el balanceo de carga por paquete, el proceso de reenv\u00edo determina la interfaz de salida para cada paquete cuando busca la tabla de rutas y elige la interfaz menos utilizada. Esto garantiza la utilizaci\u00f3n equitativa de los enlaces, pero es una tarea intensiva del procesador y afecta al rendimiento general del reenv\u00edo. Esta forma de balanceo de carga por paquete no es adecuada para interfaces con velocidades m\u00e1s altas.\nEl balanceo de carga por destino o por paquete depende del tipo de esquema de conmutaci\u00f3n utilizado para los paquetes IP. De forma predeterminada, en la mayor\u00eda de los routers de Cisco, el fast switching se habilita en las interfaces. Se trata de un esquema de almacenamiento en cach\u00e9 de demanda que realiza un equilibrio de carga por destino. Para configurar el balanceo de carga por paquete, habilite el process switching (o inhabilite el fast switching); utilice estos comandos:\nRouter#configure terminal\nRouter(config)#interface Ethernet 0\nRouter(config-if)#no ip route-cache\nRouter(config-if)#^Z\nAhora, el CPU de router revisa cada paquete y realiza el balanceo de carga para la cantidad de rutas en la tabla de ruteo para el destino. Esto podr\u00eda producir una falla en un router de extremo bajo porque el CPU debe efectuar todo el procesamiento. Para volver a habilitar el fast switching, utilice estos comandos:\nRouter#configure terminal\nRouter(config)#interface Ethernet 0\nRouter(config-if)#ip route-cache\nRouter(config-if)#^Z\nLos esquemas de switching m\u00e1s nuevos, como Cisco Express Forwarding (CEF) permiten que usted haga un balanceo de carga por paquete y por destino de forma m\u00e1s r\u00e1pida. Sin embargo, implica que usted tiene los recursos adicionales para mantener las entradas CEF y la adyacencia.\nCuando trabaja con CEF, podr\u00eda preguntar: \u00bfQui\u00e9n hace el balanceo de carga, CEF o el protocolo de ruteo utilizado? CEF se ocupa del switching del paquete bas\u00e1ndose en la tabla de routing que se completa con los protocolos de routing como EIGRP. En resumen, CEF realiza el balanceo de carga una vez que se calcula la tabla de protocolos de ruteo.\nConsulte Troubleshooting de Balanceo de Carga a trav\u00e9s de Links Paralelos con Cisco Express Forwarding y Balanceo de Carga con CEF para obtener m\u00e1s informaci\u00f3n sobre el balanceo de carga CEF.\nEstos siguientes documentos proporcionan m\u00e1s informaci\u00f3n sobre c\u00f3mo varios protocolos seleccionan una mejor trayectoria, calculan sus costos a destinos espec\u00edficos y c\u00f3mo realizan el balanceo de carga cuando se aplican.\nInformaci\u00f3n Relacionada", "language": null, "image": null, "pagetype": "website", "links": ["#fw-content", "#", "#fw-footer-v2", "/c/es_mx/index.html", "/c/es_mx/products/index.html", "//www.cisco.com/c/es_mx/solutions/index.html", "/c/es_mx/support/index.html", "/c/es_mx/training-events.html", "/c/es_mx/about/sitemap.html", "/c/es_mx/buy.html", "/c/es_mx/partners.html", "/c/es_mx/partners/partner-with-cisco.html?ccid=cc000864&dtid=odiprc001129", "/c/es_mx/partners/support-help.html", "/c/es_mx/partners/tools.html", "//locatr.cloudapps.cisco.com/WWChannels/LOCATR/openBasicSearch.do", "/c/en/us/partners/connect-with-a-partner.html", "//partnersuccess.cisco.com/becomeapartner", "#", "/c/es_mx/support/index.html", "/c/es_mx/tech/index.html", "/c/login/index.html?referer=/c/es_mx/support/docs/ip/border-gateway-protocol-bgp/5212-46.html", "https://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/5212-46.html", "/c/es_mx/support/docs/ip/border-gateway-protocol-bgp/5212-46.pdf", "/c/es_mx/support/docs/ip/border-gateway-protocol-bgp/5212-46.epub", "/c/es_mx/support/docs/ip/border-gateway-protocol-bgp/5212-46.mobi", "https://www.cisco.com/c/en/us/about/social-justice/inclusive-language-policy.html", "#anc0", "#anc1", "#anc2", "#anc3", "#anc4", "#anc5", "#anc6", "#anc7", "#anc8", "#anc9", "#anc10", "#anc11", "#anc12", "#anc13", "#anc14", "#anc15", null, null, null, null, null, null, null, null, null, null, null, null, null, "https://www.cisco.com/c/es_mx/support/docs/ip/enhanced-interior-gateway-routing-protocol-eigrp/13677-19.html", null, "https://www.cisco.com/c/es_mx/support/docs/ip/interior-gateway-routing-protocol-igrp/13678-3.html", "https://www.cisco.com/c/es_mx/support/docs/ip/enhanced-interior-gateway-routing-protocol-eigrp/13673-14.html", "https://www.cisco.com/c/es_mx/support/docs/ip/open-shortest-path-first-ospf/7039-1.html#t6", "https://www.cisco.com/c/es_mx/support/docs/ip/border-gateway-protocol-bgp/13753-25.html", null, null, "https://www.cisco.com/c/es_mx/products/index.html", "https://www.cisco.com/c/es_mx/support/docs/ip/express-forwarding-cef/18285-loadbal-cef.html", "https://www.cisco.com/c/es_mx/tech/ip/ip-routing/index.html?referring_site=bodynav", "https://www.cisco.com/c/es_mx/support/index.html?referring_site=bodynav", "javascript: void(0)", "https://mycase.cloudapps.cisco.com/start?prodDocUrl=", "//www.cisco.com/c/es_mx/services/order-services.html"]}