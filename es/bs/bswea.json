{"title": "PDF", "author": "PDF", "url": "http://biblioteca.usbbog.edu.co:8080/Biblioteca/BDigital/66034.pdf", "hostname": "PDF", "description": "PDF", "sitename": "PDF", "date": "PDF", "id": "PDF", "license": "PDF", "body": "PDF", "comments": "PDF", "commentsbody": "PDF", "raw_text": "PDF", "text": "  1 RAE  1. TIPO DE DOCUMENTO: Trabajo de grado para optar por el t\u00edtulo de INGENIERO DE SISTEMAS  2. TITULO: DESARROLLO DE UN PROTOTIPO DE VOZ IP BASADO EN UNA HERRAMIENTA DE SOFTWARE LIBRE, PARA LA UNIVERSIDAD DE SAN BUENAVENTURA SEDE BOGOT\u00c1.  3. AUTORES: Paula Andrea Ocampo Moreno, Sergio Camilo Fandi\u00f1o Hern\u00e1ndez   4. LUGAR: Bogot\u00e1, D.C.   5. FECHA: Julio de 2011   6. PALABRAS CLAVES: Telefon\u00eda IP, VoIP, Central Telef\u00f3nica, Base de Datos, CDR, Asterisk, Software Libre, CentOS, Servidor de Telefon\u00eda, Especificaciones T\u00e9cnicas.  7. DESCRIPCI\u00d3N DEL TRABAJO: El objetivo principal de este proyecto es desarrollar  un prototipo de Voz IP basado en una herramienta de software libre, que permita mejorar el servicio de telefon\u00eda IP en la Universidad de San Buenaventura sede Bogot\u00e1, de manera que mediante la realizaci\u00f3n de un planteamiento nuevo del sistema y con la integraci\u00f3n de un sistema de informaci\u00f3n se realice una mejora a la prestaci\u00f3n del servicio. C\u00f3mo resultados del trabajo de investigaci\u00f3n, se plantean unos requerimientos y t\u00e9rminos de referencia que contiene las especificaciones t\u00e9cnicas y de contrataci\u00f3n del sistema, de modo que la Universidad contrate a un proveedor que implemente la soluci\u00f3n propuesta por el proyecto, permitiendo eliminar los problemas que se presentan en el sistema de telefon\u00eda IP instalado actualmente en la Universidad.  8. L\u00cdNEAS DE INVESTIGACI\u00d3N: L\u00ednea de Investigaci\u00f3n de la USB: Tecnolog\u00edas e Innovaci\u00f3n Sub l\u00ednea de Facultad de Ingenier\u00eda: Tecnolog\u00edas de la Informaci\u00f3n y la Comunicaci\u00f3n (Tics). Campo Tem\u00e1tico del Programa: Construcci\u00f3n de Software, Aplicaci\u00f3n de Telecomunicaciones   9. FUENTES CONSULTADAS: ALAN B. Johnstone, sip: Understanding the session initiation protocol - 3 edici\u00f3n, 395p. ALAN B. Johnstone, Understanding voice over IP security \u2013 1a edici\u00f3n, 276p. CARBALLAR Falc\u00f3n, Jos\u00e9 A., VoIP. la telefon\u00eda de internet, 1 a  edici\u00f3n,296p.   2 DAVIDSON JONATHAN, James Peters, fundamentos de voz sobre ip. - 1a edici\u00f3n, 347p. MOSCOSO M. Lina Mar\u00eda, Dise\u00f1o y construcci\u00f3n de un sistema de comunicaci\u00f3n de voz sobre IP, 81p. ROCHA O. Andr\u00e9s, Escalabilidad de la plataforma Asterisk para Call Center, CITIC 2008, Grupo de Investigaci\u00f3n en Telecomunicaciones GITUN, Universidad Nacional de Colombia. SERRAT Joan, Deploying and Managing ip over wdm networks. 1a edici\u00f3n, 288p.  10. CONTENIDOS: En la universidad de San Buenaventura, existe actualmente un m\u00f3dulo de comunicaci\u00f3n por voz sobre IP, el cual lamentablemente ha venido presentando algunos inconvenientes en cuanto a su funcionamiento y eficacia; por lo tanto, se ve la necesidad de actuar correctivamente sobre los inconvenientes nombrados anteriormente. Es por esto que se plantea como una alternativa de soluci\u00f3n la migraci\u00f3n hacia un m\u00f3dulo de comunicaci\u00f3n basado en tecnolog\u00edas de software libre, soluci\u00f3n que en otros escenarios ha demostrado generar buenos resultados y que podr\u00eda corregir los actuales fallos que experimentan los usuarios de este sistema en la Universidad de San Buenaventura.  11. METODOLOG\u00cdA: Es de car\u00e1cter Critico-social, con un enfoque metodol\u00f3gico con base a un prototipo de VoIp bajo una herramienta de Software Libre.   12. CONCLUSIONES: El dise\u00f1o de un sistema de telefon\u00eda IP planteado      como una soluci\u00f3n alterna a un sistema existente, considera muchos factores que deben ser tenidos en cuenta antes de una implementaci\u00f3n, puesto que se debe considerar que no s\u00f3lo cumpla con las expectativas y requerimientos de los usuarios, sino que adicionalmente el entorno en donde se implementa, merece un valor adicional de mejor calidad y  un costo reducido.  La implementaci\u00f3n de una plataforma de telefon\u00eda basada en IP representa un ahorro siempre y cuando se implemente software con licenciamiento GPL frente a la plataforma instalada actualmente en la Universidad. Una soluci\u00f3n de telefon\u00eda IP es altamente escalable debido a la arquitectura con la que est\u00e1 construida.   DESARROLLO DE UN PROTOTIPO DE VOZ IP BASADO EN UNA HERRAMIENTA DE SOFTWARE LIBRE, PARA LA UNIVERSIDAD DE SAN BUENAVENTURA SEDE BOGOT\u00c1.         Sergio Camilo Fandi\u00f1o Hern\u00e1ndez Paula Andrea Ocampo Moreno        UNIVERSIDAD DE SAN BUENAVENTURA  FACULTAD DE INGENIER\u00cdA  INGENIER\u00cdA DE SISTEMAS BOGOT\u00c1 D.C. 2011   2 DESARROLLO DE UN PROTOTIPO DE VOZ IP BASADO EN UNA HERRAMIENTA DE SOFTWARE LIBRE, PARA LA UNIVERSIDAD DE SAN BUENAVENTURA SEDE BOGOT\u00c1.   Sergio Camilo Fandi\u00f1o Hern\u00e1ndez Paula Andrea Ocampo Moreno    Proyecto de Grado como requisito para optar al t\u00edtulo de Ingeniero de Sistemas  Asesor: Ing. HUGO MALAVER    UNIVERSIDAD DE SAN BUENAVENTURA  FACULTAD DE INGENIER\u00cdA   INGENIER\u00cdA DE SISTEMAS PROYECTO DE GRADO BOGOT\u00c1 D.C. 2011   3                   Nota de aceptaci\u00f3n:         _________________________        _________________________        _________________________        _________________________        _________________________        _________________________           _________________________                          Firma Presidente del Jurado           _________________________                 Firma del Jurado                   _________________________                  Firma del jurado    Bogot\u00e1 D.C  24 de junio de 2011   4 AGRADECIMIENTOS  Los autores agradecen a la Universidad de San Buenaventura sede Bogot\u00e1 por la ayuda, disponibilidad y herramientas brindadas durante el proceso de desarrollo del trabajo. A la Unidad de Tecnolog\u00eda de la Universidad por brindar el apoyo e informaci\u00f3n necesaria para la realizaci\u00f3n del proyecto, adem\u00e1s al personal encargado de los laboratorios que hicieron posible la realizaci\u00f3n de las correspondientes pr\u00e1cticas.  Tambi\u00e9n quieren agradecer a sus familias, tutor, docentes y personas que de una u otra forma participaron en la realizaci\u00f3n de este proyecto, por el apoyo incondicional y por la ayuda prestada.                   5 CONTENIDO   INTRODUCCI\u00d3N\t\r \u00a0...........................................................................................................\t\r \u00a011\t\r \u00a01.\t\r \u00a0PLANTEAMIENTO\t\r \u00a0DEL\t\r \u00a0PROBLEMA\t\r \u00a0........................................................................\t\r \u00a013\t\r \u00a01.1\t\r \u00a0ANTECEDENTES\t\r \u00a0.........................................................................................................\t\r \u00a013\t\r \u00a01.2\t\r \u00a0DESCRIPCI\u00d3N\t\r \u00a0Y\t\r \u00a0FORMULACI\u00d3N\t\r \u00a0DEL\t\r \u00a0PROBLEMA\t\r \u00a0.......................................................\t\r \u00a016\t\r \u00a01.3\t\r \u00a0JUSTIFICACI\u00d3N\t\r \u00a0..........................................................................................................\t\r \u00a017\t\r \u00a01.4\t\r \u00a0OBJETIVOS\t\r \u00a0................................................................................................................\t\r \u00a018\t\r \u00a01.4.1\t\r \u00a0Objetivo\t\r \u00a0general\t\r \u00a0.......................................................................................................\t\r \u00a018\t\r \u00a01.4.2\t\r \u00a0Objetivos\t\r \u00a0\t\r \u00a0Espec\u00edficos\t\r \u00a0...............................................................................................\t\r \u00a018\t\r \u00a01.4.3\t\r \u00a0Alcances\t\r \u00a0y\t\r \u00a0Limitaciones\t\r \u00a0............................................................................................\t\r \u00a019\t\r \u00a02.\t\r \u00a0METODOLOG\u00cdA\t\r \u00a0....................................................................................................\t\r \u00a020\t\r \u00a03.\t\r \u00a0ENFOQUE\t\r \u00a0DE\t\r \u00a0LA\t\r \u00a0INVESTIGACI\u00d3N\t\r \u00a0..........................................................................\t\r \u00a021\t\r \u00a0a.\t\r \u00a0L\u00ednea\t\r \u00a0de\t\r \u00a0investigaci\u00f3n\t\r \u00a0..................................................................................................\t\r \u00a021\t\r \u00a0b.\t\r \u00a0Subl\u00ednea\t\r \u00a0de\t\r \u00a0investigaci\u00f3n\t\r \u00a0............................................................................................\t\r \u00a021\t\r \u00a0C.\t\r \u00a0\t\r \u00a0\t\r \u00a0\t\r \u00a0\t\r \u00a0\t\r \u00a0Campo\t\r \u00a0tem\u00e1tico\t\r \u00a0del\t\r \u00a0programa\t\r \u00a0.....................................................................................\t\r \u00a021\t\r \u00a04.\t\r \u00a0MARCO\t\r \u00a0DE\t\r \u00a0REFERENCIA\t\r \u00a0.......................................................................................\t\r \u00a022\t\r \u00a04.1\t\r \u00a0MARCO\t\r \u00a0TE\u00d3RICO\t\r \u00a0CONCEPTUAL\t\r \u00a0................................................................................\t\r \u00a022\t\r \u00a04.1.1\t\r \u00a0Telefon\u00eda\t\r \u00a0IP\t\r \u00a0...............................................................................................................\t\r \u00a022\t\r \u00a04.1.1.1\t\r \u00a0Arquitectura\t\r \u00a0de\t\r \u00a0Telefon\u00eda\t\r \u00a0IP\t\r \u00a0.............................................................................................\t\r \u00a023\t\r \u00a04.1.1.2\t\r \u00a0Protocolos\t\r \u00a0Para\t\r \u00a0Telefon\u00eda\t\r \u00a0IP\t\r \u00a0.............................................................................................\t\r \u00a024\t\r \u00a04.1.1.3\t\r \u00a0Protocolo\t\r \u00a0SIP\t\r \u00a0.....................................................................................................................\t\r \u00a026\t\r \u00a04.1.1.4\t\r \u00a0Protocolo\t\r \u00a0IAX\t\r \u00a0....................................................................................................................\t\r \u00a028\t\r \u00a04.1.2\t\r \u00a0Software\t\r \u00a0Libre\t\r \u00a0..........................................................................................................\t\r \u00a029\t\r \u00a04.1.2.1\t\r \u00a0Libertades\t\r \u00a0de\t\r \u00a0Software\t\r \u00a0Libre\t\r \u00a0............................................................................................\t\r \u00a030\t\r \u00a04.1.2.2\t\r \u00a0Tipos\t\r \u00a0de\t\r \u00a0licencias\t\r \u00a0..............................................................................................................\t\r \u00a030\t\r \u00a04.1.3\t\r \u00a0Distribuciones\t\r \u00a0Linux\t\r \u00a0.................................................................................................\t\r \u00a033\t\r \u00a04.1.4\t\r \u00a0Bases\t\r \u00a0de\t\r \u00a0Datos\t\r \u00a0.........................................................................................................\t\r \u00a036\t\r \u00a04.1.4.1\t\r \u00a0Tipo\t\r \u00a0de\t\r \u00a0campos\t\r \u00a0en\t\r \u00a0una\t\r \u00a0Base\t\r \u00a0de\t\r \u00a0datos\t\r \u00a0..............................................................................\t\r \u00a036\t\r \u00a04.1.4.2\t\r \u00a0Modelo\t\r \u00a0Entidad-\u00ad\u2010Relaci\u00f3n\t\r \u00a0..................................................................................................\t\r \u00a037\t\r \u00a04.1.4.3\t\r \u00a0Cardinalidad\t\r \u00a0de\t\r \u00a0las\t\r \u00a0Relaciones\t\r \u00a0..........................................................................................\t\r \u00a037\t\r \u00a04.1.5\t\r \u00a0T\u00e9rminos\t\r \u00a0de\t\r \u00a0Referencia\t\r \u00a0(TDR)\t\r \u00a0.................................................................................\t\r \u00a038\t\r \u00a04.1.6\t\r \u00a0CDR\t\r \u00a0(Call\t\r \u00a0Detail\t\r \u00a0Record)\t\r \u00a0...........................................................................................\t\r \u00a039\t\r \u00a04.2\t\r \u00a0MARCO\t\r \u00a0LEGAL\t\r \u00a0O\t\r \u00a0NORMATIVO\t\r \u00a0..................................................................................\t\r \u00a040\t\r \u00a0  6 5.\t\r \u00a0DESARROLLO\t\r \u00a0INGENIERIL\t\r \u00a0.....................................................................................\t\r \u00a041\t\r \u00a05.1\t\r \u00a0An\u00e1lisis\t\r \u00a0del\t\r \u00a0funcionamiento\t\r \u00a0de\t\r \u00a0la\t\r \u00a0plataforma\t\r \u00a0NBX\t\r \u00a0V3000\t\r \u00a0.........................................\t\r \u00a042\t\r \u00a05.2\t\r \u00a0S\u00edntesis\t\r \u00a0de\t\r \u00a0la\t\r \u00a0Elecci\u00f3n\t\r \u00a0de\t\r \u00a0Software\t\r \u00a0y\t\r \u00a0Plataforma\t\r \u00a0para\t\r \u00a0el\t\r \u00a0Proyecto.\t\r \u00a0............................\t\r \u00a052\t\r \u00a05.3\t\r \u00a0Bases\t\r \u00a0de\t\r \u00a0Datos\t\r \u00a0..........................................................................................................\t\r \u00a056\t\r \u00a05.3.1\t\r \u00a0Script\t\r \u00a0Base\t\r \u00a0de\t\r \u00a0datos\t\r \u00a0.................................................................................................\t\r \u00a057\t\r \u00a05.3.2\t\r \u00a0Inserci\u00f3n\t\r \u00a0de\t\r \u00a0Registros\t\r \u00a0en\t\r \u00a0las\t\r \u00a0Tablas\t\r \u00a0.........................................................................\t\r \u00a059\t\r \u00a05.3.3\t\r \u00a0Consultas\t\r \u00a0..................................................................................................................\t\r \u00a060\t\r \u00a05.3.4\t\r \u00a0Diccionario\t\r \u00a0Base\t\r \u00a0de\t\r \u00a0Datos\t\r \u00a0........................................................................................\t\r \u00a062\t\r \u00a05.4\t\r \u00a0Planteamiento\t\r \u00a0y\t\r \u00a0Especificaciones\t\r \u00a0T\u00e9cnicas\t\r \u00a0para\t\r \u00a0la\t\r \u00a0Soluci\u00f3n\t\r \u00a0......................................\t\r \u00a066\t\r \u00a05.5\t\r \u00a0Implementaci\u00f3n\t\r \u00a0del\t\r \u00a0Prototipo\t\r \u00a0de\t\r \u00a0Telefon\u00eda\t\r \u00a0IP\t\r \u00a0..........................................................\t\r \u00a069\t\r \u00a05.5.1\t\r \u00a0Aspectos\t\r \u00a0Importantes\t\r \u00a0..............................................................................................\t\r \u00a070\t\r \u00a05.5.2\t\r \u00a0Aspectos\t\r \u00a0de\t\r \u00a0Configuraci\u00f3n\t\r \u00a0.......................................................................................\t\r \u00a075\t\r \u00a05.5.3\t\r \u00a0Manual\t\r \u00a0T\u00e9cnico\t\r \u00a0de\t\r \u00a0Implementaci\u00f3n\t\r \u00a0de\t\r \u00a0Prototipo\t\r \u00a0...................................................\t\r \u00a076\t\r \u00a05.5.3.1\t\r \u00a0Instalaci\u00f3n\t\r \u00a0.........................................................................................................................\t\r \u00a076\t\r \u00a05.5.3.2\t\r \u00a0Configuraci\u00f3n\t\r \u00a0....................................................................................................................\t\r \u00a094\t\r \u00a05.5.3.3\t\r \u00a0Montaje\t\r \u00a0de\t\r \u00a0la\t\r \u00a0Red\t\r \u00a0LAN\t\r \u00a0del\t\r \u00a0Prototipo\t\r \u00a0.............................................................................\t\r \u00a0101\t\r \u00a05.5.3.4\t\r \u00a0Puesta\t\r \u00a0en\t\r \u00a0Marcha\t\r \u00a0del\t\r \u00a0Servidor\t\r \u00a0Asterisk\t\r \u00a0.........................................................................\t\r \u00a0102\t\r \u00a05.5.3.5\t\r \u00a0T\u00e9rminos\t\r \u00a0de\t\r \u00a0Referencia\t\r \u00a0al\t\r \u00a0Proveedor\t\r \u00a0.............................................................................\t\r \u00a0105\t\r \u00a06.\t\r \u00a0Conclusiones\t\r \u00a0......................................................................................................\t\r \u00a0106\t\r \u00a09.\t\r \u00a0Recomendaciones\t\r \u00a0..............................................................................................\t\r \u00a0108\t\r \u00a0BIBLIOGRAF\u00cdA\t\r \u00a0............................................................................................................\t\r \u00a0109\t\r \u00a0WEB\t\r \u00a0GRAF\u00cdA\t\r \u00a0..............................................................................................................\t\r \u00a0110\t\r \u00a0GLOSARIO\t\r \u00a0..................................................................................................................\t\r \u00a0112\t\r \u00a0         7 TABLA DE TABLAS   Tabla 1. Comparaci\u00f3n entre los protocolos ........................................................... 25 Tabla 2.  Par\u00e1metros Utilizados en Asterisk .......................................................... 27\t\r \u00a0Tabla 3. Distribuciones Linux ................................................................................. 34\t\r \u00a0Tabla 4.Dofa plataforma NBX ................................................................................ 51\t\r \u00a0Tabla 5. Especificaciones de la red actual ............................................................ 67\t\r \u00a0Tabla 6. Especificaciones Para el Servidor ........................................................... 68\t\r \u00a0Tabla 7. Especificaciones T\u00e9cnicas Asterisk y Elastix ........................................... 54\t\r \u00a0Tabla 8 Caracter\u00edsticas m\u00ednimas de implementaci\u00f3n ............................................ 71\t\r \u00a0Tabla 9. Configuraci\u00f3n m\u00ednima para rendimiento de X-Lite .................................. 77\t\r \u00a0Tabla 10.Caracter\u00edsticas del  equipo servidor Optiplex 740 .................................. 78\t\r \u00a0              8 TABLA DE ILUSTRACIONES  Ilustraci\u00f3n 1. Tabulaci\u00f3n Pregunta 1 ..................................................................... 44\t\r \u00a0Ilustraci\u00f3n 2. Tabulaci\u00f3n Pregunta 2 ..................................................................... 44\t\r \u00a0Ilustraci\u00f3n 3. Tabulaci\u00f3n Pregunta 3 ..................................................................... 45\t\r \u00a0Ilustraci\u00f3n 4. Tabulaci\u00f3n Pregunta 4 ..................................................................... 46\t\r \u00a0Ilustraci\u00f3n 5. Tabulaci\u00f3n Pregunta 5 ..................................................................... 46\t\r \u00a0Ilustraci\u00f3n 6. Tabulaci\u00f3n Pregunta 6. .................................................................... 47\t\r \u00a0Ilustraci\u00f3n 7. Tabulaci\u00f3n Pregunta 7 ..................................................................... 48\t\r \u00a0Ilustraci\u00f3n 8. Tabulaci\u00f3n Pregunta 8 ..................................................................... 49\t\r \u00a0Ilustraci\u00f3n 9. Tabulaci\u00f3n Pregunta 9 ..................................................................... 50\t\r \u00a0Ilustraci\u00f3n 10. Tabulaci\u00f3n Pregunta 10. ................................................................ 50\t\r \u00a0Ilustraci\u00f3n 111. Modelo Dise\u00f1o de Base de Datos ................................................ 57\t\r \u00a0Ilustraci\u00f3n 12. Estructura F\u00edsica de la red de la Universidad de San Buenaventura ............................................................................................................................... 67\t\r \u00a0Ilustraci\u00f3n 13. Ventana de Carga del Asistente de Instalaci\u00f3n ............................. 79\t\r \u00a0Ilustraci\u00f3n 14. Selecci\u00f3n de Idioma ....................................................................... 80\t\r \u00a0Ilustraci\u00f3n 15. Selecci\u00f3n de Configuraci\u00f3n de Teclado ......................................... 80\t\r \u00a0Ilustraci\u00f3n 16. Mensaje de Advertencia Inicializaci\u00f3n de Disco ............................ 81\t\r \u00a0Ilustraci\u00f3n 17. Selecci\u00f3n del Esquema de Particionamiento ................................. 82\t\r \u00a0Ilustraci\u00f3n 18. Ventana Emergente de Confirmaci\u00f3n ............................................ 82\t\r \u00a0Ilustraci\u00f3n 19. Ventana de Configuraci\u00f3n de Red ................................................. 83\t\r \u00a0Ilustraci\u00f3n 20. Editar Interfaz ................................................................................. 84\t\r \u00a0Ilustraci\u00f3n 21. Selecci\u00f3n de zona horaria .............................................................. 85\t\r \u00a0Ilustraci\u00f3n 22. Configuraci\u00f3n de contrase\u00f1a de usuario root ................................ 85\t\r \u00a0Ilustraci\u00f3n 23. Compilaci\u00f3n de Asterisk ................................................................. 87\t\r \u00a0Ilustraci\u00f3n 24. Men\u00fa de Opciones de Instalaci\u00f3n de Asterisk ............................... 88\t\r \u00a0Ilustraci\u00f3n 25. Finalizaci\u00f3n de Instalaci\u00f3n de Asterisk .......................................... 88\t\r \u00a0Ilustraci\u00f3n 26. Finalizaci\u00f3n de Instalaci\u00f3n de Asterisk-Addons ............................. 89\t\r \u00a0Ilustraci\u00f3n 27. Inicio del Asistente de Instalaci\u00f3n de X-Lite ................................... 90\t\r \u00a0Ilustraci\u00f3n 28. T\u00e9rminos de Licencia ..................................................................... 91\t\r \u00a0Ilustraci\u00f3n 29. Selecci\u00f3n de Directorio de Instalaci\u00f3n ........................................... 92\t\r \u00a0Ilustraci\u00f3n 30. Tareas Adicionales de Instalaci\u00f3n .................................................. 92\t\r \u00a0Ilustraci\u00f3n 31.  Proceso de Instalaci\u00f3n .................................................................. 93\t\r \u00a0Ilustraci\u00f3n 32.  Finalizaci\u00f3n de la Instalaci\u00f3n de X-Lite ......................................... 93\t\r \u00a0  9 Ilustraci\u00f3n 33. Inicio de Configuraci\u00f3n de SIP en X-Lite ........................................ 99\t\r \u00a0Ilustraci\u00f3n 34. Ventana de Cuentas SIP .............................................................. 100\t\r \u00a0Ilustraci\u00f3n 35. Propiedades de Cuenta SIP ......................................................... 100\t\r \u00a0Ilustraci\u00f3n 36. Topolog\u00eda de Red del Prototipo Implementado ............................ 102\t\r \u00a0Ilustraci\u00f3n 37. Consulta a la tabla CDR ............................................................... 104\t\r \u00a0                   10 LISTA DE ANEXOS  ANEXO A ............................................................................................................. 116\t\r \u00a0ANEXO B ............................................................................................................. 122\t\r \u00a0ANEXO C ............................................................................................................. 124\t\r \u00a0      11 INTRODUCCI\u00d3N  Actualmente y desde hace unos a\u00f1os, las telecomunicaciones han sido puestas a prueba en diferentes escenarios del mundo empresarial, dom\u00e9stico y acad\u00e9mico dando al mundo una muestra de su eficiencia y brindando un campo amplio para su desarrollo con diversas herramientas y aplicaciones que se integran eficientemente con sistemas de informaci\u00f3n. La universidad de San Buenaventura ha sido desde hace un par de a\u00f1os usuaria de uno de los resultados y beneficios de las telecomunicaciones, la telefon\u00eda basada en IP, telefon\u00eda que sin duda alguna ha revolucionado la forma de ahorro, eficiencia y productividad de no solo la Universidad sino de otras tantas miles de entidades que hacen uso de la misma. Este documento pretende mostrar y sustentar el desarrollo de un sistema de voz sobre IP basado en una herramienta de software libre, que hace integraci\u00f3n de una base de datos que permite la automatizaci\u00f3n y registro de informaci\u00f3n de llamadas, que en conjunto dan como beneficio un ahorro extra en cuanto a costos de implementaci\u00f3n y proporcionan una ayuda para el desarrollo tecnol\u00f3gico. Es importante aclarar que la universidad cuenta con una plataforma de telefon\u00eda basada en NBX v3000, soluci\u00f3n brindada por 3Com, una de las empresas gigantes de las telecomunicaciones. Este sistema  presenta la desventaja de ser muy costoso si se compara con  herramientas de software libre, por cuanto se debe considerar compra de licencias de usuarios y de  licencias de software entre otras. Es por esto que se ha visto que en los \u00faltimos a\u00f1os diversas empresas y universidades optan por realizar una migraci\u00f3n hacia este tipo de soluciones que permitan reducir costos y a la vez agregar funcionalidades integradas con sistemas de informaci\u00f3n.    12 A lo largo de este documento se encontrar\u00e1 el an\u00e1lisis para la utilizaci\u00f3n de una herramienta alterna  de  telefon\u00eda IP que supla el sistema actual que funciona en la Universidad de San Buenaventura, con el fin de prestar un mejor servicio y que a la vez ofrezca como valor agregado, la integraci\u00f3n del sistema telef\u00f3nico con una base de datos que permita almacenar informaci\u00f3n directa relacionada con los usuarios y las llamadas que realicen.                  13 1. PLANTEAMIENTO DEL PROBLEMA  1.1 ANTECEDENTES  Para satisfacer las necesidades internas de comunicaci\u00f3n por voz, la universidad de San Buenaventura viene utilizando un sistema de telefon\u00eda de voz IP de referencia NBX V3000, el cual viene siendo usado por directivos, secretarias, docentes y dem\u00e1s personal administrativo de la Universidad. Esta plataforma NBX (cuya sigla en ingl\u00e9s significa Network Branch Exchange), es un sistema completo de comunicaci\u00f3n, en la medida que cumple con las funciones b\u00e1sicas de telefon\u00eda empresarial y permite la interconexi\u00f3n con la Red Telef\u00f3nica P\u00fablica Conmutada (PSTN). El sistema dispone  de un servidor, una tarjeta de red para interconectarse con la red interna de la Universidad, una tarjeta para interconexi\u00f3n con  la PSTN y dispositivos como  tel\u00e9fonos hardware y SoftPhones. A pesar de ser una plataforma robusta, este sistema ha venido presentando ciertas fallas en cuanto a disponibilidad, calidad de voz y otros problemas que hacen referencia a los SoftPhones instalados en algunas estaciones, los cuales con el tiempo han sido reemplazados por tel\u00e9fonos hardware debido a algunas quejas de los usuarios de la plataforma. En un estudio realizado un grupo de estudiantes de Ingenier\u00eda de sistemas de octavo semestre (I-2010) de la Universidad de San Buenaventura, al hacer el levantamiento de requerimientos de un proyecto acad\u00e9mico que se desarrollaba para la clase de Desarrollo de Sistemas de Comunicaci\u00f3n, se reporta la existencia de inconsistencias presentes en el sistema de comunicaci\u00f3n NBX. Dichos problemas han sido detectados por parte de algunos usuarios del edificio Diego Barroso y Guillermo de Ockham, que manifestaban la necesidad de contratar una   14 correcci\u00f3n de los problemas en el sistema actual o de la implementaci\u00f3n de una soluci\u00f3n alterna. Entre los inconvenientes reportados se tiene: problemas de ecos en la comunicaci\u00f3n y retrasos en la voz cuando se hace uso de los SoftPhones, los cuales adem\u00e1s interfieren bruscamente con las tareas que realiza el usuario al entrar una llamada y en ocasiones se bloquea totalmente el sistema operativo. Haciendo un enfoque hacia lo que ha sido el cambio de la telefon\u00eda a nivel mundial, se nota claramente que la telefon\u00eda por voz IP representa un importante avance. Diversas empresas colombianas como LG o Hyundai y universidades alrededor del mundo han decidido cambiarse al sistema de VoIP debido a todos los beneficios que brinda, los cuales ser\u00e1n expuestos m\u00e1s adelante en el documento y que representan un ahorro de hasta el 35% en las inversiones en telefon\u00eda luego de implementar el sistema.1 La tecnolog\u00eda de voz sobre protocolo IP o VoIP (voz sobre IP)  tuvo sus inicios en 19952y su innovaci\u00f3n y evoluci\u00f3n como tecnolog\u00eda fueron aceptados en el a\u00f1o 2004,obteni\u00e9ndose como resultado un sistema robusto y bien desarrollado de comunicaciones. Hoy en d\u00eda es una alternativa comercial viable para las llamadas de voz; b\u00e1sicamente es una forma de realizar y recibir llamadas telef\u00f3nicas utilizando una conexi\u00f3n de Internet de banda ancha, satelital o una red IP existente, en lugar de una l\u00ednea telef\u00f3nica corriente. A grandes rasgos, se puede decir que VoIP es un sistema que permite transmitir voz por circuitos por donde antes s\u00f3lo circulaban datos, es decir, permite que la voz y los datos utilicen el mismo canal.     _________________________________________________________________ 1. Consultado el 20 de Agosto de 2010 \u201cMitos sobre Voz IP\u201d: http://bit.ly/lq9M9y 2. Consultado el 20 de Agosto de 2010 \u201cHistoria de Voz IP\u201d: http://bit.ly/ltfKu0    15 Por otra parte en los a\u00f1os 90, gracias a Mark Spencer de Digium, surge Asterisk, que es una aplicaci\u00f3n de c\u00f3digo abierto de una central telef\u00f3nica que une en un mismo elemento un conjunto de herramientas de fuente abierta para aplicaciones espec\u00edficas y un servidor para procesamiento de llamadas. Asterisk puede ser utilizado como una PBX aislada o como una PBX enlazada con otras ya existentes.   Al igual que cualquier PBX implementada mediante hardware especializado, existen herramientas de software libre que han demostrado ser capaces de manejar un determinado n\u00famero de llamadas entre tel\u00e9fonos an\u00e1logos y/o tel\u00e9fonos IP. Estas herramientas de c\u00f3digo libre, pueden trabajar \u00fanicamente con Voz sobre IP sin requerir ning\u00fan m\u00f3dulo adicional para crear una central telef\u00f3nica. \u00c9ste es el caso del presente proyecto  en donde sin hacer modificaciones y contando s\u00f3lo con una red de computadores y terminales SoftpPhone, se logra la implementaci\u00f3n de una centralita telef\u00f3nica que adicionalmente propone la  integraci\u00f3n de una base de datos que permite almacenar informaci\u00f3n concerniente a los tiempos y n\u00famero de llamadas realizadas por los usuario. Soluciones similares han sido empleadas por diversas empresas en Bogot\u00e1 que no cuentan con el suficiente capital para pagar licencias o para adquirir una  plataforma comercial similar a NBX. Mediante la informaci\u00f3n consultada a lo largo del desarrollo del proyecto, se puede encontrar que hay un crecimiento de las entidades que han hecho implementaciones con este tipo de herramientas o han presentado alguna migraci\u00f3n hacia ellas. Igualmente proyectos como \u00e9ste han mostrado resultados en cuanto a minimizaci\u00f3n de costos, eficiencia y calidad de servicio.   16  Este es el caso de la Universidad de Colima en M\u00e9xico,3 LG de Colombia, Hyundai, Americana de Colchones y Kia entre otros4, que hacen parte de los casos de \u00e9xito del proveedor de servicios de telecomunicaciones Nowtek.  1.2 DESCRIPCI\u00d3N Y FORMULACI\u00d3N DEL PROBLEMA  La Universidad de San Buenaventura, como ya se dijo, usa para su comunicaci\u00f3n telef\u00f3nica un sistema basado en NBX de 3Com, el cual ha mostrado no ser la mejor soluci\u00f3n de telefon\u00eda IP para la comunicaci\u00f3n interna y adem\u00e1s no cuenta con un sistema de informaci\u00f3n que le permita al administrador de la NBX consultar en una base de datos, informaci\u00f3n asociada con los registros de llamadas y su relaci\u00f3n con los usuarios. Debido a esto se  ve la necesidad de buscar una mejor soluci\u00f3n basada en telefon\u00eda IP que reemplace a la actual, eliminando problemas como la interrupci\u00f3n y el bloqueo brusco del sistema operativo producido por los SoftPhone, la presencia de eco, el retraso en la voz, los ruidos y la ca\u00edda de llamadas. Los problemas anteriormente nombrados fueron identificados luego de aplicar una encuesta a un n\u00famero representativo de usuarios del sistema. Los resultados de este estudio se incluyen en el anexo C y ser\u00e1n analizados dentro del Desarrollo Ingenieril. Es importante descartar totalmente una actualizaci\u00f3n de la plataforma para solucionar estos problemas, puesto que implementar mejoras al sistema existente, acarrear\u00eda costos elevados debido a la adquisici\u00f3n de una nueva versi\u00f3n del sistema y a la posible compra de licencias para nuevos SoftPhones. Una alternativa m\u00e1s econ\u00f3mica es la utilizaci\u00f3n de un sistema basado en software libre, el cual adem\u00e1s de ser gratuito permitir\u00eda un trabajo y uso m\u00e1s amigable de telefon\u00eda para la Universidad. ________________________________________________________________ 3. SYED A. Ahson, MOHAMMAD Llyas, VoIP Handbook, Implementation of VoIP at the University of Colima, 1a edici\u00f3n 4. Consultado el 12 de Abril de 2011\u201cCasos de \u00c9xito de VoIP por Nowtek\u201d: http://www.nowtek.net/CasosdeExito.aspx   17 En busca de la soluci\u00f3n de los problemas nombrados anteriormente se formula la siguiente pregunta:  \u00bfCu\u00e1les ser\u00edan las caracter\u00edsticas t\u00e9cnicas de un sistema de telefon\u00eda basado en software libre que elimine los problemas mencionados e integre un sistema de informaci\u00f3n, remplazando la plataforma NBX existente en la Universidad de San Buenaventura?  1.3 JUSTIFICACI\u00d3N  En la universidad de San Buenaventura, existe actualmente un m\u00f3dulo de comunicaci\u00f3n por voz sobre IP, el cual lamentablemente ha venido presentando algunos inconvenientes en cuanto a su funcionamiento y eficacia; por lo tanto, se ve la necesidad de actuar correctivamente sobre los inconvenientes nombrados anteriormente. Es por esto que se plantea como una alternativa de soluci\u00f3n la migraci\u00f3n hacia un m\u00f3dulo de comunicaci\u00f3n basado en tecnolog\u00edas de software libre, soluci\u00f3n que en otros escenarios ha demostrado generar buenos resultados y que podr\u00eda corregir los actuales fallos que experimentan los usuarios de este sistema en la Universidad de San Buenaventura. Tambi\u00e9n es relevante mencionar que el sistema NBX de 3Com es una plataforma que usa software licenciado corporativamente, es decir, que acarrea costos para la Universidad a la hora de realizar una actualizaci\u00f3n o una ampliaci\u00f3n del sistema actual. Por el contrario, es posible encontrar herramientas de software libre que hacen uso de una plataforma netamente funcional y se trabaja mediante el r\u00e9gimen de licencia GPL, sin necesidad de pagar por estas licencias de software y que adem\u00e1s brinda muchas m\u00e1s opciones de uso para la Universidad.   18 1.4 OBJETIVOS  1.4.1 Objetivo general  \u2022 Desarrollar  un prototipo de Voz IP basado en una herramienta de software libre, que permita mejorar el servicio de telefon\u00eda IP en la Universidad de San Buenaventura sede Bogot\u00e1.  1.4.2 Objetivos  Espec\u00edficos  1.  Analizar el funcionamiento de la plataforma NBX v3000 actualmente implementada en la Universidad de San Buenaventura para determinar los requerimientos del sistema. 2.  Especificar los ajustes t\u00e9cnicos del sistema de comunicaci\u00f3n de voz IP para la Universidad. 3.  Dise\u00f1ar e implementar una Base de Datos que interactu\u00e9 con el sistema de comunicaci\u00f3n de VoIP para almacenar registros de llamadas. 4. Implementar un prototipo con parte de la funcionalidad de la soluci\u00f3n dise\u00f1ada.        19 1.4.3 Alcances y Limitaciones  \u2022 En el objetivo4, el prototipo se implementar\u00e1 con solo cuatro puntos que simular\u00e1n la presencia de un servidor y 3usuarios y ser\u00e1 implementado solo en el Edificio Guillermo de Ockham de la universidad de San Buenaventura Sede Bogot\u00e1.  \u2022 El objetivo 3 se limitar\u00e1 a las diferentes herramientas de software libre a las cuales se tenga acceso a trav\u00e9s de la investigaci\u00f3n.                       20 2. METODOLOG\u00cdA  La metodolog\u00eda utilizada en este proyecto, est\u00e1 constituida por diferentes factores que ayudaran a definir el mejor dise\u00f1o de la soluci\u00f3n que brindara la mejor implementaci\u00f3n, bas\u00e1ndose en  recolecci\u00f3n de informaci\u00f3n sobre el funcionamiento de la plataforma de telefon\u00eda IP implementada en la universidad y sobre la composici\u00f3n t\u00e9cnica de la red.  Con el fin de cumplir los objetivos propuestos se ejecuta una etapa inicial que consiste en el an\u00e1lisis del funcionamiento de la plataforma de telefon\u00eda IP de la universidad que consiste en realizar encuestas y pruebas que permitan sustentar e identificar las fallas que presenta el sistema. Posteriormente se consulta a fondo sobre el funcionamiento de una central de telefon\u00eda IP, su implementaci\u00f3n, sus componentes y dem\u00e1s aspectos de car\u00e1cter t\u00e9cnico, as\u00ed como la forma de articular dicha plataforma con una base de datos que automatiza la informaci\u00f3n de las llamadas de usuarios del sistema.  Por \u00faltimo se implementa la soluci\u00f3n del proyecto sobre el dise\u00f1o topol\u00f3gico de red de la Universidad, y se realiza la implementaci\u00f3n del dise\u00f1o de la base de datos, elaborando las correspondientes especificaciones t\u00e9cnicas de la central telef\u00f3nica, corrigiendo los aspectos que se identifiquen en la etapa inicial y realizando la implementaci\u00f3n de un prototipo de central telef\u00f3nica que simule el funcionamiento de la soluci\u00f3n propuesta. Se completa as\u00ed la soluci\u00f3n de la que puede hacer uso la Universidad de San Buenaventura sede Bogot\u00e1 mediante la contrataci\u00f3n con un proveedor de equipos, el suministro de un sistema que cumpla con los t\u00e9rminos de referencia planteados en este trabajo.     21 3. ENFOQUE DE LA INVESTIGACI\u00d3N  Emp\u00edrico Anal\u00edtico: Orientado a la interpretaci\u00f3n y transformaci\u00f3n del mundo material. A. L\u00cdNEA DE INVESTIGACI\u00d3N Tecnolog\u00edas e Innovaci\u00f3n  B. SUBL\u00cdNEA DE INVESTIGACI\u00d3N Tecnolog\u00edas de la Informaci\u00f3n y la Comunicaci\u00f3n (Tics)  C. CAMPO TEM\u00c1TICO DEL PROGRAMA \u2022 Construcci\u00f3n de software  \u2022 Aplicaci\u00f3n de telecomunicaciones.              22 4. MARCO DE REFERENCIA  4.1 MARCO TE\u00d3RICO CONCEPTUAL  Con el fin de identificar y conocer los diferentes elementos te\u00f3ricos que componen el sistema descrito en el presente documento y los conceptos t\u00e9cnicos b\u00e1sicos que permitir\u00e1n abordar el an\u00e1lisis de la plataforma IP y la implementaci\u00f3n del prototipo, se podr\u00e1 encontrar a continuaci\u00f3n informaci\u00f3n detallada sobre licencias de software libre, componentes de una central de telefon\u00eda IP y otros t\u00e9rminos complementarios de referencia. 4.1.1 Telefon\u00eda IP  VoIP (Voice over Internet Protocol). Es la tecnolog\u00eda que permite la transmisi\u00f3n de la se\u00f1al de voz en forma digital, mediante paquetes de datos, en lugar de enviarla en forma anal\u00f3gica a trav\u00e9s de circuitos utilizables s\u00f3lo por la telefon\u00eda convencional que forman las redes de la PSTN (Public Switched Telephone Network o Red Telef\u00f3nica P\u00fablica Conmutada). El tr\u00e1fico de Voz sobre IP puede circular por cualquier red IP, incluyendo aquellas conectadas a Internet, como por ejemplo las redes de \u00e1rea local (LAN). Es muy importante diferenciar entre Voz sobre IP (VoIP) y Telefon\u00eda sobre IP. \u2022 VoIP es el conjunto de normas, dispositivos y protocolos que componen la tecnolog\u00eda que permite la comunicaci\u00f3n de voz sobre el protocolo IP.5  _________________________________________________________________ 5 Consultado en internet el [7 de abril de 2011] en http://www.telefoniaip.tk/   23 \u2022 Telefon\u00eda sobre IP es el servicio telef\u00f3nico que toma como base la tecnolog\u00eda de VoIP. La Telefon\u00eda IP es una aplicaci\u00f3n inmediata de esta tecnolog\u00eda que permite la realizaci\u00f3n de llamadas telef\u00f3nicas ordinarias sobre redes IP u otras redes de paquetes utilizando un PC, tel\u00e9fonos est\u00e1ndares, o bien tel\u00e9fonos IP.6 4.1.1.1 Arquitectura de Telefon\u00eda IP  La arquitectura para la telefon\u00eda IP es b\u00e1sica y muy parecida a la que tiene la PSTN. A continuaci\u00f3n se describen las partes que conforman dicha arquitectura:  \u2022 Terminales: son los tel\u00e9fonos IP o los programas que los sustituyen y que act\u00faan como herramientas para la comunicaci\u00f3n.  \u2022 Gatekeepers: son el reemplazo de las centrales telef\u00f3nicas convencionales que se usan en la PSTN. Las centrales telef\u00f3nicas IP son totalmente digitales y brindan valor agregado a sus usuarios.  \u2022 Gateway: es la interfaz para la conexi\u00f3n con la red telef\u00f3nica convencional para permitir la comunicaci\u00f3n con los tel\u00e9fonos convencionales.  Esta estructura puede ser utilizada para interconectar las sucursales de una misma empresa, independientemente de que \u00e9stas se encuentren ubicadas en sitios distantes, con la ventaja de que todas las comunicaciones resultan gratuitas, puesto que no deben pagar por los tiempos de conexi\u00f3n de las llamadas.  ________________________________________________________________ 6 Consultado en internet el [7 de abril de 2011] en http://www.amcsitein.com/index.php/telefonia-ip    24 A medida que pasa el tiempo m\u00e1s empresas y personas utilizan \u00e9sta tecnolog\u00eda que aprovecha las caracter\u00edsticas y ventajas mencionadas del servicio de la transmisi\u00f3n de voz a trav\u00e9s del protocolo IP. Estas empresas deben asumir entre otros el costo de conexi\u00f3n de internet en caso de tener centralitas ubicadas en ciudades distantes.7 4.1.1.2 Protocolos Para Telefon\u00eda IP  Se debe aclarar que los protocolos de las redes IP originalmente no fueron dise\u00f1ados para permitir el transporte de se\u00f1ales de voz, por lo que dependiendo de la red de datos utilizada, pueden presentarse problemas de calidad en el servicio, no presentes en la PSTN. Algunos protocolos usados en centrales telef\u00f3nicas basadas en software libre son: \u2022 SIP (Session Initiation Protocol) es un protocolo de se\u00f1alizaci\u00f3n para conferencia, telefon\u00eda, presencia, notificaci\u00f3n de eventos y mensajer\u00eda instant\u00e1nea a trav\u00e9s de Internet. Fue desarrollado inicialmente en el grupo de trabajo MMSC (Multiparty Multimedia Session Control) de IETF y a partir de Septiembre de 1999, pas\u00f3 al grupo de trabajo IETF SIP.  \u2022 IAX: (Inter-AsteriskeXchangeprotocol) es uno de los protocolos utilizado por Asterisk, un servidor PBX (central telef\u00f3nica) de c\u00f3digo abierto patrocinado por Digium. Este protocolo es utilizado para manejar conexiones VoIP entre servidores Asterisk, y entre servidores y clientes que tambi\u00e9n utilizan protocolo IAX.   ___________________________________________________________ 7 Consultado en internet el [7 de abril de 2011] en http://conociendo-telefoniaip.blogspot.com/2007/07/estndar-voip.html    25 \u2022 H.323: Es una recomendaci\u00f3n del ITU-T (International Telecommunication Union) que define los protocolos necesarios para proveer sesiones de comunicaci\u00f3n audiovisual sobre paquetes de red.   \u2022 MGCP (Media Gateway Control Protocol) es un protocolo de control de dispositivos en el que un gateway esclavo (MG, Media Gateway), es controlado por un maestro (MGC, Media Gateway Controller, tambi\u00e9n llamado Call Agent).8  Tabla 1. Comparaci\u00f3n entre los protocolos   Tecnolog\u00eda Disponibilidad Seguridad NAT Total SIP 2 2 2 1 7 IAX 2 3 1 3 9 H.323 3 1 2 1 7 MGCP 2 1 \u00bf? \u00bf? 3 SCCP 3 1 \u00bf? \u00bf? 4 Fuente: http://dspace.ups.edu.ec/bitstream/123456789/208/2/Capitulo%201.pdf  En la Tabla 1, se eval\u00faan las caracter\u00edsticas de los protocolos usados para la telefon\u00eda IP, teniendo en cuenta las caracter\u00edsticas de tecnolog\u00eda, disponibilidad, seguridad y traducci\u00f3n de la direcci\u00f3n de red NAT (Network AddressTranslation). La Tabla 1 maneja una escala de 1 como el puntaje m\u00e1s bajo y de 5 como el puntaje m\u00e1s alto, para calificar los diferentes protocolos de acuerdo con el desempe\u00f1o que presentan ante las siguientes caracter\u00edsticas. _________________________________________________________________________________________________ 8 Consultado en internet el [8 de abril de 2011] en http://sistema-voip.com.ar/protocolos-voip-protocols/   26 \u2022 Tecnolog\u00eda: se refiere a los protocolos de red tradicionales utilizados por el protocolo VoIP como RTP (Real-time Transfer Protocol), TCP (Transfer Control Protocol), UDP (User Datagram Protocol), a la arquitectura y a los mecanismos de transmisi\u00f3n. \u2022 Disponibilidad: Hace referencia al nivel de acceso en cuanto a si es un protocolo propietario o si posee caracter\u00edsticas de libre distribuci\u00f3n. \u2022 Seguridad: Se refiere a los mecanismos de seguridad que implementa como la autenticaci\u00f3n, el cifrado del flujo, etc. \u2022 NAT: El puntaje var\u00eda dependiendo de la medida en que el protocolo de VoIP funciona ante la presencia de un dispositivo NAT.  4.1.1.3 Protocolo SIP (Session Initiation Protocol) SIP es un protocolo de se\u00f1alizaci\u00f3n del nivel de aplicaci\u00f3n para el establecimiento y la gesti\u00f3n de sesiones con m\u00faltiples participantes. Se basa en mensajes de petici\u00f3n y respuesta.10  Para realizar la comunicaci\u00f3n de los mensajes del protocolo SIP, los protocolos de la capa de transporte  TCP (Transmission Control Protocol) y UDP (User Datagram Protocol) utilizan el puerto 5060 para conectarse con los servidores SIP. SIP es usado simplemente para iniciar y terminar llamadas de voz y video. Todas las comunicaciones de voz/video van sobre el protocolo RTP (Real-time Transport Protocol).  _________________________________________________________________ 9 Consultado en internet el [8 de abril de 2011] en http://sistema-voip.com.ar/protocolos-voip-protocols/  10 Consultado en internet el [10 de abril de 2011] enhttp://voztovoice.org/?q=node/46    27 Uno de los principales objetivos de los dise\u00f1adores de SIP fue el de aportar mediante este protocolo un conjunto de las funciones necesarias para el procesamiento de llamadas y de las capacidades presentes en la red p\u00fablica conmutada de telefon\u00eda. As\u00ed, implement\u00f3 las funciones t\u00edpicas que permite un tel\u00e9fono com\u00fan como son: llamar a un n\u00famero, provocar que un tel\u00e9fono repique al ser llamado y poder escuchar la se\u00f1al de libre o de ocupado.  Algunas de las caracter\u00edsticas claves que SIP ofrece son:   \u2022 Establecimiento, modificaci\u00f3n y finalizaci\u00f3n de sesiones entre dos o m\u00e1s participantes.  \u2022 Registro y localizaci\u00f3n de participantes. Movilidad.  \u2022 Gesti\u00f3n del conjunto de participantes y de los componentes del sistema.  \u2022 Descripci\u00f3n de las caracter\u00edsticas de las sesiones y negociaci\u00f3n de las capacidades de los participantes.11    En la siguiente tabla se puede encontrar como ejemplo  algunos de los par\u00e1metros para la configuraci\u00f3n del Protocolo SIP en un servidor de telefon\u00eda como Asterisk.  Tabla 2.  Par\u00e1metros Utilizados en Asterisk PAR\u00c1METROS DESCRIPCI\u00d3N [general] Etiqueta que introduce la parte general de la configuraci\u00f3n. allowguest=no No permite llamadas de extensiones SIP remotas sin contrase\u00f1a. bindport=5060 El puerto utilizado para conectar las extensiones SIP al servidor Asterisk (protocolo UDP). bindaddr=0.0.0.0 La direcci\u00f3n IP para conectarse al servidor Asterisk (en este caso cualquier direcci\u00f3n de la computadora donde est\u00e1 Asterisk). tcpenable=yes Desde la versi\u00f3n 1.6 es posible configurar el servidor para que permita tambi\u00e9n conexiones TCP. tcpbindaddr=0.0.0.0:5059 Direcci\u00f3n y puerto para las conexiones SIP con protocolo   28 TCP. callevents=yes Cuando hay eventos (llamadas, etc.) estos vienen notificados al Asterisk Manager (\u00fatil para programas externos tipo FOP). context=pones El contexto de base que todas las extensiones utilizaran si no viene especificado diversamente. domain=sip.miodominio.com El dominio local para el servidor asterisk. En mi caso son dos. domain=10.8.0.1 Si se quiere conectar a Asterisk usando un segundo dominio (ejemplo una red privada virtual). subscribecontext = subscribe Contexto donde configurar las extensiones para activar la funci\u00f3n subscribe del protocolo SIP allowsubscribe=yes Notifica si la extensi\u00f3n est\u00e1 timbrando a las dem\u00e1s extensiones notifyringing=yes Notifica si la extensi\u00f3n est\u00e1 en espera notifyhold=yes Esto permite a las extensiones controlar el estado de las dem\u00e1s. allow=ulaw Habilita el c\u00f3dec de audio ulaw como base para todas las extensiones. allow=alaw Igual que arriba para el c\u00f3dec Alaw. useragent=xxxx La centralita se presentar\u00e1 con este nombre. realm=xxxx Si se define esta opci\u00f3n, se podr\u00e1 crear las contrase\u00f1as cifradas con el protocolo MD5 t38pt_udptl=yes Permite el uso del protocolo T38 (fax sobre IP) pero solo para conexiones directas videosupport=yes Para permitir llamadas con video srvlookup=yes Permite hacer b\u00fasquedas de registros DNS para llamadas SIP salientes basadas en los nombres de dominio disallow=all Permite deshabilitar todos los c\u00f3decs (audio y video). Fuente: http://voztovoice.org/?q=node/46 4.1.1.4 Protocolo IAX (Inter Asterisk eXchange)  El protocolo IAX fue creado por Mark Spencer para la se\u00f1alizaci\u00f3n de VoIP en Asterisk (servidor de telefon\u00eda nombrado anteriormente). El protocolo crea sesiones internas y dichas sesiones pueden utilizar cualquier c\u00f3dec que pueda transmitir voz o v\u00eddeo. El IAX esencialmente provee control y transmisi\u00f3n de flujos de datos multimedia sobre redes IP. IAX es extremadamente flexible y puede ser utilizado con cualquier tipo de dato incluido v\u00eddeo.  ______________________________________________________________________________ 11 Consultado en internet el [10 de abril de 2011] en http://voztovoice.org/?q=node/46   29 El principal objetivo de IAX ha sido minimizar el ancho de banda utilizado en la transmisi\u00f3n de voz y v\u00eddeo a trav\u00e9s de la red IP, con particular atenci\u00f3n al control de las llamadas de voz y proveyendo un soporte nativo para ser transparente a NAT. La estructura b\u00e1sica de IAX se fundamenta en la multiplexaci\u00f3n de la se\u00f1alizaci\u00f3n y del flujo de datos entre dos sistemas sobre un simple puerto UDP. IAX es un protocolo binario y est\u00e1 dise\u00f1ado y organizado de manera que reduce la carga en flujos de datos de voz. El ancho de banda para algunas aplicaciones se sacrifica en favor del ancho de banda para VoIP.  4.1.2 Software Libre El software libre es la denominaci\u00f3n del software que respeta la libertad de los usuarios sobre su producto adquirido y, por tanto, una vez obtenido puede ser usado, copiado, estudiado, modificado y redistribuido libremente. Seg\u00fan la Free Software Foundation, el software libre se refiere a la libertad de los usuarios para ejecutar, copiar, distribuir, estudiar, modificar el software y distribuirlo modificado. El software libre suele estar disponible gratuitamente, o al precio de costo de la distribuci\u00f3n a trav\u00e9s de otros medios; sin embargo no es obligatorio que sea as\u00ed, por lo tanto no hay que asociar software libre a \"software gratuito\" (denominado usualmente freeware), ya que, conservando su car\u00e1cter de libre, puede ser distribuido comercialmente (\"software comercial\"). An\u00e1logamente, el \"software gratis\" o \"gratuito\" incluye en ocasiones el c\u00f3digo fuente; no obstante, este tipo de software no es libre en el mismo sentido que el software libre, a menos que se garanticen los derechos de modificaci\u00f3n y redistribuci\u00f3n de dichas versiones modificadas del programa.12 ______________________________________________________________________________  12 Consultado en internet el [10 de abril de 2011] en http://www.gnu.org/philosophy/free-sw.es.html   30 4.1.2.1 Libertades de Software Libre \u2022 La libertad de ejecutar el programa, para cualquier prop\u00f3sito (libertad 0). \u2022 La libertad de estudiar c\u00f3mo trabaja el programa, y cambiarlo para que haga lo que usted quiera (libertad 1). El acceso al c\u00f3digo fuente es una condici\u00f3n necesaria para ello.  \u2022 La libertad de redistribuir copias para que le pueda servir a otros (libertad 2).  \u2022 La libertad de distribuir copias de sus versiones modificadas a terceros (la 3\u00aa libertad). Si lo hace, puede dar a toda la comunidad una oportunidad de beneficiarse de sus cambios. El acceso al c\u00f3digo fuente es una condici\u00f3n necesaria para ello. Un programa es software libre si los usuarios tienen todas esas libertades. Entonces, deber\u00eda ser libre de redistribuir copias, tanto con o sin modificaciones, ya sea gratis o cobrando una tarifa por distribuci\u00f3n, a cualquiera en cualquier parte. El ser libre de hacer estas cosas significa, entre otras cosas, que no tiene que pedir o pagar el permiso.13 4.1.2.2 Tipos de licencias  \u2022 Licencias GPL (General Public License): Una de las m\u00e1s utilizadas es la Licencia P\u00fablica General de GNU (sigla de GNU is Not Unix). El autor conserva los derechos de autor (copyright), y permite la redistribuci\u00f3n y modificaci\u00f3n bajo t\u00e9rminos dise\u00f1ados para asegurarse de que todas las versiones modificadas del software permanecen bajo los t\u00e9rminos m\u00e1s restrictivos de la propia GNU GPL.  ______________________________________________________________________ 13 Consultado en internet el [10 de abril de 2011] en http://www.gnu.org/philosophy/free-sw.es.html   31 Esto hace que sea imposible crear un producto con partes no licenciadas GPL: el conjunto tiene que ser GPL.14  \u2022 Licencias AGPL (Affero General Public License) La Licencia P\u00fablica General de Affero (en ingl\u00e9s Affero General Public License, tambi\u00e9n Affero GPL o AGPL), es una licencia de software que aclara que el software puede ser modificado y distribuido teniendo en cuenta que se debe conservar el autor inicial de dicho desarrollo, a esto se le llama copyleft. Esta, finalmente es una licencia derivada de la Licencia P\u00fablica General de GNU dise\u00f1ada espec\u00edficamente para asegurar la cooperaci\u00f3n con la comunidad en el caso de software que corra en servidores de red. La Affero GPL es \u00edntegramente una GNU GPL con una cl\u00e1usula nueva que a\u00f1ade la obligaci\u00f3n de distribuir el software si \u00e9ste se ejecuta para ofrecer servicios a trav\u00e9s de una red de ordenadores.15 \u2022 Licencias estilo BSD Llamadas as\u00ed porque se utilizan en una gran cantidad de software distribuido junto a los sistemas operativos BSD. El autor, bajo tales licencias, mantiene la protecci\u00f3n del copyright \u00fanicamente para la renuncia de garant\u00eda y para requerir la adecuada atribuci\u00f3n de la autor\u00eda en trabajos derivados, pero permite la libre redistribuci\u00f3n y modificaci\u00f3n, incluso si dichos trabajos tienen propietario.     _________________________________________________________________ 14Consultado en internet el [10 de abril de 2011] enhttp://www.gnu.org/licenses/license-list.es.html 15Consultado en internet el [12 de abril de 2011] enhttp://www.gnu.org/philosophy/free-sw.es.html   32 \u2022 Licencias estilo MPL (Mozilla Public License) y derivadas Esta licencia es de Software Libre y tiene un gran valor porque fue el instrumento que emple\u00f3 Netscape Communications Corp. para liberar su Netscape Communicator 4.0 y empezar ese proyecto tan importante para el mundo del Software Libre: Mozilla.  Se utilizan en gran cantidad de productos de software libre de uso cotidiano en todo tipo de sistemas operativos. La MPL es Software Libre y promueve eficazmente la colaboraci\u00f3n evitando el efecto \"viral\" de la GPL (si se usa c\u00f3digo licenciado GPL, el desarrollo final tiene que estar licenciado GPL). Desde el punto de vista del desarrollador, la GPL presenta un inconveniente en este punto y es que lamentablemente a mucha gente no le interesa hacer uso de \u00e9stas licencias y de su c\u00f3digo fuente en \u00e9stas condiciones. No obstante la MPL no es tan excesivamente permisiva como las licencias tipo BSD. Estas licencias son denominadas de copyleft d\u00e9bil. La NPL (Netscape Public License) (luego MPL) fue el primer tipo de licencia nueva despu\u00e9s de muchos a\u00f1os, que se encargaba de algunos puntos que no fueron tenidos en cuenta por las licencias BSD y GNU. En el espectro de las licencias de software libre se la puede considerar adyacente a la licencia estilo BSD, pero perfeccionada.16 \u2022 Copyleft En este tipo de licencia existe un titular de los derechos de autor (copyright) de un software, qui\u00e9n eventualmente puede autorizar la realizaci\u00f3n de versiones modificadas bajo su copyright original y venderlas bajo cualquier licencia que desee la persona que hace la modificaci\u00f3n. _________________________________________________________________16Consultado en internet el [12 de abril de 2011] enhttp://www.gnu.org/philosophy/free-sw.es.html   33  Esta t\u00e9cnica ha sido usada como un modelo de negocio por una serie de empresas que producen software libre (por ejemplo MySQL). Esta pr\u00e1ctica no restringe ninguno de los derechos otorgados a los usuarios de la versi\u00f3n copyleft. Tambi\u00e9n podr\u00eda retirar todas las licencias de software libre anteriormente otorgadas, pero esto obligar\u00eda a una indemnizaci\u00f3n a los titulares de las licencias en uso. En Espa\u00f1a, toda obra derivada est\u00e1 tan protegida como la original, siempre que la obra derivada parta de una autorizaci\u00f3n contractual del autor.  En el caso gen\u00e9rico de que el autor retire las licencias \"copyleft\", no afectar\u00eda de ning\u00fan modo a los productos derivados anteriores a esa eventualidad, ya que no tiene efecto retroactivo. En t\u00e9rminos legales, el autor no tiene derecho a retirar el permiso de una licencia en vigencia. Si as\u00ed sucediera, el conflicto entre las partes se resolver\u00eda en un pleito convencional. 4.1.3 Distribuciones Linux  Aunque la implementaci\u00f3n de un servidor para telefon\u00eda IP se puede hacer bajo cualquier sistema operativo, generalmente estos desarrollos se hacen con sistemas operativos Linux. Esto debido a que ofrecen m\u00e1s robustez y seguridad y  a que el software que se usa en las centrales telef\u00f3nicas son distribuciones binarias y por su tipo de licencia se hace m\u00e1s f\u00e1cil su uso en distribuciones con base Linux o Unix.  En la Tabla 3 se hace una descripci\u00f3n detallada acerca de tres distribuciones de Linux comparando sus caracter\u00edsticas globales, lo cual se usara m\u00e1s adelante para identificar la distribuci\u00f3n que se utilizar\u00e1n en la soluci\u00f3n.     34 Tabla 3. Distribuciones Linux CARACTER\u00cdSTICAS DISTRIBUCIONES LINUX MANDRIVA UBUNTU CENTOS Arquitecturas soportadas I386, IA64, AMD64, SPARC, HPPA, S390 I386, IA64, AMD64,  I386, IA64, AMD64, SPARC, HPPA, S390, POWERPC, ALPHA Requisitos de Hardware Modelo texto: procesador 166 MHZ Pentium, Memoria: 64MB, Disco Duro: 620MB.                                                      Modelo gr\u00e1fico: Procesador 400 MHz Pentium, Memoria: 128 MB, disco Duro: 620 MB. Modelo texto: procesador 166 MHZ Pentium, Memoria: 64MB, Disco Duro: 620MB.                                                      Modelo gr\u00e1fico: Procesador 400 MHz Pentium, Memoria: 128 MB, disco Duro: 620 MB. Modelo texto: procesador 200 MHZ Pentium, Memoria: 128MB, Disco Duro: 1 GB.                                                      Modelo gr\u00e1fico: Procesador 400 MHz Pentium, Memoria: 512 MB, disco Duro: 1 GB. \nInstalador Global El instalador global bueno y bien dise\u00f1ado, f\u00e1cil de acceder a configuraciones avanzadas como modo experto en la totalidad de las configuraciones, considerado como el m\u00e1s f\u00e1cil de instalar de todas las distribuciones Linux. El programa de instalaci\u00f3n es r\u00e1pido y con pocas preguntas. A\u00f1ade pocas pantallas para el modo experto, elimina algunas en modo principiante, con personalizaci\u00f3n limitada  Instalador muy desarrollado, similar a Red Hat (otra distribuci\u00f3n de Linux). Utiliza Anaconda para el proceso de instalaci\u00f3n. Ofrece funciones de instalaci\u00f3n personalizada para principiantes y para expertos \nManejo del sistema por consola El sistema de administraci\u00f3n de consola es una herramienta gr\u00e1fica, disponible tambi\u00e9n en la modalidad semi-grafica. Es muy \u00fatil durante el uso de la consola remota ssh pero tiene sus limitaciones El paquete de herramientas de configuraci\u00f3n llamado debconf, es muy \u00fatil, proviene del Proyecto Debian (grupo de personas reunidas con el fin de desarrollar el sistema operativo Debian) y est\u00e1 disponible en las CentOS contiene algunas herramientas de consola que permiten la gesti\u00f3n del equipo de manera integral. Incluyen la configuraci\u00f3n de la tarjeta de red, audio, video, servicios, etc.   35 herramientas de configuraci\u00f3n est\u00e1ndar de Debian. Licencia Licencia GNU-GPL, incluye controladores propietarios Licencia GNU-GPL,  incluye paquetes propietarios Software GNU GPL en su totalidad \nCentro de Seguridad Es sencillo, pero, no es el principal objetivo de Mandriva ya que tienden a dar facilidad de uso, por lo tanto no es tan seguro por defecto Todos los paquetes de seguridad se actualizan a diario, sin embargo, no hay cortafuegos ni herramientas de seguridad de acceso a recursos de red en la instalaci\u00f3n por defecto. Ofrece varias caracter\u00edsticas de seguridad similares a Red Hat, como son: permitir acceso a nuevas herramientas de seguridad a nivel chip y memoria. La desventaja es que necesita parches oficiales para vulnerabilidades detectadas. Estabilidad y madurez Mandriva por lo general se mantiene al d\u00eda, esto causa problemas de estabilidad Ubuntu es basado en debian, una distribuci\u00f3n estable y madura. Sin embargo, Ubuntu incluye software adicional y pueden ocurrir situaciones de inestabilidad  La estabilidad caracter\u00edstica importante de esta distribuci\u00f3n, que se basa en paquetes de software probado que aseguran su funcionamiento adecuado para ambientes empresariales. Documentaci\u00f3n Cuenta con varias comunidades en algunos idiomas, la p\u00e1gina oficial cuenta con documentaci\u00f3n y acceso a foros Se puede obtener f\u00e1cilmente la documentaci\u00f3n necesaria, desde varias fuentes. Existe documentaci\u00f3n muy variada, especialmente del proyecto Red Hat y de la comunidad de desarrolladores. Informaci\u00f3n adaptada de: http://120linux.com/distribuciones/   -   http://doc.ubuntu-es.org/Sobre_Ubuntu  -   http://www.debian.org/index.es.html      36 4.1.4 Bases de Datos  Una base de datos es un sistema formado por un conjunto de datos almacenados en discos que permiten el acceso directo a ellos y un conjunto de programas que pueden manipular ese conjunto de datos. Cada base de datos se compone de una o m\u00e1s tablas que guardan un conjunto de datos. Cada tabla tiene una o m\u00e1s columnas y filas. Las columnas guardan una parte de la informaci\u00f3n sobre cada elemento que se quiera guardar en la tabla y cada fila de la tabla conforma un registro.17 4.1.4.1 Tipo de campos en una Base de datos Cada Sistema de Base de Datos posee varios tipos de campos que pueden ser similares o diferentes. Entre los m\u00e1s comunes se puede nombrar: \u2022 Num\u00e9rico: entre los diferentes tipos de campos num\u00e9ricos se encuentran enteros \u201csin decimales\u201d y reales \u201cdecimales\u201d. \u2022 Booleanos: poseen dos estados: Verdadero o \u201cSi\u201d y Falso o \u201cNo\u201d. \u2022 Fechas: almacenan fechas facilitando posteriormente su exploraci\u00f3n. Almacenar fechas de esta forma posibilita ordenar los registros por fechas o calcular los d\u00edas entre una fecha y otra. \u2022 Alfanum\u00e9ricos: contienen cifras y letras. Presentan una longitud limitada (255 caracteres).18  _________________________________________________________________17Consultado en internet el [14 de abril de 2011] en http://www.cyta.com.ar/biblioteca/bddoc/bdlibros/proyectoinformatico/libro/c3/c3.htm 18 Consultado en internet el [16 de abril de 2011] en http://basesdedatosymas.super-red.es/BaseDeDatos/BaseDeDatos.html   37 4.1.4.2 Modelo Entidad-Relaci\u00f3n Los diagramas o modelos entidad-relaci\u00f3n, son una herramienta para el modelado de datos en un sistema de informaci\u00f3n.  Estos modelos expresan entidades relevantes para un sistema de informaci\u00f3n y sus inter-relaciones y propiedades. 4.1.4.3 Cardinalidad de las Relaciones Las relaciones entre las tablas de una base de datos puede ser de los siguientes tipos: \u2022 Relaciones de uno a uno: una instancia de la entidad A se relaciona con una y solamente una de la entidad B y viceversa. \u2022 Relaciones de uno a muchos: cada instancia de la entidad A se relaciona con varias instancias de la entidad B y en sentido contrario. \u2022 Relaciones de muchos a muchos: cualquier instancia de la entidad A se relaciona con cualquier instancia de la entidad B.19        _________________________________________________________________ 19 Consultado en internet el [16 de abril de 2011] en http://www.cyta.com.ar/biblioteca/bddoc/bdlibros/proyectoinformatico/libro/c3/c3.htm   38 4.1.5 T\u00e9rminos de Referencia (TDR)  Los TDR pueden compararse con las especificaciones t\u00e9cnicas para la compra de bienes. Los t\u00e9rminos de referencia deben definir con precisi\u00f3n la tarea solicitada a la empresa proveedora del bien.  La claridad de los TDR es la clave para propuestas de buena calidad y, en \u00faltima instancia, para lograr un contrato basado en la solidez. Los TDR deben establecer claramente y/o especificar diferentes aspectos, entre ellos:   \u2022 Antecedentes: Breve resumen del Proyecto. \u00bfCu\u00e1l es el historial de las tareas?  \u00bfSe ha trabajado en eso con anterioridad?\u00bfExiste alguna limitaci\u00f3n en particular con relaci\u00f3n a los resultados buscados?  Porqu\u00e9 y para qu\u00e9 se requiere el servicio o consultor\u00eda? \u2022 Objetivos: \u00bfQu\u00e9 se anticipa como resultado de los servicios? \u2022 Perfil requerido de la empresa a contratar.  \u2022 Adquisiciones: \u00bfExisten requerimientos de hardware o equipos en conexi\u00f3n con las tareas a realizarse?  Cu\u00e1ndo deber\u00edan realizarse esas entregas a los clientes y bajo qu\u00e9 t\u00e9rminos y condiciones? \u2022 Informes: Indicar fechas tentativas de qu\u00e9 modo y cu\u00e1ndo presentar\u00e1 la empresa Consultora sus resultados. \u2022 Insumos: \u00bfQu\u00e9 es lo que proporcionar\u00e1 el cliente a modo de instalaciones, apoyo profesional e infraestructura f\u00edsica? \u2022 Viajes: Anotar si los viajes deben incluirse en la propuesta o si se reembolsar\u00e1n los gastos.   39 \u2022 Equipo de trabajo:  Enumerar el personal clave de trabajo requerido con el perfil necesario de cada uno de los cargos  \u2022 Forma de Pago: Deber\u00e1 estar sujeta a productos a entregarse y en caso de ser necesario y justificado, podr\u00e1 preverse un anticipo de m\u00e1ximo un 20% previa entrega de una garant\u00eda bancaria.20    4.1.6 CDR (Call Detail Record)  El CDR consiste en hacer registros sobre las llamadas; estos registros son autom\u00e1ticamente generados y pueden ser almacenados en un computador en diferentes formatos. Estos reportes contienen informaci\u00f3n como el n\u00famero de llamadas realizadas, la duraci\u00f3n de las llamadas, el origen y el destino de las llamadas. Cuando se habla de CDR tambi\u00e9n se hace referencia a una herramienta fundamental para los proveedores en el control de facturaci\u00f3n a clientes y para los centros de atenci\u00f3n de usuarios para la recolecci\u00f3n de estad\u00edsticas.  Generalmente un CDR es una caracter\u00edstica por defecto de una central telef\u00f3nica, que en la mayor\u00eda de los casos debe ser configurada y posteriormente hay que ponerla en marcha, con el fin de que empiece a crear registro de las diferentes llamadas que se hagan a trav\u00e9s de la central telef\u00f3nica.       _________________________________________________________________ 20 Consultado en internet el [16 de abril de 2011] en http://www.seplade.michoacan.gob.mx/suplader/images/.../terminos%20r.doc   40  4.2 MARCO LEGAL O NORMATIVO  La regulaci\u00f3n parala telefon\u00eda IP en Colombia, se resume en varios art\u00edculos que sustentan estos servicios en el Pa\u00eds. En este marco normativo se presenta las acciones legales, decretos y sanciones que establece la ley sobre VoIP en Colombia. (Anexo D)                   41 5. DESARROLLO INGENIERIL  El desarrollo ingenieril del trabajo fue planteado de forma que en cada objetivo se resaltara y manejara un contexto diferente con el fin de hacer \u00e9nfasis en cada uno de ellos y proveer un resultado con calidad. Es por esto que luego de haber realizado una investigaci\u00f3n a fondo sobre el tema y un an\u00e1lisis de la informaci\u00f3n contenida en el marco te\u00f3rico, se  facilita la toma de decisiones tales como la selecci\u00f3n del sistema operativo a emplear y la plataforma de telefon\u00eda a utilizar. Este numeral est\u00e1 compuesto por cinco partes en las que se har\u00e1 la descripci\u00f3n de la forma en que se desarrolla el proyecto: la primera secci\u00f3n muestra en forma detallada el an\u00e1lisis realizado a la plataforma de telefon\u00eda que posee la Universidad de San Buenaventura, con el fin de identificar sus fortalezas, debilidades, amenazas y oportunidades. En segundo lugar se incluye la s\u00edntesis de la selecci\u00f3n del software y de la plataforma de telefon\u00eda con miras a la implementaci\u00f3n del prototipo. La tercera parte del desarrollo ingenieril, consiste en hacer el completo proceso de dise\u00f1o de una base de datos que interact\u00fae  y se articule con la central telef\u00f3nica y haga uso de la funcionalidad de CDR. En la cuarta secci\u00f3n se especifican los requerimientos para la adquisici\u00f3n de un nuevo sistema de comunicaci\u00f3n de voz IP para la comunicaci\u00f3n interna dentro de la Universidad. Por \u00faltimo se hace la descripci\u00f3n de los aspectos t\u00e9cnicos de la implementaci\u00f3n del prototipo donde se sigue paso a paso la instalaci\u00f3n de una central de telefon\u00eda VoIP, implementando algunas funcionalidades b\u00e1sicas  as\u00ed como la base de datos dise\u00f1ada en el proyecto.     42 5.1 AN\u00c1LISIS DEL FUNCIONAMIENTO DE LA PLATAFORMA NBX V3000  El an\u00e1lisis de la plataforma de la Universidad de San Buenaventura Bogot\u00e1 fue realizado con el fin de identificar espec\u00edficamente sus componentes y de realizar un estudio que permitiera identificar las fallas, las ventajas y las desventajas que presenta actualmente la plataforma, para de esta manera plantear una soluci\u00f3n acorde a la red de datos actual y a las necesidades de comunicaci\u00f3n que requiere la Universidad. En general un sistema telef\u00f3nico debe incluir dentro de sus servicios todos los beneficios que ofrecen los sistemas tradicionales de telefon\u00eda p\u00fablica, los sistemas h\u00edbridos y los PBXs. Estos beneficios son entre otros: correo de voz, operadora autom\u00e1tica, reporte de detalle de llamadas (CDR), grupos de llamadas y mensajer\u00eda unificada.  La plataforma NBX V300, ofrece gran variedad de servicios y compatibilidad con software y aplicaciones que han sido fuertemente probadas e integradas a la plataforma en un ambiente de trabajo que requiera de efectividad y de calidad en el servicio de comunicaci\u00f3n.  La plataforma implementada en la Universidad cuenta con un n\u00famero determinado de dispositivos asociados al servidor, por lo general el rango inicial de una plataforma de este estilo cuenta con una capacidad para 250 usuarios como m\u00ednimo y un m\u00e1ximo de 1500; adicionalmente \u00e9sta soluci\u00f3n es adquirida en forma de un paquete completo que consta de una licencia de uso, (esta licencia tiene un costo que var\u00eda seg\u00fan el n\u00famero de usuarios), un kit de software, un disco duro y un procesador de llamadas, con sus correspondientes accesorios de conexi\u00f3n y alimentaci\u00f3n de poder.   43 La soluci\u00f3n de 3Com, utiliza Hardphones y Softphone, los cuales pueden ser usados simult\u00e1neamente en una sola estaci\u00f3n de trabajo contando con que estos pueden estar asociados a m\u00e1s de una extensi\u00f3n.  An\u00e1lisis de las Fallas que presenta la Plataforma Telef\u00f3nica de la Universidad  Con el fin de determinar de manera precisa los problemas que actualmente est\u00e1n presentes en el sistema de telefon\u00eda empleado por la Universidad, se realiz\u00f3 una encuesta entre 12 funcionarios escogidos de forma aleatoria pertenecientes a diferentes \u00e1reas, cargos y ubicaciones f\u00edsicas dentro de la Universidad de San Buenaventura. La encuesta se dise\u00f1\u00f3 de la siguiente manera: 10 preguntas que evaluaban en forma general el funcionamiento del sistema de telefon\u00eda, 8 de \u00e9stas fueron dirigidas a aquellos usuarios que utilizan HardPhone, Softphone o ambos. Las dos restantes, estaban dirigidas \u00fanicamente a los usuarios que utilizan SoftPhone. El modelo de dicha encuesta se puede ver en el Anexo D.          44 Pregunta 1. Ilustraci\u00f3n 1.  Tabulaci\u00f3n Pregunta 1 \n  El texto de \u00e9sta pregunta se incluye en la Ilustraci\u00f3n 1.De acuerdo con las respuestas recibidas, se determin\u00f3 que el 75% de los usuarios encuestados encuentran que en general del sistema de telefon\u00eda IP de la universidad es bueno, el 25% restante opina que es regular y ninguno de ellos opina que es malo. Esto evidencia que a primera vista el funcionamiento de la plataforma de telefon\u00eda es bueno.  Pregunta 2. Ilustraci\u00f3n 2. Tabulaci\u00f3n Pregunta 2         75%\t\r \u00a025%\t\r \u00a01.    Considera usted que el funcionamiento del sistema de telefon\u00eda del cual hace uso en la Universidad es:  Bueno\t\r \u00a0\t\r \u00a0Regular\t\r \u00a0\n25%\t\r \u00a058,3\t\r \u00a0%\t\r \u00a016,7\t\r \u00a0%\t\r \u00a02. Realiza usted las llamadas por medio de: Computador\t\r \u00a0Fijo\t\r \u00a0Ambos\t\r \u00a0  45 De acuerdo con las respuestas obtenidas para \u00e9sta pregunta, se encontr\u00f3 que  el 58.3% de los encuestados usan HardPhone, el 29% SoftPhone y el 16.7% de ellos usan ambos tel\u00e9fonos. La representaci\u00f3n correspondiente se observa en la Ilustraci\u00f3n2. Se puede interpretar con base en estos resultados, que la mayor\u00eda de los usuarios utilizan HardPhone.  Pregunta 3. Ilustraci\u00f3n 3. Tabulaci\u00f3n Pregunta 3  \n  La ilustraci\u00f3n 3, muestra el n\u00famero de personas que reportaron cada uno de los diversos problemas relacionados con la calidad de las llamadas telef\u00f3nicas que establecen regularmente. Se debe tener en cuenta que cada uno de los 12 usuarios encuestados pod\u00edan elegir m\u00e1s de un problema como respuesta. De acuerdo con la gr\u00e1fica de la Ilustraci\u00f3n 3, el problema que ocurre con m\u00e1s frecuencia se relaciona con la voz cortada. En menor relaci\u00f3n se presenta la ca\u00edda de llamadas, el eco y el retardo en la voz. 3\t\r \u00a05\t\r \u00a03\t\r \u00a03\t\r \u00a05\t\r \u00a00\t\r \u00a01\t\r \u00a02\t\r \u00a03\t\r \u00a04\t\r \u00a05\t\r \u00a06\t\r \u00a0\nCa\u00edda\t\r \u00a0de\t\r \u00a0llamada\t\r \u00a0Voz\t\r \u00a0Cortada\t\r \u00a0Eco\t\r \u00a0Retardo\t\r \u00a0en\t\r \u00a0la\t\r \u00a0voz\t\r \u00a0\t\r \u00a0\t\r \u00a0\t\r \u00a0Ninguno\t\r \u00a0N\u00ba\t\r \u00a0de\t\r \u00a0Personas\t\r \u00a0Problemas\t\r \u00a0en\t\r \u00a0las\t\r \u00a0llamadas\t\r \u00a03. Cuando usted realiza una llamada tiene problemas como:   46 Pregunta 4. Ilustraci\u00f3n 4. Tabulaci\u00f3n Pregunta 4  \n Para la pregunta 4, la gr\u00e1fica de la Ilustraci\u00f3n 4 indica que los problemas que se presentan suceden en su mayor\u00eda en los tel\u00e9fonos HardPhone, con una m\u00ednima diferencia con respecto a los SoftPhone. Estos datos conducen a inferir que los problemas presentados no dependen del tipo de tel\u00e9fono usado sino de la plataforma de telefon\u00eda. Pregunta 5.  Ilustraci\u00f3n 5. Tabulaci\u00f3n Pregunta 5         25%\t\r \u00a033,3%\t\r \u00a041,7%\t\r \u00a04. Dichos problemas de la pregunta 3 le suceden cuando utiliza un: Computador\t\r \u00a0Fijo\t\r \u00a0Ambos\t\r \u00a0No\t\r \u00a0Aplica\t\r \u00a0\n83,3\t\r \u00a0%\t\r \u00a016,7\t\r \u00a0%\t\r \u00a05.    Considera que la calidad de voz que escucha en una llamada es: Buena\t\r \u00a0Regular\t\r \u00a0Mala\t\r \u00a0  47 Los resultados del an\u00e1lisis de las respuestas obtenidas para la pregunta 5 se representan gr\u00e1ficamente en la Ilustraci\u00f3n 5. A  partir de la gr\u00e1fica correspondiente se determina que s\u00f3lo el 16,7% de las personas opinan que la calidad de la voz en las llamadas es regular y ninguna de ellas piensa que es del todo mala. Se debe tener en cuenta que los resultados anteriores no indican que no se presenten otro tipo de problemas.  Pregunta 6. Ilustraci\u00f3n 6. Tabulaci\u00f3n Pregunta 6.  \n La pregunta 6 pretend\u00eda identificar si realizar una llamada hacia afuera de la universidad, representa un proceso complejo para los usuarios. La gr\u00e1fica de la ilustraci\u00f3n 6  muestra que el 33.3% de los usuarios encuestados manifiestan que el proceso si presenta dificultad, contrario al 66.7% restante que no expresan inconformidad con el proceso.   33,3%\t\r \u00a066,7%\t\r \u00a06. \u00bfLe parece tedioso el proceso de comunicaci\u00f3n hacia fuera de la Universidad, consider\u00e1ndose tel\u00e9fonos fijos y/o celulares? Si\t\r \u00a0No\t\r \u00a0  48 Pregunta 7. Ilustraci\u00f3n 7.  Tabulaci\u00f3n Pregunta 7  \n  La gr\u00e1fica de la Ilustraci\u00f3n 7 muestra la opini\u00f3n de los usuarios encuestados acerca de la consideraci\u00f3n de un cambio en el sistema de comunicaci\u00f3n dentro de la universidad. La mitad de los usuarios opinan que s\u00ed deber\u00eda haber alg\u00fan cambio y especialmente relacionado con el tipo de tel\u00e9fono usado, pues los encuestados preferir\u00edan el uso de HardPhones dado que consideran que los SoftPhones no funcionan de manera adecuada.         50%\t\r \u00a0\t\r \u00a050%\t\r \u00a07. \u00bfConsidera usted que deber\u00eda haber alg\u00fan cambio en el sistema de comunicaci\u00f3n dentro de la universidad? Si\t\r \u00a0No\t\r \u00a0  49 Pregunta 8. Ilustraci\u00f3n 8. Tabulaci\u00f3n Pregunta 8  \n  La pregunta que se muestra en la Ilustraci\u00f3n 8 intenta identificar si existe alg\u00fan horario habitual donde se presenten dificultades en la comunicaci\u00f3n, con el fin de determinar si existen problemas en la comunicaci\u00f3n o debido a la presencia de cuellos de botella en la red o a alta carga de tr\u00e1fico en la misma. La tabulaci\u00f3n muestra que ning\u00fan usuario de los encuestados ha detectado este tipo de inconvenientes.  Las siguientes preguntas s\u00f3lo iban dirigidas a los usuarios de SoftPhone (5), con el fin de evaluar las caracter\u00edsticas y el funcionamiento de los SoftPhone.     100\t\r \u00a0%\t\r \u00a08. \u00bfExiste alg\u00fan horario habitual en el que haya experimentado dificultades en la comunicaci\u00f3n repetidamente?  Si\t\r \u00a0No\t\r \u00a0  50 Pregunta 9. Ilustraci\u00f3n 9. Tabulaci\u00f3n Pregunta 9  \n  La gr\u00e1fica de la Ilustraci\u00f3n 9 revela que en general la operaci\u00f3n del SoftPhone no representa dificultad significativa para los usuarios.  Pregunta 10. Ilustraci\u00f3n 10. Tabulaci\u00f3n Pregunta 10.  \n 20%\t\r \u00a040%\t\r \u00a040%\t\r \u00a09. Considera que la dificultad del manejo del software que usa para llamar es Di\ufb01cil\t\r \u00a0Normal\t\r \u00a0\n40%\t\r \u00a060%\t\r \u00a010.    \u00bfCuando recibe una llamada, \u00e9sta interrumpe de forma brusca su trabajo? Si\t\r \u00a0No\t\r \u00a0  51 La pregunta 10 fue planteada con el fin de identificar la presencia de interrupciones  a las actividades que realiza el usuario o bloqueos al sistema operativo del computador por parte de los SoftPhones cuando se tiene una llamada entrante. La gr\u00e1fica de la Ilustraci\u00f3n 10 muestra que en el 40% de los casos estas interrupciones si se est\u00e1n presentando.  De acuerdo con el an\u00e1lisis de la informaci\u00f3n obtenida a partir de la se puede concluir que a pesar de que el 75% de los usuarios manifestaron que el funcionamiento del sistema de telefon\u00eda IP en la Universidad es bueno, efectivamente se presentan problemas relacionados con la voz cortada, el eco y la ca\u00edda de llamadas. De igual manera se concluye que con alta probabilidad los problemas mencionados los est\u00e1 generando la plataforma, puesto que se encontr\u00f3 que la intensidad del tr\u00e1fico que maneja la red no tiene una incidencia significativa sobre tales problemas.  Evaluaci\u00f3n de la Plataforma NBX V3000  A continuaci\u00f3n se presenta una tabla que muestra las fortalezas, oportunidades, debilidades y amenazas de una plataforma NBX V3000,  determinadas con base en el resultado del estudio anterior y  en el an\u00e1lisis de la informaci\u00f3n consultada  sobre el sistema.(Ver tabla 4)  Tabla 4.Dofa plataforma NBX FORTALEZAS OPORTUNIDADES 1. La soluci\u00f3n la brinda una empresa con experiencia y soporte. 1. Buen aprovechamiento de la red respecto a que no genera tr\u00e1fico pesado.   52 2. Soporte de hasta 1.500 usuarios, considerando que cada uno posee una extensi\u00f3n. 3. Optimizaci\u00f3n de los recursos inform\u00e1ticos. 4. Baja complejidad en la instalaci\u00f3n. 2. Escalabilidad. 3. Soporte de numerosas aplicaciones para mejorar las  actividades de la empresa.  DEBILIDADES AMENAZAS 1. Solo trabaja con protocolo SIP 2. Presencia de voz cortada. 3. Presencia de Ecos en la voz. 4. Ca\u00edda de llamadas. 5. Retardos en la llegada de la voz.  1. Incremento de costos en cuanto a mantenimiento, actualizaciones, compra de licencias y dispositivos de capa 1. 2. Es una plataforma muy cerrada a otro tipo de soluciones, como integraci\u00f3n de aplicaciones empresariales de software libre.  5.2 S\u00edntesis de la Elecci\u00f3n de Software y Plataforma para el Proyecto.  Es claro que para este proyecto se va a hacer uso de una herramienta perteneciente al software libre, para lo cual se considerar\u00e1n dos opciones principalmente que son Asterisk y Elastix, las cuales en el contexto de la telefon\u00eda IP y las plataformas PBX/NBX trabajan de forma similar.   53 Uno de los principales desarrollos de software para telefon\u00eda IP es Asterisk, creado por Digium, que cuenta con varios a\u00f1os de experiencia y que ha tenido una acogida rotunda en el campo de las centralitas telef\u00f3nicas. De esta manera se considera dif\u00edcil que otros proyectos del mismo tipo lleguen a ser considerados como una competencia seria, lo que hace de Asterisk un sistema de software vanguardista porque provee varias utilidades seg\u00fan las necesidades de las soluciones que se deseen implementar en empresas y en cualquier entorno donde se  presente la oportunidad de implementar \u00e9sta herramienta. Por otra parte Elastix, que a simple vista parece otro proyecto m\u00e1s que intenta seguir los pasos de Asterisk, no lo es, Elastix es un software para centralita IP creado en California, pero establecido totalmente en Ecuador con la marca Palo Santo Solutions. Esta es una herramienta que conserva el manejo de licencias GPL, pero que no tiene la misma acogida de su principal rival Asterisk. Sin embargo a  medida que pasa el tiempo se ha hecho conocer y tiene buenas perspectivas de crecimiento. Tambi\u00e9n es importante aclarar que las versiones de Asterisk y Elastix son en su mayor\u00eda ejecutables sobre los principales sistemas operativos, como Windows, Mac OS, Unix y Linux, entre otros. Para este proyecto se prefiere trabajar en Linux debido a que es el sistema base de operaci\u00f3n de estas dos herramientas de software, por lo que se va a implementar en el proyecto una distribuci\u00f3n Linux llamada CentOS, decisi\u00f3n que se toma despu\u00e9s de realizar la comparaci\u00f3n y an\u00e1lisis de distribuciones de Linux que se muestran en el Marco Te\u00f3rico. Ver Tabla 3. Analizando los datos contenidos en la Tabla 5 en la que se incluyen las principales caracter\u00edsticas de los sistemas Asterisk y Elastix, se puede concluir que son dos herramientas muy eficaces y buenas para implementar centrales telef\u00f3nicas. Sin embargo la plataforma que m\u00e1s se acomoda a los requerimientos   54 de la soluci\u00f3n relacionada con este proyecto, es Asterisk puesto a que se puede conseguir soporte de forma directa con Digium. La documentaci\u00f3n que se encuentra en Internet es m\u00e1s abundante que la que se puede conseguir para Elastix y finalmente Asterisk tiene m\u00e1s trayectoria en el sector de la telefon\u00eda IP. Adem\u00e1s Digium fabrica algunas tarjetas y dispositivos adaptadores de red espec\u00edficamente para el software Asterisk, lo que permite que se pueda utilizar m\u00f3dulos de conexi\u00f3n an\u00e1logos y/o interfaces relacionadas con la conmutaci\u00f3n de circuitos. Tabla 5. Especificaciones T\u00e9cnicas Asterisk y Elastix ASTERISK ELASTIX 1. Est\u00e1 basado en un sistema operativo de plataforma Linux (CentOS 5), sobre el cual se instala el sistema de conmutador y todas sus funciones. 1 Es un Software aplicativo que integra las mejores herramientas disponibles para PBXs basados en Asterisk en una Interfaz simple y f\u00e1cil de usar. 2. Compatibilidad: \u2022 Internet de Banda Ancha \u2022 VoIP \u2022 C\u00f3decs soportados: G.729, G.711 A, G.711 U \u2022 Protocolos: SIP, IAX 2 Compatibilidad \u2022 Protocolos: SIP, MGCP, SCCP. \u2022 C\u00f3decs Soportados: ADPCM, G.722, G.723.1, G.726, G.729 3. Funciones: \u2022 Transferencia de llamadas, internas y externas.  \u2022 Desv\u00edo de llamadas si est\u00e1 ocupado o no contesta.   \u2022 Opci\u00f3n No molestar (Do NotDisturb).  \u2022 Parking de llamadas (Call Parking).   \u2022 Llamada en espera (Hold).   \u2022 Grupos de llamada (Ring groups).   \u2022 Identificador de llamadas(CallerID).   4 Funciones \u2022 Soporte para video. \u2022 Interfaz Web para el usuario. \u2022 Fax a email. \u2022 Reportes de uso de recursos. \u2022 Servidor de correo integrado. \u2022 Mensajer\u00eda instant\u00e1nea \u2022 IVR \u2022 Grabaci\u00f3n de llamadas  \u2022 L\u00edmite de tiempo   55 \u2022 Operadora Digital (men\u00fas interactivos y guiados).   \u2022 M\u00fasica en espera y en transferencia (ficheros MP3actualizables por el usuario).   \u2022 Captura de llamadas de forma remota (remote pickup).  \u2022 Buzones de voz (general, individuales, por grupos) protegidos por contrase\u00f1a.   \u2022 Gesti\u00f3n de listas negras (n\u00fameros telef\u00f3nicos con acceso prohibido).   \u2022 Salas de conferencia (2 o m\u00e1s terminales simult\u00e1neamente).   \u2022 Registro y listados de llamadas entrantes y salientes, con gr\u00e1ficas de consumo.   \u2022 Detecci\u00f3n autom\u00e1tica de entrada de faxes.   \u2022 Recepci\u00f3n de fax desde el propio sistema y posterior env\u00edo por e-mail.   \u2022 Gesti\u00f3n de colas de llamadas entrantes.   \u2022 Grabaci\u00f3n de llamadas entrantes y salientes.   \u2022 Monitorizaci\u00f3n de llamadas en curso.   \u2022 Soporta videoconferencia con protocolos SIP e IAX \u2022 Llamada en espera \u2022 Identificador de llamadas. \n5 Requerimientos del Sistema. \u2022 Procesador Intel Pentium 4 de 2.8 Ghz \u2022 Memoria RAM 512 Giga 5 Requerimientos del Sistema. \u2022 Procesador Intel Pentium 4 de 2.8 Ghz \u2022 Memoria RAM 512 Giga   56 \u2022 Dos tarjetas de Red de 100 Mbps \u2022 Disco duro de 80 Gigas  \u2022 Dos tarjetas de Red de 100 Mbps \u2022 Disco duro de 80 Gigas  Informaci\u00f3n adaptada del libro: Comunicaciones Unificadas con Elastix. Autor: Edgar Land\u00edva En conclusi\u00f3n para el presente proyecto se ha determinado el uso del sistema operativo CentOS para el servidor donde se implementar\u00e1 la centralita telef\u00f3nica, para la implementaci\u00f3n de la cual se ha decidido emplear el sistema Asterisk. 5.3 Bases de Datos  Con el fin de hacer integraci\u00f3n de un mecanismo que automatice la informaci\u00f3n de las llamadas y se integre con la central telef\u00f3nica, se plantea hacer el dise\u00f1o de una base de datos que articule la informaci\u00f3n de los usuarios del sistema de telefon\u00eda IP de la Universidad junto con la informaci\u00f3n de las llamadas producidas por el CDR de Asterisk. Para poder implementar una base de datos es necesario tener en cuenta los requerimientos del sistema y los beneficios que provee al usuario. En este caso, los servicios prestados por la base de datos propuesta son: \u2022 Poder realizar llamadas entre extensiones. \u2022 Poder realizar llamadas nacionales e internacionales pero a cierto perfil de usuarios. \u2022 Poder tener un c\u00f3digo para poder realizar las llamadas.   57 \u2022 Poder realizar llamadas a celular. A continuaci\u00f3n se presenta el Diagrama de Entidad Relaci\u00f3n de la Base de Datos para la implementaci\u00f3n de VozIP en la Universidad. Este dise\u00f1o se realiz\u00f3 bajo el programa Microsoft Visio 2010. Ilustraci\u00f3n 111. Modelo Dise\u00f1o de Base de Datos \n  5.3.1 Script Base de datos  En esta secci\u00f3n se encontrar\u00e1, un texto plano de instrucciones de sentencias SQL  para poderlo implementar en el motor de la Base de Datos en este caso MySql.    \nFK   58 Este script pertenece a la creaci\u00f3n de extensiones.  create table extensiones ( fk_id_usuario integer, extension integer NOT NULL PRIMARY KEY );  Este script pertenece a la creaci\u00f3n de Tipo de llamada.  create table tipollamada ( id_tipo integer NOT NULL PRIMARY KEY,                                                                                                        categor\u00eda varchar (30) NOT NULL, clave integer NOT NULL );  Este script pertenece a la creaci\u00f3n de Usuario.  create table usuario ( id_usuario integer  NOT NULL PRIMARY KEY, nombre_usuario varchar(80) NOT NULL, Cargo  varchar(80) NOT NULL, Area  varchar(80) NOT NULL );  Este script pertenece a la creaci\u00f3n de CDR (Registro Detallado de la llamada).  CREATE TABLE `cdr` ( `calldate` datetime NOT NULL default '0000-00-00 00:00:00', `clid` varchar(80) NOT NULL default '', `src` varchar(80) NOT NULL default '', `dst` varchar(80) NOT NULL default '', `dcontext` varchar(80) NOT NULL default '', `channel` varchar(80) NOT NULL default '', `dstchannel` varchar(80) NOT NULL default '', `lastapp` varchar(80) NOT NULL default '', `lastdata` varchar(80) NOT NULL default '', `duration` int(11) NOT NULL default '0', `billsec` int(11) NOT NULL default '0', `disposition` varchar(45) NOT NULL default '', `amaflags` int(11) NOT NULL default '0', `accountcode` varchar(20) NOT NULL default '', `uniqueid` varchar(32) NOT NULL default '',   59 `userfield` varchar(255) NOT NULL default '' );   Este script pertenece a la creaci\u00f3n de la tabla que relaciona extensiones con tipo de llamada.  create table ext_tipo_llamada ( extension integer NOT NULL, id_tipo  integer NOT NULL , PRIMARY KEY (extension ,id_tipo) );   5.3.2 Inserci\u00f3n de Registros en las Tablas   INSERT TABLA EXTENSIONES  insertinto extensiones (fk_id_usuario, extension) values (1,501); insertinto extensiones (fk_id_usuario, extension) values (2,502); insertinto extensiones (fk_id_usuario, extension) values (3,503); insertinto extensiones (fk_id_usuario, extension) values (4,504); insertinto extensiones (fk_id_usuario, extension) values (5,505);   INSERT TABLA USUARIO  insertinto usuario (id_usuario,nombre_usuario,Cargo,Area) values (1,'sergio','estudiante','sistemas'); insertinto usuario (id_usuario,nombre_usuario,Cargo,Area) values (2,'paula','estudiante','telecomunicaciones'); insertinto usuario (id_usuario,nombre_usuario,Cargo,Area) values (3,'mac','profesor','sonido'); insertinto usuario (id_usuario,nombre_usuario,Cargo,Area) values (4,'vaio','profesor','aeronautica'); insertinto usuario (id_usuario,nombre_usuario,Cargo,Area) values (5,'sala','secretaria','electronica');      60 INSERT TABLA TIPO_LLAMADA  Insert into tipollamada (id_tipo,categor\u00eda,clave) values (50,'nacional',135); Insert into tipollamada (id_tipo,categor\u00eda,calve) values (51,'internacional',230); Insert into tipollamada (id_tipo,categor\u00eda,clave) values (52,'local',180); Insert into tipollamada (id_tipo,categor\u00eda,clave) values (54,'celular\u2019,213);   INSERT TABLA EXT_TIPO_LLAMADA  Insert intoext_tipo_llamada (id_tipo,clave) values (50,135); Insert intoext_tipo_llamada (id_tipo,clave) values (51,230); Insert intoext_tipo_llamada (id_tipo,clave) values (52,180); Insert intoext_tipo_llamada (id_tipo,clave) values (54,213);    alter table ext_tipo_llamada add constraintfk_tipo foreign key (id_tipo) references tipollamada (id_tipo);  alter table ext_tipo_llamada add constraint fk_ext foreign key (extension) references extensiones (extension);  alter table extensiones add constraintfk_id_usuario foreign key (id_usuario) references usuario (id_usuario);    5.3.3 Consultas  Para evaluar la funcionalidad del sistema, se observar\u00e1n las siguientes consultas: \u2022  Listar a cada uno de los empleados con su n\u00famero de extensi\u00f3n y el cargo.  SELECT extension, nombre_usuario, cargo FROM extensiones, usuario WHERE usuario.id_usuario=extensiones.id_usuario;    61 \u2022  Conocer el tiempo total de las llamadas de un usuario.  Select U.nombre_usuario,E.extension, sum(duration) Tiempo from usuario U, extensiones E, cdr C where E.extension = valor1 and U.id_usuario = E.fk_id_usuario and E.extension = C.dst;  \u2022  Determinar las llamadas salientes de un usuario.  Select U.nombre_usuario, E.extension, C.lastdata as Receptor from usuario U, extensiones E, cdr C whereE.extension = valor 1 and U.id_usuario = E.fk_id_usuario and E.extension = C.dst;  \u2022  Que tiempo se demora un usuario en contestar las llamadas.  Select U.nombre_usuario,C.billsec as 'Tiempo tarda en Contestar' from  usuario U, cdr C, extensiones E where U.id_usuario = E.fk_id_usuario and E.extension = C.dst and U.nombre_usuario= 'valor 1';  \u2022  Contar cuantas llamadas ha recibido un usuario  Select U.nombre_usuario ,count(dstchannel) as 'Llamadas Recibidas' from usuario U, extensiones E, cdr C where U.id_usuario = E.fk_id_usuario and E.extension = C.dst and U.nombre_usuario='valor 1';   \u2022  Saber de un usuario las llamadas contestadas y no contestadas  Select U.nombre_usuario, disposition as 'Estado Llamada' from usuario U, extensiones E, cdr C where U.id_usuario = E.fk_id_usuario and E.extension = C.dst and U.nombre_usuario='valor 1';    62 \u2022  Saber las fechas de las llamadas que un usuario ha realizado.  Select C.calldate as 'Fecha llamada' ,U.nombre_usuario, C.dstchannel as 'receptor' from usuario U, extensiones E, cdr C where U.id_usuario = E.fk_id_usuario and E.extension = C.dst and U.nombre_usuario='valor 1';  5.3.4 Diccionario Base de Datos  En esta secci\u00f3n se describir\u00e1 cada una de las tablas de la base de datos con sus respectivos campos.  TABLA : EXTENSIONES  Descripci\u00f3n Son los n\u00fameros que se asignan a los empleados para poderlos llamar internamente.  Atributos Llave Primaria Llave For\u00e1nea Tipo de Dato Extensi\u00f3n *  NUMBER Fk_Id_usuario  * NUMBER   Descripci\u00f3n de los atributos EXTENSION: El n\u00famero de identificaci\u00f3n telef\u00f3nica para un empleado. FK_ID_USUARIO: N\u00famero de identificaci\u00f3n del usuario      63 TABLA : USUARIO  Descripci\u00f3n Persona que va a utilizar un n\u00famero de extensi\u00f3n.  Atributos Llave Primaria Llave For\u00e1nea Tipo de Dato ID_USUARIO *  NUMBER NOMBRE USUARIO CARGO    VARCHAR2 VARCHAR2    Descripci\u00f3n de los atributos ID_USUARIO: El n\u00famero de identificaci\u00f3n de usuario. NOMBRE_USUARIO: Nombre de la persona que tiene asociada una extensi\u00f3n. CARGO: Es el rol o asignaci\u00f3n de tareas y trabajos de un empleado.  TABLA : TIPO DE LLAMADA  Descripci\u00f3n Se refiere a los permisos de  los usuarios.  Atributos Llave Primaria Llave For\u00e1nea Tipo de Dato ID_TIPO *  NUMBER CATEGORIA   VARCHAR2 CLAVE    VARCHAR2  Descripci\u00f3n de los atributos ID_TPO: El n\u00famero de identificaci\u00f3n de la categor\u00eda. CATEGORIA: Tipo de llamada que se est\u00e1 originando (nacional, internacional, local, celular, entre otros).   64 CLAVE: El n\u00famero que se le asigna a los usuarios para que puedan realizar las llamadas.   TABLA : EXT_TIPO_LLAMADA  Descripci\u00f3n Relaci\u00f3n que hay entre la extensi\u00f3n de un usuario con el tipo de llamada que realiza.  Atributos Llave Primaria Llave For\u00e1nea Tipo de Dato ID_TIPO * * NUMBER EXTENSION  * * NUMBER   Descripci\u00f3n de los atributos ID_TPO: El n\u00famero de identificaci\u00f3n de la categor\u00eda. EXTENSION: El n\u00famero de identificaci\u00f3n telef\u00f3nica para un empleado.  TABLA : CDR  Descripci\u00f3n Donde se guarda todos los registros de la llamada  Atributos Llave Primaria Llave For\u00e1nea Tipo de Dato DST *  NUMBER CALLDATE CLID SRC DCONTEXT CHANNEL DSTCHANNEL LASTAPP LASTDATA DURATION BILLSEC DISPOSITION AMAFLAGS   DATETIME VARCHAR VARCHAR VARCHAR VARCHAR VARCHAR VARCHAR VARCHAR INT INT VARCHAR INT   65 ACCOUNTCODE UNIQUEID USERFIELD VARCHAR VARCHAR VARCHAR  Descripci\u00f3n de los atributos DST: Numero de extensi\u00f3n de usuario. CALLDATE: El d\u00eda exacto que se realiz\u00f3 la llamada.  CLID: El identificativo de llamada que queremos enviar.  SRC: Es el n\u00famero del ID de la llamada, configurado en el archivo SIP.  DCONTEXT: Contexto de destino.   CHANNEL: La extensi\u00f3n que queremos llamar.  DSTCHANNEL: canal que se utiliza para la llamada que se quiere realizar.  LASTAPP: Ultima aplicaci\u00f3n usada por el registro. Por ejemplo marcar a una extensi\u00f3n o marcar al correo de voz  LASTDATA: Contiene informaci\u00f3n de la \u00faltima aplicaci\u00f3n que se utiliz\u00f3.  DURATION: Duraci\u00f3n de la llamada en segundos, desde que fuediscada hasta el corte.  BILLSEC: Duraci\u00f3n de la llamada en segundos, desde que fue atendida hasta el corte.  DISPOSITION: Estado de la llamada (atendida, no atendida, ocupado, fallida).  AMAFLAGS: Valor que habilita la facturaci\u00f3n de las llamadas, el valor por defecto es 3 e indica que no est\u00e1 habilitado.  ACCOUNTCODE: Es el c\u00f3digo del canal de la cuenta.  UNIQUEID: C\u00f3digo \u00fanico de identificaci\u00f3n del canal.  USERFIELD: Usuario del canal especificado   66 Nota: En la implementaci\u00f3n de este proyecto no se hizo uso de procedimientos almacenados y tampoco de disparadores, debido a que no son requeridos para que la base de datos funcione. Son necesarios cuando la base de datos se integre con un m\u00f3dulo de administraci\u00f3n v\u00eda web, que permita insertar registros en las tablas y/o agregar un requerimiento funcional. Con excepci\u00f3n al que hace de forma autom\u00e1tica Asterisk en la tabla CDR.  5.4 Planteamiento y Especificaciones T\u00e9cnicas para la Soluci\u00f3n  El avance en la tecnolog\u00eda de las redes de voz y datos ha permitido la creaci\u00f3n e implementaci\u00f3n de nuevas aplicaciones y servicios como la mensajer\u00eda, el fax, el correo, el tel\u00e9fono, etc. Este proyecto pretende proporcionar a la Universidad un documento que incluya los requerimientos t\u00e9cnicos que debe tener un sistema moderno de telefon\u00eda IP que erradique los problemas que actualmente presenta el sistema de intercomunicaci\u00f3n interna NBX V3000.Dichos requerimientos van encaminados a la utilizaci\u00f3n de un sistema basado totalmente en software libre de licenciamiento GPL, que adem\u00e1s incluya la implementaci\u00f3n de una base de datos que permita guardar informaci\u00f3n acerca de las llamadas realizadas. La red de la Universidad de San Buenaventura, est\u00e1 conformada por switches ubicados en cada uno de los edificios de la Universidad y un switch principal (Core) que hace la conexi\u00f3n entre dichos edificios, tal como se observa en la ilustraci\u00f3n 12. En la Tabla 5 se incluyen las especificaciones de la red actual.      67 Tabla 5. Especificaciones de la red actual (Tabla6) EQUIPO UBICACI\u00d3N CAPACIDAD DE INSTALACI\u00d3N Switch 3com v3000 Edificio Alberto Montealegre (switch principal) 1.500 estaciones  Switch 3com 4400  Edificio Diego Barroso 48 estaciones Switch 3com 4400  Edificio Guillermo de Ockham 768 estaciones colocando 2 switch de 384 puertos Switch 3com 4400  Edificio Duns Scotto 48 estaciones Switch 3com 4400  Edifico Pedro Sim\u00f3n 48 estaciones Switch 3com 4400  Polideportivo 24 estaciones Switch 3com 4400  Hangar 24 estaciones     Ilustraci\u00f3n 12. Estructura f\u00edsica de la red de la Universidad de San Buenaventura \n PSTNWIRELESSINTERNETFIREWALLROUTERCONMUTADORDMZ\nSERVIDOR\t\r \u00a0ASTERISKSERVIDOR\t\r \u00a0CORREO\nSERVIDOR\t\r \u00a0INTRANETSERVIDOR\t\r \u00a0BIBLIOTECASERVIDOR\t\r \u00a0DOMINIO\nSERVIDOR\t\r \u00a0ANTIVIRUSQuillermo\t\r \u00a0de\t\r \u00a0OkcamPedro\t\r \u00a0SimonDiego\t\r \u00a0BarrosoDuns\t\r \u00a0ScottoPolideportivoHangarFIBRA\t\r \u00a0OPTICAFIBRA\t\r \u00a0OPTICAUTPCANAL\t\r \u00a0INTERNETSWITCH\t\r \u00a0PRINCIPAL  68 En el esquema de la ilustraci\u00f3n 12 se muestra que cada edificaci\u00f3n del campus posee un switch y un n\u00famero total de 550 estaciones de red y 240 usuarios de VoIP, que  conforman el n\u00famero actual de extensiones en la Universidad. Para la implementaci\u00f3n de un servidor que soporte un n\u00famero promedio de entre 240  y 500 usuarios de telefon\u00eda IP se requiere de un equipo que cumpla con las especificaciones t\u00e9cnicas incluidas en la Tabla 6.El servidor mencionado debe estar en capacidad de almacenar correos de voz, registros de las bases de datos con crecimiento exponencial y que debe tener la suficiente capacidad de procesamiento en caso de presentarse un n\u00famero elevado de llamadas simult\u00e1neas. Se requiere entonces de un equipo de muy buena capacidad en aspectos relacionados con el procesamiento y el almacenamiento de datos. En cuanto a la conectividad, el sistema debe contar con una tarjeta de red Ethernet para la conexi\u00f3n con la red de datos de la Universidad, un m\u00f3dulo de conexi\u00f3n anal\u00f3gica o digital para el acceso a la PSTN y una tarjeta madre con slots PCI y PCI Express que soporte dichos dispositivos de hardware. Tabla 6. Especificaciones Para el Servidor   Configuraci\u00f3n Recomendada Procesador Intel Core i7 870s de 2.8 GHz con 8MB de cache. Posee gran capacidad de procesamiento y soporta una soluci\u00f3n altamente escalable. Memoria  4 GB RAM. Provee la suficiente memoria para colaborar con los procesos de almacenamiento en la base de datos y adem\u00e1s se tiene en cuenta procesos en segundo plano como el motor de base de datos y la cantidad de usuarios SIP en simult\u00e1nea. 2 Disco Duro  D1 80GB D2 500 GB. Se consideran 2 discos por que uno se encarga de almacenar el sistema operativo y sus componentes, Asterisk, el motor de base de datos, y el segundo de m\u00e1s capacidad que es donde se almacenan los registros de la base de datos que tiene crecimiento exponencial. Sistema Operativo CentOS 5.5. Es la versi\u00f3n m\u00e1s reciente y estable. Conexi\u00f3n Tarjeta de Red 10/100 Mbps. Para la conexi\u00f3n hacia el router principal de la Universidad. Adaptador de No es necesario. El servidor no realiza llamadas ni recibe, por lo que no es   69 Sonido necesario que tenga este tipo de interface. Informaci\u00f3n adaptada de \u201cAsterisk The Future of Telephony\u201d Es importante tener en cuenta que cada usuario de telefon\u00eda en su estaci\u00f3n debe disponer de una diadema con auriculares y micr\u00f3fono, o por lo menos un sistema que cumpla la misma funci\u00f3n. Eventualmente se puede permitir el uso de HardPhones para aquellas estaciones que los usan actualmente. El SoftPhone X-Lite es el que se acoge para \u00e9sta implementaci\u00f3n. En su versi\u00f3n gratuita permite funcionalidades b\u00e1sicas e incluye compatibilidad para realizar conferencias, no obstante el proyecto considera el uso de otros SopftPhones compatibles con SIP y realiza la selecci\u00f3n de X-Lite puesto que se considera la opci\u00f3n de comprar una licencia puede hacerse selecci\u00f3n de una versi\u00f3n con m\u00e1s funcionalidades que brinde manejo de directorio empresarial e implementaci\u00f3n de video-conferencia. Con base en lo anterior se han elaborado las especificaciones t\u00e9cnicas y de contrataci\u00f3n del sistema de telefon\u00eda IP para la Universidad de San Buenaventura, las cuales se incluyen en el anexo A T\u00e9rminos de Referencia. Las especificaciones t\u00e9cnicas incluyen los siguientes \u00edtems: - Especificaciones del Servidor - Servicios espec\u00edficos que debe prestar la central telef\u00f3nica Asterisk.  5.5 Implementaci\u00f3n del Prototipo de Telefon\u00eda IP  En \u00e9sta secci\u00f3n se presentar\u00e1 el desarrollo completo y la implementaci\u00f3n del prototipo de telefon\u00eda IP de acuerdo con lo fijado en el cuarto objetivo espec\u00edfico del proyecto.    70 5.5.1 Aspectos Importantes  La implementaci\u00f3n de una central telef\u00f3nica basada en Asterisk en diversos casos puede ser tomada como un pasatiempo o pr\u00e1ctica de laboratorio. Sin embargo, es importante tener en cuenta una serie de condiciones y/o pautas para realizar una implementaci\u00f3n correcta, en caso de no ser exactamente un pasatiempo, sino que se trate de habilitar un entorno real de comunicaci\u00f3n dentro de una empresa, donde no hay espacio para fallos y la calidad de servicio depende de los requerimientos de un sistema de usuarios reales. Trat\u00e1ndose en este caso un prototipo acorde al objetivo cuarto de este proyecto, se  propone una soluci\u00f3n articulada con el desarrollo del trabajo de investigaci\u00f3n, contando con que la informaci\u00f3n conseguida contribuya a la implementaci\u00f3n tanto de Software y Hardware principalmente con el fin de mostrar que la soluci\u00f3n a peque\u00f1a escala es de \u00f3ptima calidad y dise\u00f1o. En primer lugar, se debe tener en cuenta el hardware en el que va a ser implementado el servidor de Asterisk. Esto hace referencia directamente a las especificaciones t\u00e9cnicas que pueden variar seg\u00fan la cobertura de la soluci\u00f3n.  La tabla 7, especifica las caracter\u00edsticas m\u00ednimas propuestas por un libro pionero de telefon\u00eda IP de Asterisk bien conocido como Asterisk The Future of Telephony que resalta a lo largo de sus cap\u00edtulos las caracter\u00edsticas de implementaci\u00f3n y configuraci\u00f3n para un servidor Asterisk. Cuando se habla sobre canales en Asterisk, se hace referencia a las diferentes v\u00edas de comunicaci\u00f3n que el servidor de telefon\u00eda IP implementa, por ejemplo se puede considerar que una servidor Asterisk tiene como canal los tel\u00e9fonos SIP, por lo tanto hacen parte como canales el uso de IAX y el otro tipo de conexiones   71 existentes como la PSTN y tambi\u00e9n incluye como canal a otro servidor Asterisk que haga parte de un sistema de central telefon\u00eda IP. Tabla 7 Caracter\u00edsticas m\u00ednimas de implementaci\u00f3n Prop\u00f3sito M\u00ednimo de Canales M\u00ednimo Recomendado Sistema \u201cHobby\u201d No m\u00e1s de 5 400-MHz x86, 256 MB RAM Sistema SOHO De 5 a 10 1-GHz x86, 512 MB RAM Peque\u00f1a Empresa Hasta 15 3-GHz x86, 1 GB RAM Mediana y Grande Empresa M\u00e1s de 15 Procesadores con doble n\u00facleo y posiblemente servidores montados en arquitectura distribuida. Fuente: Requerimientos del Sistema, Asterisk The Future of Telephony, 10p.  Desafortunadamente, el seguir las buenas pr\u00e1cticas ingenieriles y de implementaci\u00f3n de Asterisk, no s\u00f3lo consiste en tener unas caracter\u00edsticas m\u00ednimas de implementaci\u00f3n para el Hardware. Es necesario ir un poco m\u00e1s detalladamente hacia las diferentes especificaciones t\u00e9cnicas y de entorno del sistema. Es por eso que en una situaci\u00f3n real, se deben tener en cuenta soluciones que relacionen costo-eficiencia cumpliendo con los lineamientos de una soluci\u00f3n ingenieril. El procesador a usar en el servidor es esencial, puesto que de \u00e9ste va a depender en gran parte de la calidad y efectividad del sistema, ayudando a reducir tiempos de respuesta y posibles ecos en las llamadas. Soluciones que incluyan chip Intel y AMD son el mejor camino para lograr una buena implementaci\u00f3n. Como se ve\u00eda anteriormente la selecci\u00f3n del procesador es importante seg\u00fan la cantidad de usuarios que vaya a tener el sistema teniendo como selecci\u00f3n desde un procesador Intel Celeron de 700 MHz para sistemas muy peque\u00f1os, hasta elecciones con procesadores muy robustos para sistemas grandes que trabajan hasta con 8 n\u00facleos de 1.6 GHz cada uno. Para la soluci\u00f3n   72 del proyecto se opt\u00f3 por un procesador de \u00faltima generaci\u00f3n creado por Intel, un procesador Core i7, con velocidad de 2.8 GHz, que se considera que es m\u00e1s que suficiente para el trabajo que debe desempe\u00f1ar en la Universidad e igualmente se considera que puede soportar la escalabilidad del sistema en t\u00e9rmino de usuarios. De seguido se debe tener en cuenta la configuraci\u00f3n de la tarjeta madre, debido a que con esta va a trabajar el procesador, las memorias y dependiendo del tipo de soluci\u00f3n que se encuentre, habr\u00e1 que tener en cuenta las ranuras con las que esta tarjeta cuente, si son PCI, PCI-Express, entre otras, porque de esta manera se van a poder o no, instalar las tarjetas que permitan configurar m\u00e1s servicios y/o canales al servidor. Para el servidor en este proyecto se propone el uso de cualquier tarjeta madre que cuente con soporte para procesadores Intel Core i7, que este dotada de por lo menos una ranura PCI y otra PCI Express para la conexi\u00f3n de la tarjeta de red, y que cuente con los slots de memoria que permita ampliar la memoria RAM a 16 GB. Como todo sistema basado con servidores, existe otro tipo de consideraciones que deben ser tenidas en cuenta para la implementaci\u00f3n de los mismos como son los problemas relacionados con el suministro de potencia de alimentaci\u00f3n y la posible ocurrencia de desastres naturales que podr\u00edan afectar al sistema de telefon\u00eda. Considerando lo anterior es necesario contar con una planta de energ\u00eda de emergencia, o en caso de ya tenerla, asegurarse de que \u00e9sta funcione de manera adecuada. As\u00ed mismo, el entorno que rodea al servidor debe ser tenido en cuenta, la humedad, la temperatura ambiente y la seguridad f\u00edsica son factores importantes que pueden afectar el funcionamiento del sistema. En este aspecto no se profundiza sobre especificaciones, puesto que se conoce que la Universidad de San Buenaventura sede Bogot\u00e1 cuenta con un sistema de emergencia para proveer energ\u00eda el\u00e9ctrica en caso de apagones o cortes de energ\u00eda.   73 Al haberse considerado los aspectos espec\u00edficos nombrados anteriormente, se considera importante definir la clase de tel\u00e9fono que se puede llegar a utilizar en la soluci\u00f3n. Dentro de los tel\u00e9fonos f\u00edsicos tradicionales est\u00e1n los digitales, tel\u00e9fonos ISDN que se consideraban en auge en los a\u00f1os 80 y los tel\u00e9fonos an\u00e1logos. De la nueva generaci\u00f3n de tel\u00e9fonos est\u00e1n los tel\u00e9fonos IP, los tel\u00e9fonos m\u00f3viles y  por \u00faltimo los SoftPhones basados en software. Esta fase es importante porque dependiendo del tipo de tel\u00e9fono seleccionado ser\u00e1 necesario usar dispositivos de hardware adicional. Por ejemplo, los tel\u00e9fonos an\u00e1logos necesitar\u00edan de un convertidor especial, y los SoftPhone muy probablemente necesitar\u00edan de un sistema de aud\u00edfonos y micr\u00f3fono seg\u00fan la estaci\u00f3n en la que  se use. En el caso de la soluci\u00f3n aqu\u00ed planteada se utilizan los Softphones X-Lite que hab\u00edan sido nombrados anteriormente debido a que se utiliza solamente el canal SIP de telefon\u00eda, por lo que es necesario el uso de diademas compuestas por micr\u00f3fono y auriculares. Luego de haber comentado las caracter\u00edsticas y puntos a tener en cuenta para un sistema de Asterisk, se consideran ahora aspectos m\u00e1s espec\u00edficos de implementaci\u00f3n, los cuales tienen que ver con la instalaci\u00f3n de Asterisk. Se debe considerar importante el sistema operativo con el que va a funcionar el servidor que en este proyecto se instalar\u00e1, existen sistemas UNIX, tales como Mac OS y adicionalmente Windows que de manera emulada se logra poner en marcha, la recomendaci\u00f3n es hacerlo sobre un sistema operativo Linux, siendo esta la opci\u00f3n m\u00e1s robusta y que adem\u00e1s cuenta con gran soporte de Asterisk.  Teniendo claro que Linux es la respuesta a la pregunta acerca del sistema operativo, queda una segunda sin responder, la cual plantea la elecci\u00f3n de una de las tantas distribuciones que posee Linux. Como bien se sabe, Linux posee diversas distribuciones y entre las m\u00e1s conocidas est\u00e1n RedHat, CentOS y Debian. La respuesta a esta pregunta es dada en forma de recomendaci\u00f3n, y se   74 aconseja en este caso dar uso a aquella distribuci\u00f3n que para la persona que implementa la soluci\u00f3n, sea la mejor. Luego de tener claro el sistema operativo a utilizar es importante definir que paquetes de Asterisk se necesitan, puesto que este trae algunas alternativas y en su p\u00e1gina de descargas brinda algunos plugins y complementos que se pueden utilizar. Los paquetes principales a instalar en el servidor son el paquete principal de Asterisk, el paquete de drivers DAHDI, que s\u00f3lo es necesario en caso de usar hardware an\u00e1logo y convertidores, y por \u00faltimo la librer\u00eda PRI (prilibrary) que a menos de estar usando dispositivos o interfaces PRI debe ser instalado. En algunos casos para optimizar el servicio se puede hacer uso de un paquete adicional llamado Asterisk-Sounds que contiene sonidos extras que pueden ayudar a personalizar un poco m\u00e1s el servicio implementado. Para obtener estas librer\u00edas basta con ejecutar algunos comandos desde una terminal con permisos de administrador, a fin de poder escribir en directorios con permisos especiales, poder compilar los paquetes y proceder con la instalaci\u00f3n oficial de Asterisk. Recopilando informaci\u00f3n sobre un montaje completo de telefon\u00eda se debe tener en cuenta que en una soluci\u00f3n empresarial se abordan etapas de planeaci\u00f3n, an\u00e1lisis, dise\u00f1o e implementaci\u00f3n, las cuales est\u00e1n desarrolladas a lo largo de la secci\u00f3n 5 de este documento que establece todo el desarrollo ingenieril de una soluci\u00f3n de telefon\u00eda IP, y que adem\u00e1s permitir\u00e1 resultados \u00f3ptimos en el funcionamiento, longevidad, confiabilidad, adaptabilidad y eficacia del sistema.     75 5.5.2 Aspectos de Configuraci\u00f3n La configuraci\u00f3n inicial de Asterisk consiste en adentrarse en las caracter\u00edsticas modificables en los archivos internos de funcionamiento del mismo. En forma general, se deben hacer configuraciones en los 4 diferentes canales; ForeigneXchange Office (FXO), ForeigneXchangeStation (estas dos son para servicio an\u00e1logo), el canal que maneja el protocolo de iniciaci\u00f3n de sesi\u00f3n (SIP) y por \u00faltimo el canal que maneja el protocolo Inter-AsteriskeXchange (IAX), en esta soluci\u00f3n s\u00f3lo se tendr\u00e1 en consideraci\u00f3n el canal que hace referencia al protocolo SIP. El protocolo SIP, es el encargado de realizar, modificar y establecer la sesi\u00f3n multimedia entre dos entes, pero no es el encargado del transporte, para esto est\u00e1n encargados los protocolos TCP o UDP pertenecientes a la capa de transporte, generalmente usa el puerto 5060, que debe ser programado en los archivos de configuraci\u00f3n de Asterisk. Dentro de la disposici\u00f3n de este canal  se describen configuraciones de DNS, que permiten encontrar a dicho tel\u00e9fono o estaci\u00f3n f\u00e1cilmente por el servidor, y posteriormente se hace la alineaci\u00f3n, en este caso del Softphone, que ser\u00e1 inicializado con los datos del servidor, usuario y contrase\u00f1a configurados en el archivo de extensiones de Asterisk. Finalmente se hace la configuraci\u00f3n, en cualquiera que sea el plan de marcado o \u201cDialPlan\u201d, que establece el n\u00famero de extensiones, las restricciones y grupos que deben ser tenidos en cuenta, entre otras opciones de configuraci\u00f3n que se pueden perfilar dependiendo de los servicios que sean implementados y as\u00ed mismo del canal sobre el que est\u00e9n montados. \u00c9sta configuraci\u00f3n se puede ver en la secci\u00f3n \u20265.5.3\u2026 de \u00e9ste documento.   76 5.5.3 Manual T\u00e9cnico de Implementaci\u00f3n de Prototipo 5.5.3.1 Instalaci\u00f3n \u2022 Preparaci\u00f3n y Generalidades  Para la implementaci\u00f3n del prototipo que incluya la soluci\u00f3n dise\u00f1ada se tendr\u00e1 en cuenta que se har\u00e1 utilizando 3 equipos clientes y un equipo servidor. Los equipos clientes, deben tener instalado el software de telefon\u00eda al cual nos referimos como un Softphone que en este caso es X-Lite, que permitir\u00e1 la comunicaci\u00f3n e interpretaci\u00f3n  entre servidor y cliente para la realizaci\u00f3n de las llamadas mediante el protocolo SIP; El servidor que ser\u00e1 la central de telefon\u00eda, tendr\u00e1 instalado el sistema operativo CentOS, que es una distribuci\u00f3n libre GNU basada en RedHat y el software Asterisk que permite convertir nuestro equipo en un servidor de telefon\u00eda, por \u00faltimo se necesitar\u00e1 un paquete complementario de Asterisk el cu\u00e1l es nombrado como AsteriskAdd-Ons que contiene paquetes adicionales que permiten la gesti\u00f3n del CDR (Call Dial Record) y a su vez la compatibilidad para trabajo conjunto pon un gestor de bases de datos SQL. Con el prop\u00f3sito de hacer una correcta implementaci\u00f3n, la configuraci\u00f3n de rendimiento m\u00ednimo de los equipos clientes est\u00e1 especificada en la tabla 9. En el servidor no se necesitan caracter\u00edsticas espec\u00edficas de rendimiento m\u00ednimas, sin embargo en la tabla 10 se puede encontrar las especificaciones de rendimiento de un equipo Dell Optiplex 740 que har\u00e1 las veces de servidor. Debido a que los equipos cliente de la universidad utilizan sistema operativo Windows 7, se har\u00e1 el prototipo sobre un entorno que cuente con las mismas condiciones.     77 Tabla 8. Configuraci\u00f3n m\u00ednima para rendimiento de X-Lite   Configuraci\u00f3n M\u00ednima Configuraci\u00f3n \u00d3ptima Procesador Pentium 4\u00ae 2.4 GHz o equivalente Intel Core Duo o equivalente, tarjeta de video con soporte para DirectX 9.0c  Memoria  1 GB RAM 2 GB RAM Espacio en Disco Duro 50 MB 50 MB Sistema Operativo Microsoft Windows XP Service Pack 2 Microsoft Windows Vista, arquitectura 32-bits y 64-bits Microsoft Windows 7 Mac OS 10.5 o posterior Microsoft Windows XP Service Pack 2 Microsoft Windows Vista, arquitectura 32-bits and 64-bits  Microsoft Windows 7 Mac OS 10.5 o posterior Conexi\u00f3n Interfaz de conexi\u00f3n a red IP (LAN, wireless) Interfaz de conexi\u00f3n a red IP (LAN, wireless) Adaptador de Sonido Adaptador de entrada y salida, (micr\u00f3fono y auriculares) Adaptador de entrada y salida, (micr\u00f3fono y auriculares) Requerimientos para X-Lite en http://www.counterpath.com/x-lite.html      78 Tabla9.Caracter\u00edsticas del  equipo servidor Optiplex 740   Dell OPTIPLEX 740 Procesador AMD Athlon\u2122 64 X2 Dual-core, 1MB cache Memoria  2 GB RAM Disco Duro 80 GB Sistema Operativo CentOS 5.5 Conexi\u00f3n Interfaz de conexi\u00f3n a red IP (LAN, wireless) Adaptador de Sonido Adaptador de entrada y salida, (micr\u00f3fono y auriculares)  \u2022 Software de Instalaci\u00f3n  En primer lugar se necesita tener los instaladores tanto para el sistema operativo, como para Asterisk, el Add-ons de Asterisk y el SoftPhone. El sistema operativo se puede encontrar en la p\u00e1gina oficial del proyecto CentOS (www.centos.org) se pueden encontrar diferentes versiones y repositorios. Para el equipo servidor se usar\u00e1 la distribuci\u00f3n completa 5.5 para i386 que es compatible con procesadores AMD de 64 bits, es de libre descarga y su tama\u00f1o actual es de 3.89 GB. A continuaci\u00f3n desde la p\u00e1gina oficial de Asterisk (www.asterisk.org) se puede realizar la descarga del paquete oficial de Asterisk y del paquete Add-ons. La versi\u00f3n actual y con soporte que se implementar\u00e1 ser\u00e1 la 1.6.2.18 y para el   79 paquete de Add-Ons la 1.6.2.3. Por \u00faltimo se debe descargar la versi\u00f3n gratuita de X-Lite desde la p\u00e1gina de su creador Counterpath (www.counterpath.com). 5.5.3.1.1 Instalaci\u00f3n de CentOS Ya teniendo los instaladores necesarios se procede a hacer la instalaci\u00f3n del sistema operativo CentOS en el equipo servidor, de manera que se debe tener la imagen del sistema operativo grabada en un DVD y la opci\u00f3n de arranque desde la unidad lectora de discos compactos debe estar seleccionada. A continuaci\u00f3n se ver\u00e1 la ventana de carga del asistente de instalaci\u00f3n para CentOS (Ilustraci\u00f3n13)seguida de la ventana de selecci\u00f3n de idioma (Ilustracion14) y de la ventana de selecci\u00f3n de configuraci\u00f3n de teclado (Ilustraci\u00f3n15). Ilustraci\u00f3n 13. Ventana de Carga del Asistente de Instalaci\u00f3n           \n  80 Ilustraci\u00f3n 14. Selecci\u00f3n de Idioma            Ilustraci\u00f3n 15. Selecci\u00f3n de Configuraci\u00f3n de Teclado         \n  81 Al tener lista la configuraci\u00f3n de idioma y teclado se pasa a la configuraci\u00f3n de partici\u00f3n de disco y sistema de archivos, por lo que aparecer\u00e1 una ventana emergente (Ilustraci\u00f3n 16) que da advertencia de un sistema de archivos que no se puede leer, se responde con un s\u00ed, lo que indica que ser\u00e1 inicializado el disco y la informaci\u00f3n existente ser\u00e1 borrada. Ilustraci\u00f3n 16. Mensaje de Advertencia Inicializaci\u00f3n de Disco          Ahora se debe seleccionar un esquema de particionamiento para la instalaci\u00f3n. Por facilidad se opta por remover las particiones de Linux existentes y crear una nueva (Ilustraci\u00f3n 17). Clic en siguiente y se acepta a la ventana de confirmaci\u00f3n (Ilustraci\u00f3n 18).    \n  82 Ilustraci\u00f3n 17. Selecci\u00f3n del Esquema de Particionamiento           Ilustraci\u00f3n 18. Ventana Emergente de Confirmaci\u00f3n          \n  83 Luego de haber configurado las opciones de disco duro, aparecer\u00e1 la ventana de configuraci\u00f3n de red (Ilustraci\u00f3n 19) donde se debe configurar la interfaz de red cableada con una direcci\u00f3n IP est\u00e1tica debido a que trata de un ejercicio acad\u00e9mico, en caso de no serlo debe ser configurado por DHCP de forma que no se est\u00e9 tan expuesto a posible ataques. Haciendo clic en el bot\u00f3n editar, aqu\u00ed se establece como direcci\u00f3n IP 192.168.0.100 y como m\u00e1scara de red se fija 255.255.255.0 en la ventana de editar interfaz (Ilustraci\u00f3n 20).   Ilustraci\u00f3n 19. Ventana de Configuraci\u00f3n de Red \n       \n  84 Ilustraci\u00f3n 20. Editar Interfaz           Ya teniendo una direcci\u00f3n IP est\u00e1tica se procede a configurar el DNS y la puerta de enlace (Gateway), la puerta de enlace llevar\u00e1 la direcci\u00f3n IP 192.168.0.1 que hace referencia a la interfaz Ethernet del router empleado para el montaje, Establecer una direcci\u00f3n DNS no es obligatorio, por lo tanto su configuraci\u00f3n no es necesaria. En la siguiente ventana (Ilustraci\u00f3n 21), se hace la elecci\u00f3n de la zona horaria, luego de hacer clic en siguiente aparecer\u00e1 la venta(Ilustraci\u00f3n 22) donde se configura la contrase\u00f1a de acceso a usuario root, usuario principal del sistema que posee todos los privilegios sobre el sistema operativo.    \n  85 Ilustraci\u00f3n 21. Selecci\u00f3n de zona horaria \n  Ilustraci\u00f3n 22. Configuraci\u00f3n de contrase\u00f1a de usuario root \n \n  86 Teniendo una contrase\u00f1a de usuario root, ahora se procede a la selecci\u00f3n de los paquetes y entornos que van a ser instalados. En este caso se hace selecci\u00f3n de todos los paquetes y aplicaciones, incluyendo MySql de forma que no tenga que ser instalado posteriormente.  Luego de haber instalado el sistema operativo es importante que se haga un chequeo de actualizaciones disponibles, descargarlas e instalarlas; Esto ayudar\u00e1 a que el sistema opere con m\u00e1s estabilidad y que no vaya a haber ning\u00fan conflicto futuro con la instalaci\u00f3n de Asterisk y AsteriskAdd-ons, puesto que estos paquetes necesitan algunas librer\u00edas que se obtienen en la actualizaci\u00f3n y la versi\u00f3n m\u00e1s reciente del compilador de c\u00f3digo GCC.  \u2022 Instalaci\u00f3n de Asterisk  Para la instalaci\u00f3n de Asterisk se debe ubicar el archivo de la distribuci\u00f3n en una ruta de f\u00e1cil acceso, en este caso se usa el Escritorio, esto con el fin de facilitar un poco la instalaci\u00f3n. Es importante aclarar que la instalaci\u00f3n se realiza por consola, por lo que es importante conocer algo sobre el entorno b\u00e1sico de la consola de comandos o com\u00fanmente llamada Terminal.  Se abre una Terminal haciendo clic derecho sobre el escritorio y luego en la opci\u00f3n Terminal. Ahora se debe descomprimir el archivo con el siguiente comando: # tarxzvfAsterisk-1.6.2.18.tar.gz Desde la carpeta creada al descomprimir el archivo, se debe empezar la   87 instalaci\u00f3n con el comando configure,  el cual iniciar\u00e1 la instalaci\u00f3n y cargara los paquetes y archivos en el sistema operativo (Ilustraci\u00f3n 23), luego se ejecuta make men\u00fa select que despliega un men\u00fa (ilustraci\u00f3n 24) que permite personalizar la instalaci\u00f3n y a\u00f1adir sonidos, pero se debe tener en cuenta que esto tomar\u00e1 algo m\u00e1s de lo esperado puesto que es necesario esperar la descarga de los paquetes nuevos, por lo que se recomienda hacer una instalaci\u00f3n est\u00e1ndar; \nIlustraci\u00f3n 23.  Compilaci\u00f3n de Asterisk  # cd Asterisk-1.6.2.18 # ./configure # makemenuselect  Por \u00faltimo para aceptar los cambios se utiliza el comando make y para finalizar la instalaci\u00f3n y compilaci\u00f3n de paquetes se hace make install(Ilustraci\u00f3n 25). # make # makeinstall   \n  88  Ilustraci\u00f3n 24.  Men\u00fa de Opciones de Instalaci\u00f3n de Asterisk        Ilustraci\u00f3n 25. Finalizaci\u00f3n de Instalaci\u00f3n de Asterisk \n     \n  89  \u2022 Instalando AsteriskAdd-Ons  Para hacer la instalaci\u00f3n del paquete Add-Ons de Asterisk, que es el que permite instalar los m\u00f3dulos para la configuraci\u00f3n del CDR desde una base de datos MySQL o Postgres principalmente, se debe hacer el mismo proceso de instalaci\u00f3n que se hizo con el paquete principal de Asterisk, lo que requiere digitar los siguientes comandos: # tar -zxvf asteriskaddons1.6.2.3.tar.gz  # cd asteriskaddons1.6.2.3.tar.gz  # ./configure # makemenuselect # make  Cuando se tenga compilada la instalaci\u00f3n aparecer\u00e1 el cuadro que indica que ha sido satisfactoria la configuraci\u00f3n (Ilustraci\u00f3n 26), y luego se har\u00e1 make install.  Ilustraci\u00f3n 26.  Finalizaci\u00f3n de Instalaci\u00f3n de Asterisk-Addons \n  90   # make install  En esta instancia, s\u00f3lo queda por instalar el Softphone X-Lite que se realizar\u00e1 de la misma manera en todos los equipos clientes (3 en total).  \u2022 Instalaci\u00f3n del SoftPhone X-Lite  La instalaci\u00f3n de este SoftPhone es muy sencilla sobre sistemas operativos Windows y se hace de la misma manera en las versiones XP, Vista y versi\u00f3n 7. Se debe empezar haciendo doble clic en el ejecutable y luego hacer clic en next en la ventana que da aviso de bienvenida al asistente de instalaci\u00f3n (Ilustraci\u00f3n 27).  Ilustraci\u00f3n 27. Inicio del Asistente de Instalaci\u00f3n de X-Lite           \n  91 Aparecer\u00e1 una nueva ventana con los t\u00e9rminos de licencia (Ilustraci\u00f3n 28), los cuales se aceptan bajo las condiciones que en esta se establecen y se hace clic en el bot\u00f3n next.  Ilustraci\u00f3n 28. T\u00e9rminos de Licencia            Se seleccionar\u00e1 la ruta de destino de instalaci\u00f3n que viene por defecto y se har\u00e1 de nuevo clic en next (Ilustraci\u00f3n 29), en la ventana de tareas adicionales del asistente (Ilustraci\u00f3n 30) se puede elegir opciones que corresponden con ubicaci\u00f3n de accesos directos y se dejar\u00e1 seleccionada la opci\u00f3n \u201cLaunch the application when Windows starts\u201d que permitir\u00e1 ejecutar autom\u00e1ticamente el SoftPhone cada vez que Windows se inicie.         \n  92  Ilustraci\u00f3n 29. Selecci\u00f3n de Directorio de Instalaci\u00f3n               Ilustraci\u00f3n 30. Tareas Adicionales de Instalaci\u00f3n             \n  93 En la siguiente ventana se har\u00e1 el proceso de instalaci\u00f3n (Ilustraci\u00f3n 31) y por \u00faltimo el asistente pregunta si se quiere reiniciar el sistema ahora o despu\u00e9s de manera manual (Ilustraci\u00f3n 32). Es recomendable hacerlo de inmediato.  De esta manera se habr\u00e1 completado la instalaci\u00f3n de X-Lite.   Ilustraci\u00f3n 31.  Proceso de Instalaci\u00f3n          Ilustraci\u00f3n 32.  Finalizaci\u00f3n de la Instalaci\u00f3n de X-Lite \n  94 5.5.3.2 Configuraci\u00f3n \u2022 Configuraci\u00f3n de Asterisk  La configuraci\u00f3n de Asterisk no es de por s\u00ed una tarea f\u00e1cil. Asterisk proporciona un gran n\u00famero de archivos de configuraci\u00f3n que se pueden encontrar en el directorio/etc/asterisk Como se hab\u00eda dicho anteriormente el canal que se va a usar es aquel que usa SIP por lo que se debe buscar el archivo sip.conf y editarlo. Este archivo permite configurar el funcionamiento del protocolo SIP que establecer\u00e1 la comunicaci\u00f3n entre dispositivos y contendr\u00e1 la informaci\u00f3n de usuarios y contrase\u00f1as. Los clientes deben ser configurados en este archivo antes de poder recibir o hacer llamadas. A continuaci\u00f3n est\u00e1 la configuraci\u00f3n que se realiza para el archivo con una breve explicaci\u00f3n. [general]; Etiqueta que introduce la parte general de la configuraci\u00f3n binaddr=192.168.0.100; La direcci\u00f3n IP para conectarse al servidor Asterisk bindport=5060; Puerto utilizado para conectar las extensiones SIP al servidor Asterisk context=default; El contexto de base que todas las extensiones utilizaran si no viene especificado diversamente disallow=all; Deshabilita todos los c\u00f3decs de audio allow=alaw; Habilita el c\u00f3dec que se usara en la implementaci\u00f3n alaw/G711 para todas las extensiones  [sergio]; Nombre o n\u00famero de la extensi\u00f3n username=sergio; Describe el nombre de usuario callerid=sergio<1000>;Nombre y n\u00famero de identificaci\u00f3n de la extensi\u00f3n secret=sergio; Contrase\u00f1a para configurar la extensi\u00f3n host=dynamic; Se espec\u00edfica de forma din\u00e1mica, el usuario no siempre tendr\u00e1 la misma IP, se est\u00e1 a la espera de que el usuario se registre type=friend; Tipo de usuario, friend permite hacer y recibir llamadas accountcode=sergio; El c\u00f3digo o letras que aparecer\u00e1n en el registro de llamadas para esta extensi\u00f3n      95 [paula] username=paula callerid=paula<1001> secret=paula host=dynamic type=friend accountcode=paula  [mac] username=mac callerid=mac <1002> secret=mac host=dynamic type=friend accountcode=mac  Cuando se declara [general], se hace referencia a una configuraci\u00f3n que se va a tener como est\u00e1ndar para todos los usuarios que son descritos, pero sin embargo permite hacer configuraciones personalizadas para extensiones que lo requieran. El archivo sip.conf permite algunas otras configuraciones que dependen del entorno en que se implemente. En este caso se usan las opciones de configuraci\u00f3n m\u00e1s relevantes. Es importante tener en cuenta que lo que se considera cono nombre o n\u00famero de la extensi\u00f3n es la llave para enlazar y hacer referencia a la configuraci\u00f3n que se hace en el plan de marcado o m\u00e1s exactamente en el archivo extensions.conf. Para crear el plan de marcado se debe editar el archivo extensions.conf, que se encuentra en el mismo directorio /etc/asterisk.  Este archivo es de vital importancia, porque aqu\u00ed es donde est\u00e1 especificada la manera en la que las extensiones funcionan, las prioridades de las mismas y es donde se procesan y enrutan las llamadas dependiendo del contexto de las mismas. Ahora se va a configurar el archivo extensions.conf con los siguientes t\u00e9rminos:    96 [general]; Aqu\u00ed se establecen los par\u00e1metros generales static=yes; Permite tomar cambios o no sin hacer una recarga de m\u00f3dulos writeprotect=no; Establece permisos de escritura del archivo por consola autofallthrough=no; Establece que si alguna llamada a un n\u00famero que no est\u00e1 establecida en el plan de marcado se termine o no. clearglobalvars=no; Establece si se restablece o no el valor de las variables globales priorityjumping=no; Permite o no el salto de una prioridad a otra de forma autom\u00e1tica [default]; Indica el nombre del contexto exten => 501,1,Dial(Sip/sergio,30); exten indica que se hace referencia a la configuraci\u00f3n de  par\u00e1metros, inicialmente el primer campo establece el n\u00famero de la extensi\u00f3n, el segundo campo, establece la prioridad para esa misma extensi\u00f3n, y el \u00faltimo campo indica la aplicaci\u00f3n a usar, en este caso se usa Dial que indica recibir o hacer llamadas mediante el protocolo SIP, donde se est\u00e1 especificando el usuario SIP (el establecido en sip.conf), seguido de una coma y el tiempo que se dispone antes de que se salte a la siguiente prioridad o se termine la llamada. exten => 502,1,Dial(Sip/paula,30) exten => 503,1,Dial(Sip/mac,30)  De este modo se tiene hecha la configuraci\u00f3n b\u00e1sica de marcado, pero todav\u00eda es necesario hacer modificaciones en otros archivos con el fin de habilitar la conexi\u00f3n del CDR de Asterisk con un motor de base de datos, en este caso se est\u00e1 usando MySQL por lo que var\u00edan los archivos a modificar. Asterisk permite adicionalmente conexiones con Postgres, ODBC y SQLite. Para el correcto funcionamiento del CDR en una base de datos MySQL se debe tener en cuenta que hay que configurar los siguientes archivos de la siguiente manera: cdr_mysql.conf [global]; Etiqueta que indica que son valores globales Hostname=192.168.0.100; Indica el host en el que se almacena la base de datos dbname=asterisk; Indica el nombre de la base de datos table=cdr; Indica el nombre de la tabla donde se almacenan los registros del CDR password=sergiopaula; La contrase\u00f1a de la base de datos user=root; El usuario que tiene permisos de escritura en la base de datos por=3306; El puerto de conexi\u00f3n, 3306 es el usado por MySql.     97 Las especificaciones en el archivo res_mysql.con son muy parecidas y deben ser configuradas del mismo modo que en el archivo cdr_mysql.conf res_mysql.conf [general];  dbhost = 192.168.0.100;\u2028 dbname = asterisk dbuser = root\u2028 dbpass = sergiopaula; dbport = 3306  De esta manera ya se habr\u00e1n hecho las configuraciones y modificaciones necesarias para el funcionamiento de Asterisk, ahora se debe realizar la implementaci\u00f3n de la base de datos. \u2022 Configuraci\u00f3n e Implementaci\u00f3n de la Base de Datos  Teniendo en cuenta que MySql ya ha sido instalado desde la carga del sistema operativo CentOS, ahora s\u00f3lo es necesario conectarse a Mysql como usuario root para crear la base de datos llamada asterisk. Con el fin de llevar a cabo esta tarea se debe ejecutar desde una terminal los siguientes comandos. # mysql \u2013u root \u2013p  La consola pedir\u00e1 la contrase\u00f1a del usuario root y se iniciar\u00e1 MySQL. Ahora se debe crear la tabla CDR con los campos que utiliza Asterisk para hacer registros de llamadas.     98 CREATE DATABASE asterisk;  GRANT INSERT ON asterisk   TO root@localhost   IDENTIFIED BY 'sergiopaula';  Se establece asterisk como la base de datos a usar. USE asterisk;   CREATE TABLE `cdr` ( `calldate` datetime NOT NULL default '0000-00-00 00:00:00', `clid` varchar(80) NOT NULL default '', `src` varchar(80) NOT NULL default '', `dst` varchar(80) NOT NULL default '', `dcontext` varchar(80) NOT NULL default '', `channel` varchar(80) NOT NULL default '', `dstchannel` varchar(80) NOT NULL default '', `lastapp` varchar(80) NOT NULL default '', `lastdata` varchar(80) NOT NULL default '', `duration` int(11) NOT NULL default '0', `billsec` int(11) NOT NULL default '0', `disposition` varchar(45) NOT NULL default '', `amaflags` int(11) NOT NULL default '0', `accountcode` varchar(20) NOT NULL default '', `uniqueid` varchar(32) NOT NULL default '', `userfield` varchar(255) NOT NULL default '' );  Por \u00faltimo se agregan \u00edndices a los campos calldate, dst y accountcode.  ALTER TABLE `cdr` ADD INDEX ( `calldate` ); ALTER TABLE `cdr` ADD INDEX ( `dst` ); ALTER TABLE `cdr` ADD INDEX ( `accountcode` );  Ya teniendo lista la base de datos s\u00f3lo queda por configurar los SoftPhones en las estaciones de manera que se pueda poner a funcionar el sistema y se verifique que se est\u00e1n haciendo los registros correspondientes en la base de datos.   99 \u2022 Configuraci\u00f3n de X-Lite  Para configurar X-Lite es necesario ir al men\u00fa de configuraci\u00f3n de SIP luego de hacer clic derecho sobre la pantalla del SoftPhone (Ilustraci\u00f3n 33).  Ilustraci\u00f3n 33. Inicio de Configuraci\u00f3n de SIP en X-Lite \n  En la ventana de Cuentas SIP (Ilustraci\u00f3n 34) se hace clic en el bot\u00f3n add para adicionar una nueva cuenta, donde se abrir\u00e1 una nueva ventana de propiedades de cuenta (Ilustraci\u00f3n 35). Aqu\u00ed se especificar\u00e1n los datos que fueron declarados en el archivo sip.conf, en este caso se har\u00e1 la configuraci\u00f3n para s\u00f3lo el usuario sergio puesto que las otras configuraciones se realizan de forma similar:       \n  100 Ilustraci\u00f3n 34.  Ventana de Cuentas SIP           Ilustraci\u00f3n 35.  Propiedades de Cuenta SIP                         \n  101 DisplayName: El nombre que queramos usar para la cuenta. User Name: sergio Password: sergio Authorization user name: sergio Domain: 192.168.0.100 (es la direcci\u00f3n IP del servidor Asterisk)  Las dem\u00e1s opciones se dejan como est\u00e1n y se hace clic en aceptar, de este modo se habr\u00e1 agregado la cuenta satisfactoriamente en el SoftPhone.  5.5.3.3 Montaje de la Red LAN del Prototipo  Ya se sabe con anterioridad que se usar\u00e1n 3 equipos cliente y un equipo servidor. Pero un punto importante es conocer el esquema topol\u00f3gico de la red y la forma en que est\u00e1 compuesta la LAN en la implementaci\u00f3n. Vale aclarar que el servidor Asterisk en la implementaci\u00f3n est\u00e1 manejando una direcci\u00f3n IP est\u00e1tica (192.168.0.100) al igual que los clientes: Sergio (192.168.0.101), Paula (192.168.0.102) y Mac (192.168.0.103) que operan bajo la m\u00e1scara de sub red 255.255.255.0 y utilizan como puerta de enlace la interfaz Ethernet0/0 con direcci\u00f3n 192.168.0.1 en el Router.  Adem\u00e1s de identificar el servidor y los clientes, se hace uso de un Router CISCO 2600 y de un Switch gen\u00e9rico 3Com.   102 Es importante tener en cuenta que la interfaz Ethernet0/0 est\u00e1 conectada directamente a un puerto del Switch, al igual que el servidor y los clientes, de modo que el prototipo funcione en un entorno real y con todos los dispositivos de los cuales se hace uso en la soluci\u00f3n propuesta (Ilustraci\u00f3n 36). Ilustraci\u00f3n 36. Topolog\u00eda de Red del Prototipo Implementado \n  5.5.3.4 Puesta en Marcha del Servidor Asterisk Luego de tener todas las conexiones, configuraciones, modificaciones y dem\u00e1s tareas de implementaci\u00f3n completadas, Asterisk debe ser ejecutado mediante una terminal de comandos por lo que se necesita ejecutar el comando asterisk \u2013\n  103 cvvvv, que cargar\u00e1 los archivos y compilara de manera completa las configuraciones y m\u00f3dulos para su funcionamiento. # asterisk \u2013cvvvv En este momento asterisk debe estar en l\u00ednea y funcionando; adicionalmente \u00e9ste autom\u00e1ticamente se coloca en modo CLI (siglas en Ingl\u00e9s de Command Line Interface), donde se pueden ejecutar muchos comandos para monitorear el comportamiento de la central telef\u00f3nica.  Tras unos segundos Asterisk detecta y muestra los usuarios SIP que se est\u00e1n registrando desde los SoftPhones clientes, si esto no ocurre es probable que se deba reiniciar X-Lite para que \u00e9ste realice el proceso de registro nuevamente. Cuando hayan sido registrados satisfactoriamente los usuarios SIP, se puede proceder a revisar el estado de conexi\u00f3n de MySQL y Asterisk. Esta verificaci\u00f3n se hace mediante el siguiente comando: # cdrmysql status Si todo est\u00e1 funcionando correctamente, la consola debe arrojar como resultado el tiempo de conexi\u00f3n y el estado de la misma. Luego de haber realizado el proceso de verificaci\u00f3n de conexi\u00f3n y registro mediante consola de comandos, se pueden hacer llamadas entre usuarios de la red, con el fin de comprobar que se hagan los registros correspondientes. Los registros se verificaran desde MySQL realizando una consulta que arroje todos los registros de la tabla cdr perteneciente a la base de datos asterisk. Es necesario volverse a conectar por consola a MySQL y abrir la base de datos del siguiente modo: # mysql \u2013u root \u2013p (se suministra la contrase\u00f1a)   104 # use asterisk (se hace referencia a la base de datos a usar) Finalmente se ejecuta una consulta que muestre los registros de la base de datos (Ilustraci\u00f3n 37). # select * from cdr;  Ilustraci\u00f3n 37. Consulta a la tabla CDR \n  La Ilustraci\u00f3n 37 evidencia que el sistema funciona como hab\u00eda sido planteado, los resultados arrojan entre muchos otros datos, el tiempo de llamada y si la llamada fue o no respondida. Es importante tener en cuenta que el servidor Asterisk se encuentra haciendo continuamente monitoreo de los usuarios SIP y que se ejecuta en segundo plano sin importar si la terminal es cerrada. \n  105 5.5.3.5 T\u00e9rminos de Referencia al Proveedor  Con el fin de que la Universidad de San Buenaventura sede Bogot\u00e1  pueda hacer uso de los resultados dados por el proyecto, se plantean los t\u00e9rminos de referencia que contienen en las especificaciones t\u00e9cnicas y de contrataci\u00f3n con las cuales la Universidad puede realizar un contrato con un proveedor de manera que se realice una implementaci\u00f3n completa de la soluci\u00f3n. Ver anexo B.                    106 6. CONCLUSIONES  El dise\u00f1o de un sistema de telefon\u00eda IP planteado como una soluci\u00f3n alterna a un sistema existente, considera muchos factores que deben ser tenidos en cuenta antes de una implementaci\u00f3n, puesto que se debe considerar que no s\u00f3lo cumpla con las expectativas y requerimientos de los usuarios, sino que adicionalmente el entorno en donde se implementa, merece un valor adicional de mejor calidad y  un costo reducido. El hacer las preguntas pertinentes a los usuarios de un sistema en cuanto al funcionamiento, permite identificar las fallas que en \u00e9ste se presentan, y al mismo tiempo contribuye a la definici\u00f3n de los requerimientos de una soluci\u00f3n ingenieril.   Es pertinente considerar que para establecer especificaciones t\u00e9cnicas de un sistema de telefon\u00eda IP es importante realizar un an\u00e1lisis y proceso comparativo para poder establecer el software m\u00e1s adecuado que se va a usar en la soluci\u00f3n, incluyendo sistema operativo, plataforma de telefon\u00eda y motor de bases de datos. La integraci\u00f3n de la base de datos con una central telef\u00f3nica Asterisk se puede articular al permitirle a un sistema de informaci\u00f3n el registro y consulta de tiempos de llamadas e informaci\u00f3n personal de los usuarios del sistema de telefon\u00eda IP. Mediante las pruebas y pr\u00e1cticas realizadas en el laboratorio se pudo determinar que la utilizaci\u00f3n de un software libre es igual de fiable y estable que un software privado.   107 La implementaci\u00f3n de una plataforma de telefon\u00eda basada en IP representa un ahorro siempre y cuando se implemente software con licenciamiento GPL frente a la plataforma instalada actualmente en la Universidad. Una soluci\u00f3n de telefon\u00eda IP es altamente escalable debido a la arquitectura con la que est\u00e1 construida. Es importante tambi\u00e9n concluir que para la implementaci\u00f3n del prototipo propuesto en el proyecto se necesitan conocimientos previos en Linux puesto que requiere un manejo de l\u00ednea de comandos avanzado.               108 9. RECOMENDACIONES  Para qui\u00e9n implemente la soluci\u00f3n se le sugiere tener en cuenta los t\u00e9rminos de referencia planteados por este proyecto de manera que se haga una correcta implementaci\u00f3n e instalaci\u00f3n de la plataforma de telefon\u00eda y la base de datos. En aspectos del software Asterisk es recomendable hacer actualizaciones a la \u00faltima versi\u00f3n siempre y cuando \u00e9stas se encuentren terminadas en su totalidad y cuenten con la suficiente estabilidad y documentaci\u00f3n para su uso, al igual que se debe hacer con las versiones del AsteriskAddons; en lo concerniente al sistema operativo es importante tener el sistema operativo configurado para que realice actualizaciones autom\u00e1ticas y de esta manera contribuir con la estabilidad del sistema. Debe ser tenido en cuenta que Asterisk cuenta con otros servicios que pueden ser implementados m\u00e1s adelante, servicios que pueden ser implementados sobre \u00e9sta misma soluci\u00f3n y que contribuyen de manera tecnol\u00f3gica al sistema de telefon\u00eda IP de la Universidad. Como \u00faltima recomendaci\u00f3n se plantea la realizaci\u00f3n de un entorno gr\u00e1fico web que est\u00e9 conectado a la base de datos con el fin de mostrar las consultas que se plantean en el proyecto al administrador de la central de telefon\u00eda.        109 BIBLIOGRAF\u00cdA  ALAN B. Johnstone, sip: Understanding the session initiation protocol - 3 edici\u00f3n, 395p. ALAN B. Johnstone, Understanding voice over IP security \u2013 1a edici\u00f3n, 276p. CARBALLAR Falc\u00f3n, Jos\u00e9 A., VoIP. la telefon\u00eda de internet, 1 a  edici\u00f3n,296p. DAVIDSON JONATHAN, James Peters, fundamentos de voz sobre ip. - 1a edici\u00f3n, 347p. MOSCOSO M. Lina Mar\u00eda, Dise\u00f1o y construcci\u00f3n de un sistema de comunicaci\u00f3n de voz sobre IP, 81p. ROCHA O. Andr\u00e9s, Escalabilidad de la plataforma Asterisk para Call Center, CITIC 2008, Grupo de Investigaci\u00f3n en Telecomunicaciones GITUN, Universidad Nacional de Colombia. SERRAT Joan, Deploying and Managing ip over wdm networks.-1a edici\u00f3n, 288p. SYED A. Ahson, MOHAMMAD Llyas, VoIP HandBook, Applications, Technologies, Reliability and Security \u2013 1a edici\u00f3n, cap.16. VAN MEGGELEN Jim, SMITH Jared, MADSEN Leif, Asterisk The Future of Telephony, O\u2019Reilly Media, 2005, 1a edici\u00f3n. VIJAYMehrotra, FAME Jasson, Call Center Modeling: Methods, Challenges, and Opportunities, proceedings of the 2003 Winter Simulation Conference, IEEE.      110 WEB GRAF\u00cdA  Asterisk Disponible en: http://www.asterisk.org/  Consultado: [28 de Mayo de 2010, 4:42 pm] Definiciones disponible en: http://es.wikipedia.org/  consultado: [28 de Mayo de 2010, 5:00 pm] 3com Disponible en: lat.3com.com/lat/news/casestudies/gam_mx.htm Consultado: [29 de Mayo de 2010, 4:50 pm]  Tipo de topolog\u00edas disponible http://www.monografias.com/trabajos15/topologias-neural/topologias-neural.shtml Consultado: [29 de Mayo de 2010, 5:10 pm]  Definici\u00f3n sobre internet Disponible en: http://es.wikipedia.org/wiki/Internet Consultado: [29 de Mayo de 2010, 5:30 pm]  Configuraci\u00f3n de las extensiones en Asterisk. Disponible en http://voztovoice.org/?q=node/46 Consultado: [01 de Junio de 2010, 7:30 pm]  Asterisk. Disponible en http://www.voztele.com/esp/productos_servicios_voip/linea_ip_oigaa_direct/doc/Asterisk-1.4-VozTelecom.pdf. Consultado:  [01 de Junio de 2010, 7:30 pm]  Anexos en Asterisk. Disponible en http://voz-ip.info/blog/?p=104 Consultado: [01 de Junio de 2010, 7:30 pm]  Bases de datos en Asterisk. Disponible en http://voztovoice.org/?q=node/260 Consultado: [16 de Mayo de 2010, 5:35 pm]   111 Base de datos Asterisk con Mysql. Disponible en http://phylevn.mexrom.net/index.php/blog/show/Configurando-Asterisk-para-guardar-los-registros-del-CDR-en-MySQL.html  Consultado: [16 de Mayo de 2010, 5:35 pm]                          112 GLOSARIO  3Com: Es uno de los l\u00edderes en fabricaci\u00f3n de equipos para infraestructura de Redes Inform\u00e1ticas. El nombre 3Com hace referencia a que los intereses de la compa\u00f1\u00eda son Computadoras, Comunicaciones y Compatibilidad. ANCHO DE BANDA: Diferencia entre las frecuencias m\u00e1s altas y m\u00e1s bajas disponibles para las se\u00f1ales de red. Tambi\u00e9n se utiliza este t\u00e9rmino para describir la capacidad de rendimiento medida de un medio o un protocolo de red espec\u00edfico.   ASTERISK: Es un programa de software libre (bajo licencia GPL) que proporciona funcionalidades de una central telef\u00f3nica (PBX). Como cualquier PBX, se puede conectar un n\u00famero determinado de tel\u00e9fonos para hacer llamadas entre s\u00ed e incluso conectar a un proveedor de VoIP o bien a una RDSI tanto b\u00e1sicos como primarios. ATRIBUTO: Son las caracter\u00edsticas que definen o identifican a una entidad BANDA ANCHA: Sistema de transmisi\u00f3n que multiplexa varias se\u00f1ales independientes en un cable. En la terminolog\u00eda de telecomunicaciones, cualquier  canal que tenga un ancho de banda mayor que un canal de grado de voz (4 kHz). En la terminolog\u00eda de las LAN, un cable coaxial en el que se usa se\u00f1alizaci\u00f3n anal\u00f3gica.  COPYLEFT: Deriva de un juego de palabras en donde se pasa de Copyrigth (derecho de copia) a Copyleft (izquierdo de copia). Naci\u00f3 de la idea de que un programa fuera software libre y de que todas sus copias con modificaciones o ampliaciones tambi\u00e9n lo fueran. Despu\u00e9s se expandi\u00f3 a otros medio como la   113 literatura, la fotograf\u00eda la m\u00fasica. Con el Copyleft un autor decide conservar los derechos morales de su obra (por ejemplo que se le atribuya su autor\u00eda) respetando las libertades del usuario de utilizar, modificar, copiar, distribuir la obra, o disfrutarla individual, colectiva o socialmente.   E.164: El sistema internacional de numeraci\u00f3n p\u00fablico. Un numero E.164 \u00fanicamente identifica un punto final de una red p\u00fablica que t\u00edpicamente consiste en tres campos, CC (Country Code, C\u00f3digo de Pa\u00eds), NDC (National Destination Code, C\u00f3digo de Destino Nacional), y SIN (Subscriber Number, n\u00famero de subscripto), hasta 15 d\u00edgitos en total. ENTIDAD: Representa una \u201ccosa\u201d u \"objeto\" del mundo real con existencia independiente GNU: Es un sistema operativo, compatible Unix. Este sistema operativo tiene dos grandes caracter\u00edsticas la primera que es una herramienta libre y la segunda bien con su c\u00f3digo fuente. GPL: General Public License , es una licencia creada por la Free Software Foundation en 1989 (la primera versi\u00f3n), y est\u00e1 orientada principalmente a proteger la libre distribuci\u00f3n, modificaci\u00f3n y uso de software. Su prop\u00f3sito es declarar que el software cubierto por esta licencia es software libre y protegerlo de intentos de apropiaci\u00f3n que restrinjan esas libertades a los usuarios. HARDPHONE: Es un tel\u00e9fono que se conecta directamente a la red, este no necesita de una computadora para funcionar.  INSERT: Inserta nuevos registros en una tabla existente. INTERNET: T\u00e9rmino utilizado para referirse a la internetwork m\u00e1s grande del mundo, que conecta decenas de miles de redes de todo el mundo y con una   114 cultura que se concentra en la investigaci\u00f3n y estandarizaci\u00f3n basada en el uso real. LLAVE FORANEA: Es la llave que procede de otra tabla dentro de la base de datos LLAVE PRIMARIA: Es un campo \u00fanico, irrepetible que sirve para identificar los registros de una tabla como distintos, adem\u00e1s de que sirve para hacer relaciones 1:1, 1:M , M:M (uno a uno, uno a muchos, muchos a muchos) entre tablas.  PSTN: Se refiere a los sistemas telef\u00f3nicos que transfieren datos de voz anal\u00f3gicos. Hasta hace poco tiempo, PSTN era el coraz\u00f3n de todos los sistemas telef\u00f3nicos en el mundo, Sin embargo, muchos de estos sistemas telef\u00f3nicos est\u00e1n cambiando o ya han cambiado a sistemas telef\u00f3nicos basados en la tecnolog\u00eda digital.  RDSI: Red Digital de Servicios Integrados (RDSI o ISDN en ingl\u00e9s) como: una red que procede por evoluci\u00f3n de la Red Digital Integrada (RDI) y que facilita conexiones digitales extremo a extremo para proporcionar una amplia gama de servicios, tanto de voz como de otros tipos, y a la que los usuarios acceden a trav\u00e9s de un conjunto de interfaces normalizados. RED: agrupaci\u00f3n de computadores, impresoras, routers, switches y otros dispositivos que se pueden comunicar entre s\u00ed a trav\u00e9s de un medio de transmisi\u00f3n.  SIP: es un protocolo de se\u00f1alizaci\u00f3n de telefon\u00eda IP utilizado para establecer, modificar y terminar llamadas VOIP.    115 SOFTPHONE: es un software que hace una simulaci\u00f3n de tel\u00e9fono convencional por computadora. Es decir, permite usar la computadora para hacer llamadas a otros SoftPhones o a otros tel\u00e9fonos convencionales.  TOPOLOG\u00cdA: disposici\u00f3n f\u00edsica de nodos de red y medios dentro de una estructura de redes empresarias.   VoIp: Es un grupo de recursos que hacen posible que la se\u00f1al de voz viaje a trav\u00e9s de Internet empleando un protocolo IP (Protocolo de Internet). Esto significa que se env\u00eda la se\u00f1al de voz en forma digital, en paquetes, en lugar de enviarla en forma digital o anal\u00f3gica, a trav\u00e9s de circuitos utilizables s\u00f3lo para telefon\u00eda como una compa\u00f1\u00eda telef\u00f3nica convencional o PSTN (sigla de Public Switched Telephone Network, Red Telef\u00f3nica P\u00fablica Conmutada).              116 ANEXO A T\u00e9rminos de Referencia y Especificaciones T\u00e9cnicas para la Instalaci\u00f3n, configuraci\u00f3n y Puesta en Producci\u00f3n la Central Telef\u00f3nica IP \u2013 Asterisk Para la Universidad de San Buenaventura  Introducci\u00f3n  Actualmente la Universidad de San Buenaventura cuenta con una plataforma de telefon\u00eda NBX que es producto de una soluci\u00f3n de 3Com llamada NBX v3000, esta plataforma est\u00e1 implementada sobre la red de datos de la Universidad y funciona hace unos a\u00f1os atr\u00e1s. La plataforma seg\u00fan un estudio hecho por unos estudiantes de Ingenier\u00eda de Sistemas, evidenci\u00f3 algunos aspectos negativos que fueron expresados por algunos usuarios de la telefon\u00eda IP, en cuanto a la calidad de voz y al funcionamiento de los SoftPhones, ca\u00eddas de llamadas y ecos. Tras estos inconvenientes nace como proyecto de grado la propuesta de crear una soluci\u00f3n a dichos aspectos y dando adem\u00e1s un valor agregado con la implementaci\u00f3n de una base de datos y la reducci\u00f3n notoria de costos en cuanto a compra de licencias e implementaci\u00f3n.  Objetivos  \u2022 Implementar de forma completa una central de telefon\u00eda IP basada en Asterisk  \u2022 Implementar al pie de la letra los dise\u00f1os que brinda la soluci\u00f3n del proyecto.   \u2022 Implementar un plan de marcado que se ajuste con el existente en la Universidad   Soluci\u00f3n para la topolog\u00eda de la red.   117 \u2022 Se usar\u00e1 la misma topolog\u00eda de red que est\u00e1 instalada actualmente.  Soluci\u00f3n de Telefon\u00eda IP  \u2022 Se implementara un servidor basado en Asterisk 1.6.2.18 \u2022 Las extensiones y planes de marcado se configurar\u00e1n teniendo en cuenta las configuraciones actuales de la plataforma NBX.  La central se configurar\u00e1 de la siguiente manera:  \u2022 Establecimiento de extensiones y plan de marcado \u2022 Instalaci\u00f3n de SoftPhones \u2022 Configuraci\u00f3n de los SoftPhones y HardPhones \u2022 Implementaci\u00f3n de la base de datos \u2022 Contrato de soporte y mantenimiento por t\u00e9rmino de 2 a\u00f1os.  Especificaciones del Servidor El servidor que se use debe cumplir con las siguientes especificaciones t\u00e9cnicas. \u2022 Sistema Operativo CentOS 5.5 \u2022 Asterisk 1.6.2.18 \u2022 Soporte para CDR, Asterisk-Addons 1.6.2.3 \u2022 Motor de base de datos MySQL     Configuraci\u00f3n T\u00e9cnica Recomendada Procesador Intel Core i7 870s de 2.8 GHz con 8MB de cache.  Memoria  4 GB RAM 2 Discos Duros D1 80GB D2 500 GB Sistema Operativo CentOS 5.5   118 Conexi\u00f3n 2 Tarjetas de Red 10/100 Mbps. M\u00f3dulo de Conexi\u00f3n a PSTN. Adaptador de Sonido No es necesario.  Servicios espec\u00edficos que debe prestar la central telef\u00f3nica Asterisk. \u2022 Correo de Voz \u2022 Servicio de video-conferencia o video-llamada \u2022 M\u00fasica en Espera \u2022 IVR (Interactive Voice Response): Operadora Autom\u00e1tica. \u2022 CDR (Informe detallado de llamada), implementado con la base de datos propuesta en el proyecto. \u2022 ACD (Automatic Call Distribution): Sistema autom\u00e1tico de distribuci\u00f3n de llamadas. \u2022 CTI (Commerce Telephony Integration): Integraci\u00f3n con sistemas de gesti\u00f3n comercial. Tambi\u00e9n debe tener unas funcionas b\u00e1sicas para el usuario como son: \u2022 Transferencias de llamadas \u2022 Desv\u00edos de llamadas \u2022 Captura en las llamadas. \u2022 Conferencias m\u00faltiples. Llamadas directas a extensiones.    119 Capacitaci\u00f3n  \u2022 Se debe dar capacitaci\u00f3n al administrador de la red acerca del funcionamiento de la central telef\u00f3nica. \u2022 Debe existir capacitaci\u00f3n para los usuarios referente a los Softphones instalados.  Requisitos que el Proveedor debe cumplir Certificaciones \u2022 Contar con al menos 2 Ingenieros capacitados en soluciones de telefon\u00eda IP Asterisk \u2022 Contar con al menos 1 Ingeniero de Sistemas  capacitado en bases de datos en MySQL \u2022 Contar con al menos 1 Ingeniero de Sistemas  capacitado en sistemas operativos Linux \u2022 Presentar experiencia comprobada de al menos cinco instalaciones de telefon\u00eda IP Asterisk \u2022 Presentar experiencia comprobada de al menos una instalaci\u00f3n de telefon\u00eda IP 3Com con m\u00e1s de 100 tel\u00e9fonos \u2022 El proveedor debe presentar una lista con un m\u00ednimo de 3 clientes donde haya llevado a cabo proyectos de instalaciones de telefon\u00eda IP Asterisk o de otras soluciones. Esta lista debe incluir el nombre de la empresa, la persona de contacto, n\u00fameros telef\u00f3nicos, correo electr\u00f3nico y un detalle breve del proyecto.  Metodolog\u00eda de Administraci\u00f3n y Gerencia del Proyecto  El proveedor deber\u00e1 comprometerse a cumplir con la implementaci\u00f3n en un t\u00e9rmino no mayor a 3 meses. Como parte de esta etapa el proveedor deber\u00e1 cumplir con los siguientes requisitos y entregables:    120  \u2022 El proveedor deber\u00e1 preparar y entregar un cronograma detallado para  todo el proceso de implementaci\u00f3n de la central de Telefon\u00eda IP. Los cronogramas deben incluir el desarrollo detallado de las actividades de cada uno de los bienes y servicios a contratar de acuerdo con los requerimientos que se plantean en el presente documento \u00b7   \u2022 El plan de trabajo debe incluir actividades, responsabilidades y entregables. Adicionalmente debe reflejar la metodolog\u00eda utilizada y la preparaci\u00f3n, presentaci\u00f3n y entrega de los informes requeridos para el seguimiento de la ejecuci\u00f3n del proyecto as\u00ed como reuniones cada 15 d\u00edas con la unidad de Tecnolog\u00eda de la Universidad para presentar los avances del proyecto  \u2022 El proveedor deber\u00e1 presentar un Diagrama de Distribuci\u00f3n de Tel\u00e9fonos de acuerdo a la Estructura Organizativa de la Universidad. Este diagrama debe incluir la asignaci\u00f3n, tipo de tel\u00e9fono, n\u00famero de extensi\u00f3n, entre otras.  Presentaci\u00f3n de la propuesta  \u2022 El proveedor deber\u00e1 presentar en su propuesta un documento escrito con lo ofertado por el mismo, el cual no ha de ser inferior a lo solicitado en las especificaciones t\u00e9cnicas. Con base en \u00e9ste documento ser\u00e1 evaluado.  \u2022 El proveedor deber\u00e1 se\u00f1alar expl\u00edcitamente, en los folletos y documentaci\u00f3n t\u00e9cnica que suministre adjunto a su propuesta, las p\u00e1ginas y l\u00edneas, donde el producto a adquirir cumple con lo ofertado. De no cumplir con este punto no ser\u00e1 evaluado.  Servicio de Soporte \u2022 El servicio de atenci\u00f3n debe ser de 24 horas al d\u00eda y los 7 d\u00edas a la semana, los 365 d\u00edas del a\u00f1o, con un atraso no mayor de cuatro (4) horas de respuesta al reporte, y de cuatro (4) horas de respuesta a una necesidad de reemplazo de alg\u00fan componente del sistema.  Instalaci\u00f3n e Implementaci\u00f3n \u2022 El proponente entregar\u00e1 la soluci\u00f3n bajo el concepto de llave en mano es decir tendr\u00e1 que proveer todos los elementos necesarios para la puesta en producci\u00f3n de la soluci\u00f3n as\u00ed como la instalaci\u00f3n y configuraci\u00f3n de todos   121 los elementos que formen parte de la soluci\u00f3n.  Documentaci\u00f3n \u2022 Folletos de especificaciones t\u00e9cnicas de f\u00e1brica original o PDF \u0301s bajados de Internet, los mismos deben ser entregados en papel y en CD \u0301s respectivamente.  \u2022 El proponente debe entregar toda la documentaci\u00f3n del proyecto:    \u2022 Diagramas  \u2022 Informe detallado de la instalaci\u00f3n   Tiempo de instalaci\u00f3n  \u2022 Presentar un cronograma de instalaci\u00f3n consensuado de manera conjunta con la Unidad de Tecnolog\u00eda de la Universidad una vez adjudicado el acto p\u00fablico.               122   ANEXO B ENCUESTA N\u00ba. 1  Nombre del encuestado: ______________________________________________    Cargo: ________________ Ubicaci\u00f3n: ____________________ Piso: _________  Esta encuesta es realizada con el fin de recolectar datos para el an\u00e1lisis del sistema de comunicaci\u00f3n de voz IP de la universidad de San Buenaventura sede Bogot\u00e1 de modo que pueda contribuir a la identificaci\u00f3n de falencias y posibles inconvenientes en el sistema.  1. Considera usted que el funcionamiento del sistema de telefon\u00eda del cual hace uso en la Universidad es: \u25a1Bueno \u25a1Regular \u25a1Malo 2. Realiza usted las llamadas por medio de: \u25a1Computador \u25a1Tel\u00e9fono Fijo \u25a1Ambos 3. Cuando usted realiza una llamada tiene problemas como: \u25a1Ca\u00edda de llamada \u25a1Voz Cortada \u25a1Ecos \u25a1Retardo en la voz \u25a1Ninguno 4. Los problemas en la pregunta 3 le suceden cuando utiliza un: \u25a1 Computador \u25a1Tel\u00e9fono Fijo  \u25a1Ambos \u25a1N/A 5. Considera que la calidad de voz que escucha en una llamada es: \u25a1 Buena \u25a1Regular  \u25a1Mala 6. \u00bfLe parece tedioso el proceso de comunicaci\u00f3n hacia fuera de la Universidad, consider\u00e1ndose tel\u00e9fonos fijos y/o celulares? \u25a1 Si \u25a1No 7. \u00bfConsidera usted que deber\u00eda haber alg\u00fan cambio en el sistema de comunicaci\u00f3n dentro de la universidad? \u25a1 Si \u25a1 No \u00bfCu\u00e1l? _________________________________________________________ 8. \u00bfExiste alg\u00fan horario habitual en el que haya experimentado dificultades en la comunicaci\u00f3n repetidamente?  \u25a1 Si \u25a1 No \u00bfCu\u00e1l? _________________________________________________________  Preguntas para Usuarios que hacen llamadas desde computadores    123 9. Considera que la dificultad del manejo del software que usa para llamar es: \u25a1 Dif\u00edcil \u25a1 Normal  \u25a1 F\u00e1cil  10. \u00bfCuando recibe una llamada, \u00e9sta interrumpe de forma brusca su trabajo? \u25a1 Si \u25a1 No                        124   ANEXO C ASPECTOS LEGALES IP EN COLOMBIA21  Para analizar la situaci\u00f3n legal de la VoIP en Colombia, es necesario tener presente las definiciones de servicios establecidas en el r\u00e9gimen de las Telecomunicaciones, que comporta el an\u00e1lisis del Decreto Ley 1900 y sus decretos reglamentarios, la ley 37 de 1993, la ley 142 de 1994 y la ley 555 de 2000, entre otras.  Espec\u00edficamente, teniendo en cuenta las facilidades de telecomunicaci\u00f3n que pueden ser provistas a trav\u00e9s del Protocolo IP, resulta relevante lo dispuesto en el Decreto 1900, en cuanto efect\u00faa una clasificaci\u00f3n funcional de los servicios de telecomunicaciones, as\u00ed:   Define los Servicios B\u00e1sicos de Telecomunicaciones como aquellos que comprenden los servicios portadores y los tele-servicios.  Por los primeros, entiende aquellos que proporcionan la capacidad necesaria para la transmisi\u00f3n de se\u00f1ales entre dos o m\u00e1s puntos definidos de la red de telecomunicaciones, comprendiendo dentro de \u00e9stos los que se prestan a trav\u00e9s de redes conmutadas de circuitos o de paquetes y los que se prestan a trav\u00e9s de redes no conmutadas. Adicionalmente se\u00f1ala que forman parte de los servicios portadores, entre otros, los servicios de arrendamiento de pares aislados y de circuitos dedicados.  Por Tele-servicios define aquellos que proporcionan en s\u00ed mismos la capacidad completa parala comunicaci\u00f3n entre usuarios, incluidas las funciones del equipo terminal. Forman parte de \u00e9stos, entre otros, la telefon\u00eda tanto fija como m\u00f3vil y m\u00f3vil celular, la telegraf\u00eda y el t\u00e9lex.   125  Adicionalmente, la ley 142 de 1994, mediante la cual se establece el r\u00e9gimen de los servicios p\u00fablicos domiciliarios, involucra la definici\u00f3n de la telefon\u00eda p\u00fablica b\u00e1sica conmutada, se\u00f1alando:  \u201c14.26.Servicio p\u00fablico domiciliario de telefon\u00eda p\u00fablica b\u00e1sica conmutada: Es el servicio b\u00e1sico de telecomunicaciones, uno de cuyos objetos es la transmisi\u00f3n conmutada de voz a trav\u00e9s de la red telef\u00f3nica conmutada con acceso generalizado al p\u00fablico, en un mismo municipio.\u201d  14.27. Servicio p\u00fablico de larga distancia nacional e internacional: Es el servicio p\u00fablico de telefon\u00eda b\u00e1sica conmutada que se presta entre localidades del territorio nacional o entre \u00e9stas en conexi\u00f3n con el exterior.\u201d   De otra parte, define los Servicios de Valor Agregado como aquellos que utilizan como soporte servicios b\u00e1sicos, telem\u00e1ticos, de difusi\u00f3n o cualquier combinaci\u00f3n de \u00e9stos, y con ellos proporcionan la capacidad completa para el env\u00edo o intercambio de informaci\u00f3n, agregando otras facilidades al servicio soporte o satisfaciendo nuevas necesidades espec\u00edficas de telecomunicaciones. S\u00f3lo se considerar\u00e1n servicios de valor agregado aquellos que se puedan diferenciar de los servicios b\u00e1sicos.  As\u00ed las cosas, resulta relevante se\u00f1alar, por v\u00eda general, las caracter\u00edsticas que configuran el servicio de TPBC:  1. Es un servicio b\u00e1sico de telecomunicaciones, lo que indica que, a la luz de la clasificaci\u00f3n del decreto 1900 de 1990, se inscribe dentro de los llamados tele-servicios, pues proporciona capacidad completa de comunicaci\u00f3n, incluidas las funciones de equipo terminal.    126 2. Su objeto principal es la transmisi\u00f3n conmutada de voz, lo que indica que este es el \u00fanico servicio en Colombia al que la ley define seg\u00fan el tipo  de se\u00f1ales que se cursan, pero deber\u00e1n cumplirse las dem\u00e1s caracter\u00edsticas en conjunto con \u00e9sta para ser tipificado, precisamente porque pueden existir otros servicios en los cuales se cursen se\u00f1ales de voz, pero que no son TPBC ni se califican como domiciliarios.  3. La transmisi\u00f3n de voz se debe realizar en forma conmutada, es decir, es el usuario quien decide hacia cu\u00e1l abonado desea sea enrutada su llamada.  4. Como la conmutaci\u00f3n se predica tambi\u00e9n de otros servicios, la ley exige que el proceso telef\u00f3nico sea ofrecido en forma p\u00fablica, o con acceso generalizado al p\u00fablico, esto es, que cualquier individuo pueda lograr comunicaci\u00f3n transparente con los dem\u00e1s abonados del servicio telef\u00f3nico, de una parte, y de otra, que cualquiera pueda solicitar y obtener la prestaci\u00f3n del servicio. Por tanto, si no existe este acceso, no ser\u00e1 TPBC aunque se cursen se\u00f1ales de voz.  5. El servicio se debe realizar a trav\u00e9s de la red telef\u00f3nica conmutada, es decir, aquella que est\u00e1 destinada a la transmisi\u00f3n de se\u00f1ales conmutadas de voz con acceso generalizado al p\u00fablico, siendo utilizada por una E.S.P, y construida y operada bajo el r\u00e9gimen de la ley 142,pues no son redes telef\u00f3nicas conmutadas aquellas que se destinan a servicios diferentes o que se encuentran regidas por disposiciones diferentes a dicha ley.  6. En cuanto al art\u00edculo 14.26 se refiere, la comunicaci\u00f3n debe realizarse entre abonados de un mismo municipio.  7. En cuanto al art\u00edculo 14.27 de la ley 142, por expresa disposici\u00f3n legal,  TPBCLD ser\u00e1 el servicio que cumpla con las caracter\u00edsticas mencionadas en los   127 numerales 1 a 5 del apartado anterior, cuando se presta entre localidades del territorio nacional o entre \u00e9stas en conexi\u00f3n con el exterior.   As\u00ed las cosas, s\u00f3lo cuando se est\u00e9 en presencia de todas las caracter\u00edsticas arriba mencionadas, se podr\u00e1 hablar de TPBC. En relaci\u00f3n con los servicios de valor agregado, arriba definido, cabe se\u00f1alar que el Decreto de 2003, modificado por el decreto 3055 del mismo a\u00f1o, reglamenta la prestaci\u00f3n de servicios y los define as\u00ed:   \u201cServicios de Valor Agregado: Son aquellos que utilizan como soporte de servicios b\u00e1sicos, telem\u00e1ticos, de difusi\u00f3n o cualquier combinaci\u00f3n de estos, prestados a trav\u00e9s de una red de telecomunicaciones autorizada, y con ellos proporcionan al usuario la capacidad completa para el env\u00edo o intercambio de informaci\u00f3n, agregando otras facilidades al servicio soporte o satisfaciendo necesidades espec\u00edficas de telecomunicaciones. Para que el servicio de Valor Agregado se diferencie del servicio b\u00e1sico, es necesario que el usuario de aquel reciba de manera directa alguna facilidad agregada a dicho servicio, que le proporcione beneficios adicionales, independientemente de la tecnolog\u00eda o el terminal utilizado; o que el operador deservicios de Valor Agregado efect\u00fae procesos l\u00f3gicos sobre la informaci\u00f3n que posibiliten una mejora, adici\u00f3n o cambio al contenido de la informaci\u00f3n de manera tal que genere un cambio neto de la misma independientemente del terminal utilizado.\u201d   En ese sentido, los servicios de valor agregado, en el marco del decreto ley 1900 de 1990, as\u00ed como del decreto reglamentario, tienen las siguientes caracter\u00edsticas:  \u2022 Utilizan como soporte de servicios b\u00e1sicos, telem\u00e1ticos, de difusi\u00f3n o cualquier combinaci\u00f3n de estos  \u2022 Son prestados a trav\u00e9s de una red de telecomunicaciones autorizada    128 \u2022 Con los servicios que le sirven de soporte, proporcionan al usuario la capacidad completa para el env\u00edo o intercambio de informaci\u00f3n \u2022 Agregan otras facilidades al servicio soporte o satisfacen necesidades espec\u00edficas de telecomunicaciones \u2022 Se diferencian del servicio b\u00e1sico que le sirve de soporte, para lo cual es necesario: \u2022 Que el usuario del servicio de valor agregado reciba de manera directa alguna facilidad agregada al servicio b\u00e1sico que le sirve de soporte y que la misma le proporcione beneficios adicionales, independientemente de la tecnolog\u00eda o el terminal utilizado; O que el operador de servicios de Valor Agregado efect\u00fae procesos l\u00f3gicos sobre la informaci\u00f3n que posibiliten una mejora, adici\u00f3n o cambio al contenido de la informaci\u00f3n de manera tal que genere un cambio neto de la misma independientemente del terminal utilizado.    Para aclarar en qu\u00e9 categor\u00eda se deben catalogar los servicios de Voz que utilizan tecnolog\u00eda IP, se debe analizar cada una de las definiciones y sus caracter\u00edsticas. Si el servicio de VoIP cumple con dichas caracter\u00edsticas, se  tipificar\u00e1 en alguno de estos grupos.        _________________________________________________________________ 21 Consultado en internet el [18 de abril de 2011] en http://201.234.78.217/mincom/documents/portal/documents/root/Valor%20agregado%20y%20telematico%201.pdf  ", "language": "PDF", "image": "PDF", "pagetype": "PDF", "links": "PDF"}